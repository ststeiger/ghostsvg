<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>Include Path and Fonts</TITLE>
</HEAD>
<BODY>
<H1>Include Path and Fonts</H1>
Most of this information applies to Ghostscript 3.53 and Ghostscript 4.0.
Some of it does NOT apply to Ghostscript 4.0.  See the Ghostscript 4.0
documentation for up to date information.
<HR><A NAME="111">
<H2>Include Path</H2></A>
<P>Ghostscript needs to read some initialisation files during startup, 
and needs to read font files before drawing text. 
When used on a PC with GSview, it is normal to tell Ghostscript where to 
find these files using the Ghostscript <B>-I</B> command line switch. 
Alternatively, the <B>GS_LIB</B> environment variable can be used. 
See below for details for Unix or VMS. 
<P>The <B>-I</B> switch or <B>GS_LIB</B> environment variable contains a list of  
directories to search for the required initialisation files. 
On a PC, it is normal to put the initialisation files in the 
same directory as the Ghostscript program.  If Ghostscript is in 
c:\gs, then <B>-Ic:\gs</B> would be used as a command line option to 
Ghostscript. 
<P>Ghostscript also needs to find font files.  The list of fonts known to 
Ghostscript is contained in the <A HREF="#228">Fontmap</A> file.  The directories which 
contain these fonts should be added to the <B>-I</B> switch. 
If the Ghostscript *.gsf fonts are in c:\gs\fonts, and some other 
*.pfb fonts are in c:\psfonts, then <B>-Ic:\gs;c:\gs\fonts;c:\psfonts</B> 
would be used as a command line option to Ghostscript on a PC. 
<P>Under Unix or VMS with Ghostview, the include path should have been 
configured when Ghostscript was compiled. 
If not,  and Ghostview is being used, use the <B>GS_LIB</B> environment 
variable instead of <B>-I</B>. 
The Ghostscript include files are generally not put in the same 
directory as the executable under Unix.  Instead the executable 
might be in 
<PRE>
 /usr/local/bin
</PRE>
<P>while the include files are in 
<PRE>
 /usr/local/lib/ghostscript/gs3.33
</PRE>
<P>and the fonts in 
<PRE>
 /usr/local/lib/ghostscript/fonts
</PRE>
<P>Consequently, the <B>GS_LIB</B> environment variable would need to 
be set to 
<PRE>
 /usr/local/lib/ghostscript/gs3.33:/usr/local/lib/ghostscript/fonts
</PRE>
<P>It is to be hoped that these were set as the default when Ghostscript 
was compiled, and that it is unnecessary to use <B>GS_LIB</B>. 
<P>For more information, see the following topic. 
<P>
<A HREF="#153">File searching</A><BR>
<P>
<HR><A NAME="153">
<H3>File searching</H3></A>
<P>(from Ghostscript use.doc) 
<P>When looking for the initialisation files (gs_*.ps), the files related to 
fonts (Fontmap, *.pfa, *.pfb, *.gsf), or the file for the 'run' operator, 
Ghostscript first checks whether 
the file name specifies an explicit directory or drive (i.e., doesn't begin 
with '/' on Unix systems; doesn't contain a ':' or begin with a '/' or '\' 
on MS-DOS systems; doesn't contain a ':' or a square bracket on VMS 
systems).  If it does, Ghostscript simply tries to open the file using the 
given name.  Otherwise, Ghostscript will try directories in the following 
order: 
<P>1. The directory/ies specified by the -I switch(es) in the command 
line (see below), if any; 
<P>2. The directory/ies specified by the GS_LIB environment variable, 
if any; 
<P>3. The directory/ies specified by the GS_LIB_DEFAULT macro in the 
Ghostscript makefile, if any. 
<P>Each of these (GS_LIB_DEFAULT, GS_LIB, and -I parameter) may be either a 
single directory, or a list of directories separated by a character 
appropriate for the operating system (':' on Unix systems, ';' on VMS 
systems, ';' on MS-DOS systems). 
Ghostscript 3.12 use.doc states that: 
<PRE>
 Note that Ghostscript does *not* attempt to open the file
 in the current directory.  This is consistent with common
 practice on Unix, but it is different from the usual 
 practice on MS-DOS.
</PRE>
<P>This is incorrect.  Ghostscript does search in the current directory. 
<P>
<P>
<HR><A NAME="186">
<H2>Fonts</H2></A>
<P>Ghostscript locates fonts in two ways: 
<P>1. Those listed explicitly in <A HREF="#228">Fontmap</A> 
<P>2. Font files found in directories listed in the <A HREF="#289">GS_FONTPATH</A> environment 
variable. 
<P>Those listed in the <A HREF="#228">Fontmap</A> file should be locatable on the Ghostscript 
include path, or should have fully qualified paths.  Note that 
you must use / or \\ and must not use \ within a directory name. 
<P>Ghostscript comes with a number of free fonts, most with a .gsf 
extension.  These are ordinary Type 1 fonts (although they cannot 
be used with Adobe Type Manager).  The Ghostscript fonts can be 
broken into three main classes: 
<P>1. Type 1 outline fonts with hinting (most *.pfa).  These produce 
good quality output.  The standard Fontmap file uses these in 
preference to the other font types.  There are relatively few of 
these fonts. 
<P>2. Type 1 outline fonts that have been created from bitmap fonts 
(p*.gsf, z*.gsf, etc.).  These produce poor quality output. 
Avoid them if at all possible. 
A full set of the common 35 PostScript fonts is available. 
<P>3. Type 1 stroked fonts created from the public domain Hershey fonts 
(h*.gsf, h*.pfa).  These produce moderate quality output, but do 
not correspond to standard PostScript fonts. 
<P>If you have some other Type 1 outline fonts (*.pfa, *.pfb), it is 
possible to use these with Ghostscript.  Whether or not you are 
allowed to do this depends on the font licence.  If you do use 
these fonts with Ghostscript, it is <B>your</B> responsibility to make 
sure that the font licence permits this use. 
To use the other Type 1 fonts, you will need to replace or edit 
the <A HREF="#228">Fontmap</A> file.  The reason for using these other Type 1 fonts 
is that they are almost certainly of better quality than the Type 1 
bitmap derived fonts supplied with Ghostscript.  However, good 
quality fonts are not usually free. 
<P>
<A HREF="#228">Fontmap</A><BR>
<A HREF="#289">GS_FONTPATH</A><BR>
<A HREF="#312">Platform Fonts</A><BR>
<P>
<HR><A NAME="228">
<H3>Fontmap</H3></A>
<P>The <B>Fontmap</B> file tells Ghostscript what fonts are available 
and where to find them. 
Each line in <B>Fontmap</B> may be one of the following: 
<P>1. A comment.  These are lines that start with a % 
<PRE>
   % fontmap aka Fontmap - standard font catalog for Ghostscript.
</PRE>
<P><P>2. A font name and file name.  For example 
<PRE>
   /Courier                (ncrr.pfa)      ;
   /Courier-Italic         (ncrri.pfa)     ;
</PRE>
<P>The first of these lines says that the font name <B>Courier</B> is to 
be found in the file <B>ncrr.pfa</B>. 
The file <B>ncrr.pfa</B> must contain a font named Courier. 
If the name is not Courier then a font alias must be used. 
This is described later. 
Note that the file name is a PostScript string and so \ has a  
special meaning.   
If <B>ncrr.pfa</B> was in the c:\gs\fonts directory, you would need to  
have <B>c:\gs\fonts</B> as one of the directories listed in the include path,  
or you would need to use the file name (c:/gs/fonts/ncrr.pfa) or 
(c:\\gs\\fonts\\ncrr.pfa).  Using / is preferred to \\. 
<P>3. A font alias. For example 
<PRE>
   /Courier-Oblique                /Courier-Italic         ;
</PRE>
<P>This tells Ghostscript that if Courier-Oblique is requested, 
Courier-Italic is to be used instead. 
The standard Fontmap file uses aliases to replace poor quality 
bitmap-derived fonts with good quality hinted outline fonts. 
Ghostscript has a bitmap derived version of the Helvetica font 
in the file phvr.gsf.  The Fontmap file could instruct Ghostscript 
to use this with the following line: 
<PRE>
   /Helvetica                      (phvr.gsf)      ;
</PRE>
<P>However, the NimbusSansL-Regular font looks like Helvetica and is 
a better quality font, so the default Fontmap file actually uses 
<PRE>
   /Helvetica                      /NimbusSansL-Regular    ;
   /NimbusSansL-Regular            (n019003l.gsf)  ;
</PRE>
<P>A description of the required formatting for each line is near 
the top of each <B>Fontmap</B> file. 
<P>Ghostscript comes with a number of alternate <B>Fontmap</B> files. 
These include 
<PRE>
 Fontmap        The standard fontmap file
 Fontmap.ATB    For Adobe Type Basics (65 Type 1 fonts)
 Fontmap.ATM    For Adobe Type Manager (13 fonts)
 Fontmap.OS2    For Type 1 fonts shipped with OS/2 (13 fonts)
 Fontmap.OSF    For DEC OSF/1 systems
 Fontmap.Ult    For DEC Ultrix systems
 Fontmap.VMS    For VAX/VMS systems with DECwindows/Motif
</PRE>
<P>If you want to use one of the alternate Fontmap files, the procedure 
is as follows: 
<P>1. Copy Fontmap to Fontmap.old 
<P>2. Copy Fontmap.??? (your selected Fontmap file) to Fontmap 
<P>3. Add the directory that contains the Type 1 fonts to the 
include path (<B>-I</B> or <B>GS_LIB</B>) 
<P>
<P>
<HR><A NAME="289">
<H3>GS_FONTPATH</H3></A>
<P>(From Ghostscript use.doc) 
<P>When Ghostscript starts up, it also looks at the <B>GS_FONTPATH</B> environment 
variable, which is also a list of directories.  It goes to those 
directories and looks for all files that appear to contain PostScript 
fonts; it then effectively adds all those files and fonts to its internal 
copy of the Fontmap (the catalog of fonts and the files that contain 
them).  If you are using one of the following types of computer, you may 
wish to set <B>GS_FONTPATH</B> to the indicated value so that Ghostscript will 
automatically acquire all the installed Type 1 fonts: 
<P><PRE>
   System type             GS_FONTPATH
   -----------             -----------
   AIX                     /usr/lpp/DPS/fonts/outlines
   NeXT                    /NextLibrary/Fonts/outline
   OSF/1                   /usr/lib/X11/fonts/Type1Adobe
   Silicon Graphics        /usr/lib/DPS/outline/base
   Sun (Solaris 2.3)       /usr/openwin/lib/X11/fonts/Type1/outline
   Ultrix                  /usr/lib/DPS/outline/decwin
</PRE>
<P>See also <A HREF="#228">Fontmap</A>. 
<P>
<P>
<HR><A NAME="312">
<H3>Platform Fonts</H3></A>
<P>Platform fonts are described in Ghostscript fonts.doc. 
<P>The bitmap derived fonts used by Ghostscript are of poor quality.   
The computer hosting Ghostscript may have the same fonts in better  
quality versions, either as scalable fonts (e.g. Type 1 or TrueType)  
or as bitmaps. 
To improve the display of documents, Ghostscript can use these 
<B>platform fonts</B> instead of using the low quality fonts. 
<P>This can be illustrated with an example.  The default /Helvetica-Bold 
font is phvb.gsf, an outline font derived from a bitmap.  When the 
/Helvetica-Bold font is requested, phvb.gsf is read.  When a character 
is to be rendered to the display, Ghostscript instead asks MS-Windows 
for the Helvetica-Bold font at the appropriate size.  MS-Windows then 
draws the requested character from the TrueType Arial Bold font, and 
Ghostscript puts it on the display.  The resulting output is of better 
quality than the /Helvetica-Bold bitmap derived font. 
<P>In another example, the same request for /Helvetica-Bold under  
Unix/X11 might instead display characters using a prebuilt bitmap 
font if one is available in the requested size. 
<P>There are some limitations to using <B>Platform fonts</B>. 
<P>1. Platform fonts are only used for upright (Portrait) characters.   
Rotated characters will be displayed using the original PostScript font. 
<P>2. A PostScript version of the required font must be available. 
This is needed to obtain character bounding box information, 
encoding vector for character sets, and drawing rotated characters. 
<P>3. Platform fonts may only used for a limited range of sizes. 
For example, MS-Windows only uses platform fonts for 6 to 36 point 
fonts. 
<P>4. MS-Windows lies about the available font sizes.  Ghostscript asks for 
a particular font size and MS-Windows returns a font that it claims 
is the same size.  However MS-Windows may instead return a font 
of a different size that it thinks will look better.  Often it 
looks worse because the intercharacter spacing is out of proportion 
to the character size.  If this happens, platform fonts can be 
disabled by adding -dNOPLATFONTS to the Ghostscript Command Line. 
<P>5. Platform fonts will only be used for the display.  Output to 
printer devices will continue to use the PostScript font. 
<P> 
MS-Windows Ghostscript has a fixed alias table for fonts. 
In the table below, the name on the left is the name of the  
PostScript font, and the name on the right is the name that 
Ghostscript will try if MS-Windows doesn't know the PostScript  
name. 
<PRE>
 Courier         Courier New
 Helvetica       Arial
 Helvetica       Helv
 Times           Times New Roman
 Times           Tms Rmn
</PRE>
<P>Platform fonts are not supported under OS/2. 
<P>Not yet written: 
Unix/X11 Ghostscript may have an ability to use Xresources to 
specify font aliases.  If this is the case, then the method should 
be described here. 
<P>
<P>

<P>
<HR>
<A HREF="../index.html"><IMG SRC="../pics/ghome.gif" ALT="Home" WIDTH=32 HEIGHT=32></A>
<A HREF="index.html"><IMG SRC="../pics/gback.gif" ALT="Back" WIDTH=32 HEIGHT=32></A>
<hr>
Updated 5 Jan 1995
by <A HREF="../rjl.html">Russell Lang</A>.
</BODY>
</HTML>
