*** master/510/gs5.10/pdf_font.ps	Wed Jun 10 11:19:02 1998
--- pdf_font.ps	Thu Jun 25 14:44:52 1998
***************
*** 100,106 ****
  		% specify different widths for the same character name
  		% appearing multiple times in the Encoding.
! 	 Metrics 2 index .knownget not { 0 } if 0 ne
! 	  { pop pop }
! 	  { Metrics 3 1 roll put }
  	 ifelse pop
         }
--- 101,115 ----
  		% specify different widths for the same character name
  		% appearing multiple times in the Encoding.
! 	 Metrics 2 index .knownget not { 0 } if 0 ne {
! 	   pop pop
! 	 } {
! 		% Work around a bug in pdfTeX, which can generate Encoding
! 		% vectors containing nulls.
! 	   1 index null ne {
! 	     Metrics 3 1 roll put
! 	   } {
! 	     pop pop
! 	   } ifelse
! 	 }
  	 ifelse pop
         }
***************
*** 113,117 ****
        Encoding
         {	% Stack: font font-res mscale missing-width metrics charname
! 	 2 copy known not { 2 copy 4 index put } if pop
         }
        forall pop pop pop
--- 122,131 ----
        Encoding
         {	% Stack: font font-res mscale missing-width metrics charname
! 		% Work around the abovementioned pdfTeX bug.
! 	 dup null ne {
! 	   2 copy known not { 2 copy 4 index put } if pop
! 	 } {
! 	   pop
! 	 } ifelse
         }
        forall pop pop pop
