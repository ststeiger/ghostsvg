From: ansgar@i3.informatik.rwth-aachen.de (Ansgar Radermacher)
Newsgroups: comp.lang.postscript
Subject: BJC-610, ghostscript, 720dpi
Date: 14 Jun 1996 15:28:14 GMT
Organization: Informatik III, RWTH Aachen
Message-ID: <4ps0ee$e5p@news.rwth-aachen.de>



	Hello,

there might be good news for the BJC-610 users. I found a bug in
gs3.53, which prevents 720 dpi printing (using the bjc600 driver)!

I looked closer at the generated printer code from ghostscript in order
to compare it with the code from the OS/2 driver. I noticed that
the produced code is wrong (here the example for 360 dpi):
                                                    vv
000020 14  0 1b 28 63  3  0 14  0  0 1b 28 64  2  0> 0< ...(c......(d...
000030 68 1b 28 65  2  0  0 89 1b 28 41 31  0 4b  0 40  h.(e.....(A1.K.@

The code marked at the end of the first line, contains the higher byte
for the resolution setting. In this case 360 dpi should led to 1 68 (and
not 0 68). This bug has (strangely) no effect for 360 dpi, but prevents
720 dpi printing.
A look at the code revealed the reason for this error:

    resolution[0] = ((byte) pdev->x_pixels_per_inch) / 256; // always 0 !!
    resolution[1] = ((byte) pdev->x_pixels_per_inch) % 256;

which might be changed to:

    resolution[0] = (byte) ((int) pdev->x_pixels_per_inch / 256);
    resolution[1] = (byte) ((int) pdev->x_pixels_per_inch % 256);

After applying this patch call gs with the explicit option -r720x720.

I have just started to make first tests on plain paper. The output looks too
dark (higher resolution => more ink?), maybe more fine tuning is needed. I
don't know, if additional undocumented commands --e.g. to control the dot-size--
are needed.


Ansgar

--
Ansgar Radermacher                        \\ Department of Computer Science III
mailto:ansgar@i3.Informatik.RWTH-Aachen.DE \\  University of Technology, Aachen
                                            \\                     Ahornstr. 55
phone: +49 241 8021 311                      \\                    52074 Aachen
fax:   +49 241 8888 218                       `--------------------------------
www:   http://hobbes.informatik.rwth-aachen.de/~ansgar
