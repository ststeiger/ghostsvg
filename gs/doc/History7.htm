<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>History of Ghostscript versions 7.n</title>
<!-- $Id$ -->
<!--
	WARNING: do not use Pete Kaiser's emacs function "gs-toc" alone to
	re-create the table of contents here, because it will replace the
	hand-edited TOC subheads with a separate subhead for each H2 in
	the body of the file.  Or if you do, first look at the original
	TOC to see how to edit it for visual conciseness.
-->
<link rel="stylesheet" type="text/css" href="gs.css" title="Ghostscript Style">
</head>

<body>
<!-- [1.0 begin visible header] ============================================ -->

<!-- [1.1 begin headline] ================================================== -->

<table width="100%" border="0">
<tr><th align="center" bgcolor="#CCCC00"><font size=6>History of Ghostscript versions 7.xx</font>
</table>

<!-- [1.1 end headline] ==================================================== -->

<!-- [1.2 begin table of contents] ========================================= -->

<h2>Table of contents</h2>

<blockquote><ul>
<li><a href="#Version7.22">Version 7.22 (2002-08-06)</a>
<ul>
<li><a href="#7.22_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.22-Documentation">Documentation</a>,
    <a href="#7.22-Procedures">Procedures</a>,
    <a href="#7.22-Utilities">Utilities</a>,
    <a href="#7.22-Drivers">Drivers</a>,
    <a href="#7.22-PDF_writer">PDF writer</a>,
    <a href="#7.22-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.22-Interpreter">Interpreter</a>,
    <a href="#7.22-Library">Library</a>
</ul>
<li><a href="#Version7.21">Version 7.21 (2002-07-08)</a>
<ul>
<li><a href="#7.21_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.21-Documentation">Documentation</a>,
    <a href="#7.21-Procedures">Procedures</a>,
    <a href="#7.21-Utilities">Utilities</a>,
    <a href="#7.21-Drivers">Drivers</a>,
    <a href="#7.21-PDF_writer">PDF writer</a>,
    <a href="#7.21-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.21-Interpreter">Interpreter</a>,
    <a href="#7.21-Streams">Streams</a>,
    <a href="#7.21-Library">Library</a>,
    <a href="#7.21-Other">Other</a>
</ul>
<li><a href="#Version7.20">Version 7.20 (2002-04-03)</a>
<ul>
<li><a href="#7.20_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.20-Documentation">Documentation</a>,
    <a href="#7.20-Procedures">Procedures</a>,
    <a href="#7.20-Utilities">Utilities</a>,
    <a href="#7.20-Drivers">Drivers</a>,
    <a href="#7.20-PDF_writer">PDF writer</a>,
    <a href="#7.20-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.20-Interpreter">Interpreter</a>,
    <a href="#7.20-Streams">Streams</a>,
    <a href="#7.20-Library">Library</a>,
    <a href="#7.20-Other">Other</a>
</ul>
<li><a href="#Version7.03">Version 7.03 (2001-10-20)</a>
<ul>
<li><a href="#7.03_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.03-Documentation">Documentation</a>,
    <a href="#7.03-Procedures">Procedures</a>,
    <a href="#7.03-Utilities">Utilities</a>,
    <a href="#7.03-Drivers">Drivers</a>,
    <a href="#7.03-PDF_writer">PDF writer</a>,
    <a href="#7.03-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.03-Interpreter">Interpreter</a>,
    <a href="#7.03-Streams">Streams</a>,
    <a href="#7.03-Library">Library</a>,
    <a href="#7.03-Other">Other</a>
</ul>
<li><a href="#Version7.02">Version 7.02 (2001-09-22)</a>
<ul>
<li><a href="#7.02_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.02-Documentation">Documentation</a>,
    <a href="#7.02-Procedures">Procedures</a>,
    <a href="#7.02-Utilities">Utilities</a>,
    <a href="#7.02-Drivers">Drivers</a>,
    <a href="#7.02-PDF_writer">PDF writer</a>,
    <a href="#7.02-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.02-Interpreter">Interpreter</a>,
    <a href="#7.02-Streams">Streams</a>,
    <a href="#7.02-Library">Library</a>,
    <a href="#7.02-Other">Other</a>
</ul>
<li><a href="#Version7.00">Version 7.00 (2001-04-08)</a>
<ul>
<li><a href="#7.00_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.00-Documentation">Documentation</a>,
    <a href="#7.00-Procedures">Procedures</a>,
    <a href="#7.00-Utilities">Utilities</a>,
    <a href="#7.00-PDF_writer">PDF writer</a>,
    <a href="#7.00-Interpreter">Interpreter</a>,
    <a href="#7.00-Library">Library</a>
</ul>
</ul></blockquote>

<!-- [1.2 end table of contents] =========================================== -->

<!-- [1.3 begin hint] ====================================================== -->

<p>
This document is a record of changes in Ghostscript releases numbered 7.xx.
For earlier versions, see the the history documents:

<blockquote>
<a href="History6.htm">History of Ghostscript versions 6.n</a><br>
<a href="History5.htm">History of Ghostscript versions 5.n</a><br>
<a href="History4.htm">History of Ghostscript versions 4.n</a><br>
<a href="History3.htm">History of Ghostscript versions 3.n</a><br>
<a href="History2.htm">History of Ghostscript versions 2.n</a><br>
<a href="History1.htm">History of Ghostscript versions 1.n</a>
</blockquote>

<p>For other information, see the <a href="Readme.htm">Ghostscript
overview</a>.

<!-- [1.3 end hint] ======================================================== -->

<hr>

<!-- [1.0 end visible header] ============================================== -->

<!-- [2.0 begin contents] ================================================== -->

<p>
Within each release, news appears in the following order: Incompatible
changes, Documentation, Procedures, Utilities, Drivers, Platforms, Fonts,
PDF writer (included under Drivers through fileset 5.88), Interpreter,
Streams (included under Interpreter through release 2.9.9), Library.
Changes marked with a * were made available as patches to a previous
release.

<hr>

<h1><a name="Version7.22"></a>Version 7.22 (2002-08-06)</h1>

<p>
This release integrates the rewritten pdfwrite font copying code,
fixing a large class of pdfwrite bugs involving incremental font
updating. This project was completed before the DeviceN merge was
ready, so this release (rather than 7.21 as previously stated) is
the final checkpoint prior to the DeviceN merge. 

<p>
Overall, pdfwrite is probably an improvement over previous releases,
but there are still known issues. Testing of pdfwrite with real-world
files is encouraged.

<p>
The following SourceForge bug numbers were open at the time of the last release:
405342,
407342,
414947,
414985,
423838,
427347,
432040,
434277,
446344,
446672,
453969,
458261,
458775,
458780,
459647,
465720,
465936,
468762,
474745,
482038,
484752,
484753,
485510,
487953,
493348,
495319,
498595,
505429,
508081,
509646,
510808,
511232,
513905,
514616,
517349,
521916,
526099,
526491,
530011,
530588,
533467,
535366,
535752,
535836,
538033,
539239,
542848,
543185,
546823,
551565,
552989,
554076,
555496,
557177,
558151,
558435,
559614,
560508,
562103,
563287,
565790,
567421,
567487,
567604,
567773,
569573,
570181,
570772,
571980,
572119,
573744,
576586,
576591,
578838,
578865,
580029,
580873,
581420,
582471,
583413,
584713,
584990,
586178,
586595,
589244,
590307,
590979,
591039,
591326.

<p>The nightly regression tests show many changes. However, most of
the non-pdf regressions are tiny changes resulting in comparing a
debug build against a non-debug baseline. The rendering really
shouldn't be different at all, so we're leaving these regressions open
until we can fix the discrepancy. On the pdfwrite side, most of the
regressions are actually improvements, but there are some known
issues.  Notably, the "same_font" function is incorrect, and deriving
several fonts from a standard font, replacing Metrics or Metrics2
only, pdfwrite incorrectly merges them into a single font. This causes
a regression with 093-01.ps and probably other test files.

<h3><a name="7.22_Incompatible_changes"></a>Incompatible changes</h3>

<pre>
</pre>


<h2><a name="7.22-Documentation"></a>Documentation</h2><pre>

Minor tweaks to release process, based on 7.21 experience.
(doc/Release.htm [1.63]: 2002/07/09 07:23:07 raph)

Bump version number to 7.22 as final commit in 7.21 process.
(doc/News.htm [1.108]: 2002/07/09 07:42:10 raph)

Remove Russell Lang's name from most man pages. Correct Russell Lang's email
address. (man/dvipdf.1 [1.16], man/font2c.1 [1.16], man/gs.1 [1.16],
man/gslp.1 [1.16], man/gsnd.1 [1.16], man/pdf2dsc.1 [1.16],
man/pf2afm.1 [1.16], man/pfbtopfa.1 [1.17], man/printafm.1 [1.16],
man/ps2pdf.1 [1.20], man/ps2pdfwr.1 [1.19], man/wftopfa.1 [1.16]: 2002/07/10
12:19:44 ghostgum)

Remove Russell Lang's name from most man pages. Correct Russell Lang's email
address. (man/de/dvipdf.1 [1.2], man/de/font2c.1 [1.2], man/de/gsnd.1 [1.3],
man/de/pdf2dsc.1 [1.2], man/de/printafm.1 [1.2], man/de/ps2pdf.1 [1.2],
man/de/wftopfa.1 [1.2]: 2002/07/10 12:22:12 ghostgum)

Changes all references to L. Peter Deutsch as the author of Ghostscript to
refer to artofcode LLC and Artifex Software as the maintainers of
Ghostscript. (doc/New-user.htm [1.39], doc/Use.htm [1.55],
man/ansi2knr.1 [1.4], man/dvipdf.1 [1.17], man/eps2eps.1 [1.4],
man/font2c.1 [1.17], man/gs.1 [1.17], man/gslp.1 [1.17], man/gsnd.1 [1.17],
man/pdf2ps.1 [1.18], man/pdfopt.1 [1.16], man/pf2afm.1 [1.17],
man/pfbtopfa.1 [1.18], man/printafm.1 [1.17], man/ps2ascii.1 [1.16],
man/ps2pdf.1 [1.21], man/ps2pdfwr.1 [1.20], man/ps2ps.1 [1.23],
man/wftopfa.1 [1.17]: 2002/07/11 02:54:22 lpd)

Upgrading ps2pdf.htm about pdfwrite/pdxtext. (doc/Ps2pdf.htm [1.44]:
2002/07/31 10:00:57 igor)

First commit in 7.22 release process: date and News updates.
(doc/News.htm [1.109]: 2002/08/06 23:10:40 raph)

</pre><h2><a name="7.22-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Renaming few variables in devs.mak for better clarity.
(devs.mak [1.68]: 2002/07/18 18:03:15 igor)
	- Changed make_two_versions to use the logging system.
(toolbin/tests/make_two_versions [1.5]: 2002/07/23 16:37:51 jack)
	- remove spurious build of the gtk client along with the macos
framework. (macos-fw.mak [1.5]: 2002/08/05 16:21:12 giles)

Bump version number to 7.22 as final commit in 7.21 process.
(version.mak [1.48]: 2002/07/09 07:42:10 raph)

Adds a procedure for testing whether a string was returned by
gs_c_glyph_name. Allows the font copying code to share these strings,
substantially reducing the load on the garbage collector.
(toolbin/encs2c.ps [1.3]: 2002/07/09 14:04:19 lpd)

Switching on the new pdfwrite/pdxtext code. (devs.mak [1.69]: 2002/07/26
07:27:19 igor)

First commit in 7.22 release process: date and News updates.
(version.mak [1.49]: 2002/08/06 23:10:40 raph)

</pre><h2><a name="7.22-Utilities"></a>Utilities</h2><pre>

Changes all references to L. Peter Deutsch as the author of Ghostscript to
refer to artofcode LLC and Artifex Software as the maintainers of
Ghostscript. (lib/prfont.ps [1.6], lib/ps2epsi.ps [1.9]: 2002/07/11 02:54:22
lpd)

</pre><h2><a name="7.22-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- When compiled for A4 default page size, the initial page size is
now 595x842pts. The initial printer page size in tenths of an inch now uses
floating point. This may cause problems with old compilers that do not allow
floating point calculations in initializers for integers. Add some casts to
suppress warnings with the MS compiler. Fixes SourceForge bug #535997,
"ps2pdf produces incorrect A4 page size". (gdevbmpc.c [1.5]: 2002/07/18
11:01:44 ghostgum)

</pre><h2><a name="7.22-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Fixes the last (?) major batch of problems in the new pdfwrite
text code. We think this code is now good enough for general testing: search
for PDTEXT in src/devs.mak for information on how to enable it.
(gdevpdtc.c [1.6], gdevpdte.c [1.7], gdevpdtf.c [1.9], gdevpdti.c [1.4],
gdevpdts.c [1.9], gdevpdts.h [1.5], gdevpdtt.c [1.6], gdevpdtt.h [1.4],
gdevpdtw.c [1.5]: 2002/07/09 14:29:35 lpd)
	- (pdfwrite) Enforce compression choice on end of image; do not
choose with zero output length. (gdevpdfj.c [1.22]: 2002/07/15 19:25:11
igor)
	- (pdfwrite) Fixing the image dimensions for the alternative
compression stream. Source Forge bug "[ 574865 ] ioerror only with
PDFSETTINGS=/screen" (gdevpdfi.c [1.40]: 2002/07/15 19:34:17 igor)
	- Always write FontBBox into CFF, even though the spec says it's
optional, to work around a problem when printing the resulting file with
Adobe Acrobat Reader 4 to HP PostScript printers. Source Forge bug "[ 578899
] Missing /FontBBox when converting to ps?" (gdevpdfe.c [1.18],
gdevpdtb.c [1.5], gdevpdtb.h [1.3], gdevpdtd.c [1.4]: 2002/07/19 13:35:59
igor)
	- (pdfwrite) Quiet Cygwin/gcc warnings. (gdevpdfe.c [1.19],
gdevpdfs.c [1.23], gdevpdtc.c [1.7]: 2002/07/19 14:51:27 igor)
	- Fixing an unbalanced '&gt;&gt;' in pdf_write_CIDSet().
(gdevpdtb.c [1.6]: 2002/07/20 08:21:37 igor)
	- (pdfwrite) Standard font names were erroneously suffixed. Source
Forge bug "[ 557024 ] (pdfwrite) Font display incorrect" This changes old
pdfwrite only. The new one was patched separately. (gdevpdff.c [1.31]:
2002/07/31 09:23:32 igor)

pdfwrite: implementing WMode 1 for simple fonts. (gdevpdte.c [1.8],
gdevpdtf.c [1.10], gdevpdtf.h [1.4], gdevpdtt.c [1.7], gdevpdtt.h [1.5]:
2002/07/24 07:45:28 igor)

pdfwrite/pdxtext: fixing the decision about font embedding for the case when
a source document uses both standard and non-standard fonts with same name.
(gdevpdtf.c [1.11]: 2002/07/24 13:40:04 igor)

pdfwrite/pdxtext: Generate uniquie font names for embedded fonts for
compatibility with Acrobat Reader 3. (gdevpdtb.c [1.7]: 2002/07/24 16:18:48
igor)

pdfwrite/pdxtext: Fixing a possibly uninitialized variable.
(gdevpdtf.c [1.12]: 2002/07/24 16:27:41 igor)

pdfwrite/pdxtext: Fixing WMode 1 for simple fonts that have no Metrics2.
(gdevpdte.c [1.9]: 2002/07/24 18:58:28 igor)

pdfwrite/pdxtext: TJ arguments were computed without accounting Tc.
(gdevpdts.c [1.10]: 2002/07/25 19:11:38 igor)

pdfwrite/pdxtext: TJ arguments were inaccurately rounded.
(gdevpdts.c [1.11]: 2002/07/29 08:42:39 igor)

pdfwrite/pdxtext: (1) Widths were computed wrongly, (2) standard fonts
missed Widths. (gdevpdtw.c [1.6]: 2002/07/29 11:47:19 igor)

</pre><h2><a name="7.22-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- When using -dUseCropBox, use an inherited CropBox. The previous
fix would only use a CropBox on the page being displayed.
(lib/pdf_main.ps [1.54]: 2002/07/18 10:46:06 ghostgum)
	- If a 'stream' operator was followed by whitespace before the EOL,
then the fileposition was not at the start of the data. Add logic to allow
for this and also add a pdfformaterror if the EOL was a &lt;cr&gt; without a
&lt;lf&gt;. Fixes SourceForge bug 567612 for Artifex customer #1.
(lib/pdf_base.ps [1.27]: 2002/07/31 19:06:11 ray)

</pre><h2><a name="7.22-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- (FAPI) server_font_data were prematurely reset in zFAPIpassfont.
Thanks for Graham Asher for spotting this. Also fixes minor bugs in
comments. (ifapi.h [1.12], zfapi.c [1.22]: 2002/07/09 14:55:03 igor)
	- Avoid opstack overflow by explicit array construction, rather than
unpacking and padding on the stack, for padding of glyphencoding array.
Fixes SF bug #576651. (lib/gs_ttf.ps [1.16]: 2002/07/10 06:29:34 raph)
	- Adobe renders marks outside the ImagingBBox and QuarkXPress relies
on this. Maintain the ImagingBBox of the page device at the PostScript level
independently from the device parameter. There is a slight incompatibility
if programs that set the ImagingBBox incorrectly relied on this causing
clipping, which is prohibited by the PLRM. Programs that wish to directly
set the ImagingBBox device parameter can still do so from C or from PS using
the .putdeviceprops GS private operator. Fixes SF bug 570829 for Artifex
customer #411. (lib/gs_setpd.ps [1.12]: 2002/07/10 23:05:59 ray)
	- Add a predefined ColorRendering Resource named
/DefaultColorRendering since this is the name that GetSubstituteCRD will
return and also is the name expected by some software. SourceForge bug
#570217 for cust #150. (lib/gs_res.ps [1.24]: 2002/07/12 06:46:33 ray)
	- Results of zchar_get_metrics2 were missinterpreted.
(zchar1.c [1.20]: 2002/07/16 16:47:39 igor)
	- correct the ISO paper sizes in gs_statd.ps to match those in the
Adobe PPD specification, technical note 5003. Fixes SourceForge bug #536877,
"Paper sizes wrong in gs_statd.ps". (lib/gs_statd.ps [1.9]: 2002/07/18
10:41:53 ghostgum)
	- The addition of the function sampling logic for DeviceN tint
transforms (fix 474544) tripped over a bogus assumption in Adobe Procset for
DuoTones generated by (at least) Photoshop. The assumption was that if the
alternate color space of a DeviceN space was being used, that the procedure
would run when 'setcolor' was executed and that the stack would be
accessible during that procedure. This fixes several bug reports with
'/stackunderflow in pop' errors including SF #549307, 576577 and 582385 for
Artifex customers. Thanks to Dan Coby for the analysis and fix.
(lib/gs_lev2.ps [1.20], lib/gs_ll3.ps [1.15], zcolor2.c [1.9]: 2002/07/31
04:43:44 ray)

Bump version number to 7.22 as final commit in 7.21 process.
(lib/gs_init.ps [1.58]: 2002/07/09 07:42:10 raph)

Previous commit was botched because of improperly removed debugging code.
Second commit for fix of SF #576651. (lib/gs_ttf.ps [1.17]: 2002/07/10
06:53:24 raph)

pdfwrite: implementing WMode 1 for simple fonts. (zchar1.c [1.21]:
2002/07/24 07:45:28 igor)

FAPI project : WMode 1 was wrongly processed for base fonts.
(zfapi.c [1.23]: 2002/08/03 15:50:51 igor)

</pre><h2><a name="7.22-Library"></a>Library</h2><pre>

Fixes problems:
	- Fixes bugs in font copying (currently used only by the new
pdfwrite text code): TrueType glyphs with multiple names in CharStrings only
stored a single name; copied Encodings were initialized incorrectly to
.notdef rather than GS_NO_GLYPH; some of the procedures of copied TrueType
fonts weren't initialized correctly; 'seac' didn't copy the Encoding entries
for the components. Also shares the known glyph names when possible, to
reduce the load on the garbage collector. (gxfcopy.c [1.14],
gxfcopy.h [1.6]: 2002/07/09 14:26:45 lpd)
	- When compiled for A4 default page size, the initial page size is
now 595x842pts. The initial printer page size in tenths of an inch now uses
floating point. This may cause problems with old compilers that do not allow
floating point calculations in initializers for integers. Add some casts to
suppress warnings with the MS compiler. Fixes SourceForge bug #535997,
"ps2pdf produces incorrect A4 page size". (gdevprn.h [1.11],
gxdevice.h [1.9]: 2002/07/18 11:01:44 ghostgum)
	- Always write FontBBox into CFF, even though the spec says it's
optional, to work around a problem when printing the resulting file with
Adobe Acrobat Reader 4 to HP PostScript printers. Source Forge bug "[ 578899
] Missing /FontBBox when converting to ps?" (gdevpsf.h [1.20],
gdevpsf2.c [1.23]: 2002/07/19 13:35:59 igor)
	- (pdfwrite) Quiet Cygwin/gcc warnings. (gdevpsft.c [1.21]:
2002/07/19 14:51:27 igor)

Bump version number to 7.22 as final commit in 7.21 process.
(gscdef.c [1.22]: 2002/07/09 07:42:10 raph)

Adds a procedure for testing whether a string was returned by
gs_c_glyph_name. Allows the font copying code to share these strings,
substantially reducing the load on the garbage collector. (gscedata.c [1.4],
gscedata.h [1.3], gscencs.c [1.6], gscencs.h [1.4]: 2002/07/09 14:04:19 lpd)

pdfwrite: implementing WMode 1 for simple fonts. (gxfont.h [1.15]:
2002/07/24 07:45:28 igor)

First commit in 7.22 release process: date and News updates.
(gscdef.c [1.23]: 2002/08/06 23:10:40 raph)

</pre>
<hr>

<h1><a name="Version7.21"></a>Version 7.21 (2002-07-08)</h1>

<p>
This is a reasonably stable development snapshot, the last before the
DeviceN work gets merged in. In particular, this version is probably
the most stable pdfwrite version to date.

<p>
The following SourceForge bug numbers were open at the time of the last release:
405342,
407342,
414947,
414985,
415142,
423838,
427347,
432040,
434277,
446344,
446672,
453969,
458261,
458775,
458780,
459647,
462221,
465720,
465936,
468762,
474745,
482038,
484752,
484753,
485510,
487953,
493348,
495319,
498595,
503794,
505429,
506375,
508081,
509646,
510808,
511232,
513905,
514616,
517349,
521354,
521916,
522486,
524292,
526099,
526491,
528647,
529103,
529578,
530011,
530588,
533467,
535366,
535752,
535836,
535997,
536877,
538033,
538267,
539239,
542848,
543185,
546823,
549307,
551565,
552949,
552989,
554076,
555496,
557024,
557177,
558151,
558435,
559614,
560508,
562103,
563287,
565790,
567421,
567487,
567604,
567612,
567773,
569573,
570181,
570213,
570217,
570772,
570800,
570816,
570829,
571897,
571980,
572119,
573744,
574865,
576574,
576577,
576586,
576591,
576615,
576651.

<p>All the regression tests run correctly, with the following exceptions:
pdfwrite testing of 401-01.ps, which segfaults.

<h3><a name="7.21_Incompatible_changes"></a>Incompatible changes</h3>

<p>
<ul>
<li>
The file gs/lib/CIDFnmap used in Ghostscript 6.53 and 7.0x to map 
CIDFont resource is no longer supported. Now it is replaced with
gs/lib/cidfmap. TrueType font substition to CIDFont is not implemented yet.

</ul>

<pre>
</pre>

<h2><a name="7.21-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Changes the operation of AutoFilter{Gray,Color}Images to always
use the lossless filter (normally FlateEncode), rather than using DCTEncode
for 8-bit-per-component images at least 64x64 in size. While this isn't
optimal, it fixes a long-standing problem that many users have complained
about. Fixes SourceForge #450663. (doc/Ps2pdf.htm [1.41]: 2002/04/08
21:21:23 lpd)
	- The recently added reference to zcidtest.c had the correct text
but an incorrect URL. (doc/Develop.htm [1.73]: 2002/04/09 02:03:22 lpd)
	- the url for the guide to international paper sizes has changed.
Thanks to Nelson Beebe for finding the update. (doc/Use.htm [1.52]:
2002/04/14 01:08:14 giles)
	- The new file md5main.c was not included in the catalog of source
files. (doc/Develop.htm [1.74]: 2002/04/14 15:56:53 lpd)
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (doc/Language.htm [1.49]: 2002/05/01 23:15:23 igor)
	- pdfwrite relied on the PostScript interpreter to load and make
available the known encodings and glyph sets identified in src/gsccode.h.
With this change, pdfwrite can now be used without a PostScript interpreter,
and with fonts that do not implement the known_encode callback.
(doc/Develop.htm [1.78], doc/Psfiles.htm [1.32]: 2002/05/12 22:38:08 lpd)
	- Fixes a typo in, and slightly improves, documentation for invoking
cvs2hist as part of the release process. Fixes SourceForge #551275.
(doc/Release.htm [1.61]: 2002/06/26 20:14:45 lpd)
	- Fixes a typo in the reference to src/gdevpdte.c.
(doc/Develop.htm [1.83]: 2002/06/27 00:50:23 lpd)
	- Add the option -dUseCropBox to set the page size from the CropBox
rather than the MediaBox. This is appropriate when using ghostscript to view
PDF files or convert to bitmaps. It probably isn't appropriate for printing.
Fixes SourceForge bugs #522486, "Wromg size EPS generated from PDF" and
#538267 "Problems with Media Box in PDF and PS interpreter".
(doc/Use.htm [1.53]: 2002/06/28 10:55:43 ghostgum)

update version numbers after the 7.20 release. (doc/News.htm [1.104]:
2002/04/04 03:14:03 giles)

gs-cjk project : add note about abandoning of CIDFnmap in gs6.53 and gs7.0x
to incompatible changes. (doc/News.htm [1.105]: 2002/04/04 06:01:51
mpsuzuki)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (doc/Develop.htm [1.72]: 2002/04/08 21:02:44 lpd)

Documents more clearly the fact that the ProcessColorModel parameter for
ps2pdf / pdfwrite does not affect (most) images. Also changes the "notes"
references from the parameter table to live links. (doc/Ps2pdf.htm [1.42]:
2002/04/09 22:43:46 lpd)

Documents a user request for pdfwrite to convert images to a fixed,
specified color space, as it currently does for vectors/text/masks.
(doc/Issues.htm [1.23]: 2002/04/09 22:51:20 lpd)

Add an example using .locksafe to permit reading of files anywhere while
preventing file writing, deleting or renaming (as with the pre 7.20 SAFER
mode). Related to SourceForge bug #541856. (doc/Language.htm [1.48]:
2002/04/11 18:11:02 ray)

Deletes "Vanilla" functions, which have not been used for a long time. They
were originally created for implementing FunctionType 4 functions using a
callback to the PostScript interpreter, but FunctionType 4 functions have
had their own interpreter since 3/19/2000 (first revision of gsfunc4.c).
(doc/Develop.htm [1.75]: 2002/04/19 00:53:19 lpd)

Removes unused gdevht halftoning "device". Part of DeviceN task list.
(doc/Develop.htm [1.76], doc/Drivers.htm [1.28]: 2002/04/22 23:01:47 raph)

Adds a project to replace all sampled PostScript procedures with Function
objects, at the PostScript level. (Suggested by SourceForge bug #547695.)
(doc/Projects.htm [1.43]: 2002/04/29 22:37:15 lpd)

Documents the rationale for stable allocators better.
(doc/Develop.htm [1.77]: 2002/05/02 20:48:21 lpd)

Documents the fact that driver procedures other than put_params must not
reset is_open, and the invariant that requires any device instance
referenced from a graphics state to be open. (doc/Drivers.htm [1.29]:
2002/05/02 22:36:47 lpd)

Update the url for the zlib website and source. Fixes SF Bug #550585.
(doc/Make.htm [1.50], doc/New-user.htm [1.37]: 2002/05/09 16:29:16 giles)

Updates documentation for the revision of the C implementation of known
Encodings. (doc/Develop.htm [1.79], doc/Psfiles.htm [1.33]: 2002/05/14
23:33:57 lpd)

Refactors the pdfwrite driver so that none of the structures, and very few
of the procedures, for handling text and fonts are visible to the main body
of code, in preparation for a major rewrite of the text and font code.
(doc/Develop.htm [1.80]: 2002/05/20 07:07:15 lpd)

Update Release.htm with changes from the 7.05 release. Fixes SF bug #551275.
(doc/Release.htm [1.60]: 2002/05/22 08:26:39 giles)

Adds documentation for pdfwrite regression tools. (doc/Testing.htm [1.7]:
2002/06/21 00:06:29 jack)

Adds references to new source files gxfcopy.c, gxfcopy.h, stdpn.h, and
zfctest.c. (doc/Develop.htm [1.81]: 2002/06/21 05:56:32 lpd)

Update for Borland 5.5 Compiler. Files changes include bcwin32.mak,
dwmainc.c, unistd_.h, bcc32.cfg and Make.htm. Patch by Rod Webster (rodw).
SF#559565 (doc/Make.htm [1.51]: 2002/06/24 06:20:25 jeong)

Adds a complete rewrite of the font and text code in pdfwrite, based on
copying fonts incrementally to stable memory rather than trying to deal with
fonts being freed at unpredictable times. Should fix a large number of
current SourceForge bugs when completed: however, the code is currently in
pre-alpha state and is not usable on any realistic input. The API is
compatible with the previous pdfwrite text code; the choice of which set to
use is controlled by a single, documented line in src/devs.mak.
(doc/Develop.htm [1.82]: 2002/06/25 01:51:32 lpd)

News.htm update, version number and date fixups. First commit mandated by
Release.htm, in preparation for 7.21 release. (doc/API.htm [1.23],
doc/Bug-form.htm [1.28], doc/Bug-info.htm [1.27], doc/C-style.htm [1.33],
doc/Commprod.htm [1.20], doc/Copying.htm [1.20], doc/Current.htm [1.20],
doc/DLL.htm [1.22], doc/Develop.htm [1.84], doc/Devices.htm [1.46],
doc/Drivers.htm [1.30], doc/Fonts.htm [1.29], doc/Helpers.htm [1.24],
doc/History1.htm [1.20], doc/History2.htm [1.20], doc/History3.htm [1.20],
doc/History4.htm [1.20], doc/History5.htm [1.22], doc/History6.htm [1.37],
doc/History7.htm [1.17], doc/Htmstyle.htm [1.25], doc/Install.htm [1.33],
doc/Issues.htm [1.24], doc/Language.htm [1.50], doc/Lib.htm [1.22],
doc/Maintain.htm [1.30], doc/Make.htm [1.52], doc/New-user.htm [1.38],
doc/News.htm [1.106], doc/Projects.htm [1.44], doc/Ps-style.htm [1.18],
doc/Ps2epsi.htm [1.22], doc/Ps2pdf.htm [1.43], doc/Psfiles.htm [1.34],
doc/Readme.htm [1.39], doc/Release.htm [1.62], doc/Source.htm [1.20],
doc/Tester.htm [1.19], doc/Testing.htm [1.8], doc/Unix-lpr.htm [1.20],
doc/Use.htm [1.54], doc/Xfonts.htm [1.20], doc/gs-vms.hlp [1.19],
man/dvipdf.1 [1.15], man/font2c.1 [1.15], man/gs.1 [1.15],
man/gslp.1 [1.15], man/gsnd.1 [1.15], man/pdf2dsc.1 [1.15],
man/pdf2ps.1 [1.17], man/pdfopt.1 [1.15], man/pf2afm.1 [1.15],
man/pfbtopfa.1 [1.16], man/printafm.1 [1.15], man/ps2ascii.1 [1.15],
man/ps2epsi.1 [1.15], man/ps2pdf.1 [1.19], man/ps2pdfwr.1 [1.18],
man/ps2ps.1 [1.22], man/wftopfa.1 [1.15]: 2002/07/08 20:09:53 raph)

</pre><h2><a name="7.21-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- gscdef.c must contain a definition for GS_PRODUCT that matches the
definition used by the baseline. run_nightly now sets GS_PRODUCT to "AFPL
Ghostscript" correctly regardless of it's setting in the repository.
(toolbin/tests/run_nightly [1.4]: 2002/04/09 01:25:26 jack)
	- gscheck_pdfwrite.py was modeled after run_regression instead of
check_*.py. This corrects the script so that it follows the testing
conventions and also adds gscheck_all.py which will run every gscheck_*.py
test (of which currently there is only one).
(toolbin/tests/gscheck_all.py [1.1],
toolbin/tests/gscheck_pdfwrite.py [1.2], toolbin/tests/gstestgs.py [1.7]:
2002/04/09 21:45:33 jack)
	- Fix for #540871. Clean up compiler warnings in zfsample.c. Note:
The addition of two include files in zfsample.c forces a change in
dependencies in int.mak. (int.mak [1.70]: 2002/04/11 02:18:14 dan)
	- Indexed color spaces weren't implemented for ShadingType 4-7
shadings. (lib.mak [1.73]: 2002/04/14 04:30:47 lpd)
	- Options specified in gsconf.py were not being used correctly by
all scripts. run_regression and revert_baseline were both broken in this
respect. (toolbin/tests/gstestgs.py [1.8],
toolbin/tests/revert_baseline [1.5], toolbin/tests/run_regression [1.4]:
2002/04/16 21:06:20 jack)
	- missing space bofore the gsoptions are passed.
(toolbin/tests/gstestgs.py [1.9]: 2002/04/16 21:22:25 jack)
	- make symlinks to equivalent manpages with relative rather than
absolute paths to facilitate moving the directory to another location.
Closes SourceForge Bug #416131. (unixinst.mak [1.25]: 2002/04/18 01:53:36
giles)
	- the uniprint driver wasn't being included due to a typo.
(os2.mak [1.25]: 2002/04/19 00:56:28 giles)
	- Adds -p parameter to mkdir to suppress warning messages when the
target already exists and to create parent directories automatically if they
don't exist. Fixes Sourceforge bug #518742. (unix-dll.mak [1.9],
unixinst.mak [1.26]: 2002/04/19 01:08:38 jack)
	- Add PostScriptLevel3 as one of the Resources of the /Emulator
category so that it shows up with "gs -h". Fixes SourceForge bug #549235.
(int.mak [1.74]: 2002/04/26 20:51:24 ray)
	- Removing the variable $(PSD) from lib.mak to allow graphics
library to build independently on GS. (lib.mak [1.77]: 2002/05/05 13:44:27
igor)
	- The GS lib would not build. This fix corrects two minor problems.
The routine gs_abort was added to gslib.c. The unused include file
gmorecfg.h was removed from vdtrace.c. (lib.mak [1.78]: 2002/05/08 05:41:44
dan)
	- pdfwrite relied on the PostScript interpreter to load and make
available the known encodings and glyph sets identified in src/gsccode.h.
With this change, pdfwrite can now be used without a PostScript interpreter,
and with fonts that do not implement the known_encode callback.
(devs.mak [1.60], lib.mak [1.80]: 2002/05/12 22:38:08 lpd)
	- The rule for building icc.o didn't depend on $(ECHOGS_XE), causing
the build to possibly fail (depending on the order in which `make' built
targets) if executed with empty output directories. (icclib.mak [1.7]:
2002/06/05 19:55:04 lpd)
	- update_baseline had a typo for the baseline log file.
(toolbin/tests/update_baseline [1.6]: 2002/06/13 20:49:34 jack)
	- Limit the number of %disk devices to 7 to prevent problems with
the Dynalab font installer. Also return %disk devices in numeric order from
devforall and suppress %disk devices from filenameforall to match Adobe.
Also correct documentation of devforall (no pattern string used). Thanks to
Nori Matsushima and Erik Strik for testing of this feature (diskn.dev).
(int.mak [1.76]: 2002/06/14 04:04:39 ray)
	- .pushpdf14devicefilter was defined in zdfilter.c, but depended on
the optional pdf module's transparency features. Moves the definition of
this routine to the conditionally included ztrans.c. Fix by L. Peter
Deutsch, resolves SourceForge Bug 565019. (int.mak [1.77]: 2002/06/14
09:42:54 giles)
	- The automatically generated files src/gscedata.[ch] didn't have a
RCS Id line. (toolbin/encs2c.ps [1.2]: 2002/06/14 13:31:53 lpd)
	- As a result of a recent fix, an opdef table had more than 16
entries, causing initialization to abort. (int.mak [1.78]: 2002/06/14
14:17:56 lpd)
	- Fixes an oversight that prevented compilation with stdpn.h
included. (jpeg.mak [1.7]: 2002/06/16 09:11:47 lpd)
	- Implementing pdfmark stream compression. Source forge bug "[
558476 ] file attachment annotation uncompressed". (devs.mak [1.63]:
2002/06/16 22:07:55 igor)
	- Fixes minor errors in the makefile dependency lists. (The
dependency list for gxclrast.c, in particular, had gotten badly mangled.)
(lib.mak [1.86]: 2002/06/19 15:34:01 lpd)
	- Fixes an omission in a dependency list. (int.mak [1.79]:
2002/06/19 15:36:45 lpd)
	- Fixes another omission in a dependency list. (int.mak [1.80]:
2002/06/19 15:37:20 lpd)
	- pdfinflt.ps should not propagate the /Prev from the input file's
trailer since the output will only have a single xref table. Also add
'whitespace' after a stream before 'endstream' in case the input stream did
not have trailing whitespace (prevents /undefined errors).
(toolbin/pdfinflt.ps [1.4]: 2002/06/19 20:13:05 ray)
	- When building an archive of the graphics library or interpreter,
add only the object files, not the .dev and interpreter files. Fixes
SourceForge bug # 538311 - files missing from library archive.
(gs.mak [1.14], ugcclib.mak [1.19], unixlink.mak [1.6]: 2002/06/22 03:33:12
ghostgum)
	- gxfcache.h didn't #include or define all of its prerequisites.
(lib.mak [1.89]: 2002/06/24 05:14:15 lpd)
	- MSVC can't handle a makefile that compiles two sets of code with
some of the same exported names, but only linked in one set. The fix still
requires a 1-line edit of devs.mak when using MSVC. (devs.mak [1.67]:
2002/07/07 15:54:23 lpd)

update version numbers after the 7.20 release. (version.mak [1.46]:
2002/04/04 03:14:03 giles)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (devs.mak [1.57], int.mak [1.69], lib.mak [1.70]: 2002/04/08
21:02:44 lpd)

Adds gscheck_pdfwrite.py and a new test class, GSFuzzyCompareTest. This test
does fuzzy compares of ps-&gt;raster and ps-&gt;pdf-&gt;raster to help
ensure the pdfwrite device is functioning properly.
(toolbin/tests/gscheck_pdfwrite.py [1.1], toolbin/tests/gsconf.py [1.5],
toolbin/tests/gstestgs.py [1.6]: 2002/04/09 18:12:24 jack)

Moves the remaining CID-related test operator (.writefont9) to zcidtest.c.
(int.mak [1.71], lib.mak [1.71]: 2002/04/11 22:07:36 lpd)

Create a separate WARNOPT parameter for specifying the warning message
level. This allows the message level to be specified from the command line.
(msvccmd.mak [1.10]: 2002/04/11 22:20:14 dan)

Brings int.mak dependencies up to date. (int.mak [1.72]: 2002/04/12 05:37:43
lpd)

Brings dependencies in devs.mak up to date. (devs.mak [1.58]: 2002/04/12
05:42:06 lpd)

Brings dependencies in lib.mak up to date. (lib.mak [1.72]: 2002/04/12
05:55:39 lpd)

Updates makefile dependencies for the recent change to gdevpdfu.c.
(devs.mak [1.59]: 2002/04/14 06:55:58 lpd)

Adds a --[no-]pause switch to suite.tcl, for viewing suite output on the
display. Also changes the output file names from
t.&lt;&lt;date&gt;&gt;.&lt;&lt;page#&gt;&gt;.&lt;&lt;format&gt;&gt; to
&lt;&lt;filename&gt;&gt;.&lt;&lt;page#&gt;&gt;.&lt;&lt;format&gt;&gt;.
(toolbin/suite.tcl [1.6]: 2002/04/15 23:59:20 lpd)

Deletes "Vanilla" functions, which have not been used for a long time. They
were originally created for implementing FunctionType 4 functions using a
callback to the PostScript interpreter, but FunctionType 4 functions have
had their own interpreter since 3/19/2000 (first revision of gsfunc4.c).
(lib.mak [1.74]: 2002/04/19 00:53:19 lpd)

Add the ijs device to the default unix-gcc build. (unix-gcc.mak [1.33]:
2002/04/19 00:54:31 giles)

Adds a make_scaled virtual procedure to Function objects, to create a
modified Function whose N output values are transformed linearly according
to a supplied set of N range parameters. This is the first installment for
implementing conversion of extended-range CIEBased color spaces to ICCBased
spaces in pdfwrite. (lib.mak [1.75]: 2002/04/19 01:17:53 lpd)

Puts dpsand2.dev first in the dependencies of psl2.dev, so that (eventually)
geninit will have earlier access to the system name table for producing
output with binary token encodings. (int.mak [1.73]: 2002/04/19 19:22:14
lpd)

Removes unused gdevht halftoning "device". Part of DeviceN task list.
(lib.mak [1.76]: 2002/04/22 23:01:47 raph)

Update the url for the zlib website and source. Fixes SF Bug #550585.
(zlib.mak [1.7]: 2002/05/09 16:29:16 giles)

Update dependencies for included header files. (lib.mak [1.79]: 2002/05/09
21:55:52 giles)

Simplifies the C implementation of the known Encodings, and makes it conform
better to Ghostscript standard coding style. (devs.mak [1.61],
lib.mak [1.81], toolbin/encs2c.ps [1.1]: 2002/05/14 23:33:18 lpd)

Removes an extraneous makefile dependency. (lib.mak [1.82]: 2002/05/15
19:07:32 lpd)

Refactors the pdfwrite driver so that none of the structures, and very few
of the procedures, for handling text and fonts are visible to the main body
of code, in preparation for a major rewrite of the text and font code.
(devs.mak [1.62]: 2002/05/20 07:07:15 lpd)

Adds logging support for the Ghostscript class and implements logging for
the nightly regression scripts. (toolbin/tests/gsconf.py [1.6],
toolbin/tests/gstestgs.py [1.10], toolbin/tests/run_nightly [1.5],
toolbin/tests/run_regression [1.5]: 2002/05/30 21:43:10 jack)

gs_cjk project : bugfix for nested FMapType4/5 OCF. Fix by suzuki toshiya.
(ported from gs7.05) (lib.mak [1.83]: 2002/06/02 11:56:23 mpsuzuki)

Implements raster baseline regression test for the pdfwrite device, and adds
new tools to manage the new pdfwrite baselines.
(toolbin/tests/gscheck_pdfwrite.py [1.3], toolbin/tests/gstestgs.py [1.11],
toolbin/tests/make_testdb [1.5], toolbin/tests/make_two_pdfversions [1.1],
toolbin/tests/revert_pdfbaseline [1.1], toolbin/tests/run_regression [1.6],
toolbin/tests/update_pdfbaseline [1.1]: 2002/06/05 05:23:06 jack)

Added log file for baseline changes. update_* and revert_* all log baseline
changes with timestamps now. (toolbin/tests/gsconf.py [1.7],
toolbin/tests/revert_baseline [1.6], toolbin/tests/revert_pdfbaseline [1.2],
toolbin/tests/update_baseline [1.5], toolbin/tests/update_pdfbaseline [1.2]:
2002/06/05 20:53:20 jack)

Add separate paramsets for pdfwrite testing.
(toolbin/tests/gscheck_pdfwrite.py [1.4],
toolbin/tests/gsparamsets.py [1.4], toolbin/tests/make_testdb [1.6]:
2002/06/05 20:58:04 jack)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings. (int.mak [1.75],
lib.mak [1.84]: 2002/06/09 23:08:23 lpd)

Moves the now-unused Pn macros to a separate file, which now can easily be
commented out and eventually removed. (lib.mak [1.85]: 2002/06/16 08:57:57
lpd)

Adds support for incremental font copying, currently required only by the
new pdfwrite text code. (int.mak [1.81], lib.mak [1.87]: 2002/06/19 15:52:29
lpd)

Committing in . Added option to chose between the use of VAX-floats
(default) and IEEE-floats Modified Files: gs/src/openvms.mmk
----------------------------------------------------------------------
(openvms.mmk [1.17]: 2002/06/20 08:32:15 joukj)

Committing in . OOps, I committed the wrong file just a minute ago Modified
Files: gs/src/openvms.mmk
----------------------------------------------------------------------
(openvms.mmk [1.18]: 2002/06/20 08:39:08 joukj)

Removes some obsolete references to Aladdin Enterprises from comments.
(contrib.mak [1.27], winint.mak [1.15]: 2002/06/21 05:07:06 lpd)

Adds some omitted definitions in gxfcopy.h. (lib.mak [1.88]: 2002/06/21
22:36:09 lpd)

Add a 32 bit/pixel CMYK driver named pam using the Portable Arbitrary Map
file format, one of the netpbm family. This driver has problems with
anti-aliasing that will be fixed in a later patch. (devs.mak [1.64]:
2002/06/22 03:44:40 ghostgum)

Update for Borland 5.5 Compiler. Files changes include bcwin32.mak,
dwmainc.c, unistd_.h, bcc32.cfg and Make.htm. Patch by Rod Webster (rodw).
SF#559565 (bcc32.cfg [1.2], bcwin32.mak [1.19]: 2002/06/24 06:20:25 jeong)

Adds a complete rewrite of the font and text code in pdfwrite, based on
copying fonts incrementally to stable memory rather than trying to deal with
fonts being freed at unpredictable times. Should fix a large number of
current SourceForge bugs when completed: however, the code is currently in
pre-alpha state and is not usable on any realistic input. The API is
compatible with the previous pdfwrite text code; the choice of which set to
use is controlled by a single, documented line in src/devs.mak.
(devs.mak [1.65]: 2002/06/25 01:51:32 lpd)

Adds a couple of missing dependencies in the makefile. (devs.mak [1.66]:
2002/06/26 19:55:56 lpd)

News.htm update, version number and date fixups. First commit mandated by
Release.htm, in preparation for 7.21 release. (version.mak [1.47]:
2002/07/08 20:09:54 raph)

</pre><h2><a name="7.21-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Correctly embed the original EPS file in the output of ps2epsi on
Windows and OS/2. (lib/ps2epsi.bat [1.9], lib/ps2epsi.cmd [1.6]: 2002/04/25
21:29:08 ghostgum)
	- Calculate more accurate BoundingBox and prevent invalidaccess by
using an 8-bit deep preview image. SF bug #525508. (lib/ps2epsi.ps [1.8]:
2002/04/29 17:27:06 ray)
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (lib/rollconv.ps [1.4]: 2002/05/01 23:15:23 igor)
	- Fixing erroneous comments in font map files.
(lib/FAPIcidfmap [1.5], lib/FAPIfontmap [1.6], lib/cidfmap [1.5]: 2002/06/07
20:21:16 igor)
	- Temporary files weren't being put in the proper location under
MacOS X/Carbon. Updates the the proper prameter block type for the Carbon
interface so this works properly on both OS 9/X. Patch from Erik Strik.
(gp_macio.c [1.7]: 2002/06/13 15:36:50 giles)

Splits off the md5 test program into a separate file; removes support for
non-ANSI compilers; makes byte order test either static or dynamic.
(md5main.c [1.1]: 2002/04/13 19:20:28 lpd)

Removes the name SystemNames as a name for the system name table.
(lib/wrfont.ps [1.5]: 2002/04/19 06:52:25 lpd)

Use sed in preference to tail to avoid conflicts between posix and
traditional implementations. Patch from Paul Eggert. Closes SourceForge bug
#521597. (lib/unix-lpr.sh [1.4]: 2002/04/22 19:53:23 giles)

Changes to the gtk+ client to request a suitable window size based on the
screen and image sizes, to reduce unnecessary redraws and erase the window
area outside the image. (dxmain.c [1.10]: 2002/04/26 05:01:18 ghostgum)

gs_exit() cleanup. gs_exit() is renamed gs_to_exit() since it is an about to
terminate cleanup function, it always returns. Both gs_to_exit() and
gs_abort are client provided functions. The client can have its own special
cleanup on exit, and the client can decide what it wants to do in the abort
case: exit, setjump/longjump, ... gp_do_exit() is the way for the client to
call a system independent exit() this allows for different exit codes on
unix and vms for instance. Only the client can call this, if so desired from
their gs_abort(). (bench.c [1.7], gp_dvx.c [1.7], gp_iwatc.c [1.9],
gp_mac.c [1.6], gp_mswin.c [1.10], gp_os2.c [1.14], gp_os9.c [1.7],
gp_unix.c [1.8]: 2002/05/14 14:59:41 stefan)

gs_cjk project : replace "min" &amp; "max" by ".min" &amp; ".max". by
mpsuzuki (ported from gs7.05) (lib/bdftops.ps [1.6], lib/font2pcl.ps [1.5],
lib/gslp.ps [1.5], lib/packfile.ps [1.5], lib/pdfopt.ps [1.14],
lib/prfont.ps [1.5], lib/ps2ascii.ps [1.7], lib/traceimg.ps [1.5],
lib/viewcmyk.ps [1.5], lib/viewpbm.ps [1.5], lib/viewpcx.ps [1.5]:
2002/06/02 12:03:28 mpsuzuki)

Removes all uses of the now-deprecated Pn macros from PostScript operator
files (src/z*.c). (ziodevs.c [1.8]: 2002/06/16 03:43:51 lpd)

Removes all uses of the now-deprecated Pn macros from the echogs program.
(echogs.c [1.6]: 2002/06/16 03:52:32 lpd)

Removes all uses of the now-deprecated Pn macros from the stream
implementation code. (scfdgen.c [1.5]: 2002/06/16 03:58:14 lpd)

Removes all uses of the now-deprecated Pn macros from all remaining .c
files. (genconf.c [1.8], gendev.c [1.5], geninit.c [1.6], gp_dvx.c [1.8],
gp_iwatc.c [1.10], gp_mac.c [1.7], gp_msio.c [1.6], gp_mswin.c [1.11],
gp_os2.c [1.15], gp_os9.c [1.8], gp_unix.c [1.9], gp_vms.c [1.13],
gserver.c [1.7]: 2002/06/16 05:48:55 lpd)

</pre><h2><a name="7.21-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Changes the operation of AutoFilter{Gray,Color}Images to always
use the lossless filter (normally FlateEncode), rather than using DCTEncode
for 8-bit-per-component images at least 64x64 in size. While this isn't
optimal, it fixes a long-standing problem that many users have complained
about. Fixes SourceForge #450663. (gdevpsdi.c [1.19]: 2002/04/08 21:21:21
lpd)
	- output of psmono and psgray drivers was scaled twice: using scale
operator and image matrix. This fix removes scaling component from the image
matrix. Fix by Alex Cherepanov for SF bug #482033. (gdevpsim.c [1.9]:
2002/04/10 02:34:01 ray)
	- Initializes the green and blue components of cmap and their
multipliers. A floating point exception was occuring on static gray X
displays when these were left at 0. (gdevxcmp.c [1.7]: 2002/04/19 00:04:52
jack)
	- Laserjet familiy drivers make 2 bytes output when gs is closing.
Now they don't. Fixes SF Bug#427314. (gdevdjet.c [1.9]: 2002/04/19 15:06:54
jeong)
	- Top and bottom margins for BJ10e were incorrect. Now works
corretly as BJ10 manual describes. Fix by Jim Hague (bears). Fixes
SF#477644. (gdevbj10.c [1.7]: 2002/05/08 05:55:26 jeong)
	- Adds "wake up" sequence code to be sent before printing for newer
USB Epson Stylus printers. Thanks to Chris Bagwell for the patch. Fixes
SF#448199 (lib/st640ih.upp [1.2], lib/st640ihg.upp [1.2],
lib/st640p.upp [1.2], lib/st640pg.upp [1.2], lib/st640pl.upp [1.2],
lib/st640plg.upp [1.2], lib/stc.upp [1.3], lib/stc1520h.upp [1.3],
lib/stc2.upp [1.3], lib/stc200_h.upp [1.2], lib/stc2_h.upp [1.3],
lib/stc2s_h.upp [1.3], lib/stc300.upp [1.2], lib/stc300bl.upp [1.2],
lib/stc300bm.upp [1.2], lib/stc500p.upp [1.3], lib/stc500ph.upp [1.3],
lib/stc600ih.upp [1.3], lib/stc600p.upp [1.3], lib/stc600pl.upp [1.3],
lib/stc640p.upp [1.2], lib/stc800ih.upp [1.3], lib/stc800p.upp [1.3],
lib/stc800pl.upp [1.3], lib/stc_h.upp [1.3], lib/stc_l.upp [1.3],
lib/stcany.upp [1.3], lib/stcany_h.upp [1.2]: 2002/05/08 06:26:56 jeong)
	- Fix to process documents which have multiple pages and require
differing media sizes. Thanks to Doug Durning for the patch. Fixes
SF#551993. (gdevdljm.c [1.7]: 2002/05/08 08:43:35 jeong)
	- Fixing uninitialized pointers in psdf_binary_writer on VMerror.
(gdevpsdu.c [1.15]: 2002/05/16 08:50:52 igor)
	- Fix : removing unuseful code from the image stream writer in
pdfwrite. (gdevpsdf.h [1.12], gdevpsdu.c [1.16]: 2002/05/21 20:07:11 igor)
	- The pswrite now does not open and close the device for a page's
output and does not set 'is_open = false'. SourceForge bug #551623.
(gdevps.c [1.25]: 2002/05/30 03:21:53 jeong)
	- Fixes minor compilation errors introduced by the recent image
compression chooser code. (gdevpsds.h [1.8]: 2002/06/14 06:35:08 lpd)
	- An incorrect subscript computation, and an incorrect choice of
allocator, in the image compression chooser code caused SEGVs. Fixes 14 of
the 21 ERRORs in the 2002-06-13 pdfwrite regression report.
(gdevpsds.c [1.8]: 2002/06/14 07:48:59 lpd)
	- Implementing pdfmark stream compression. Source forge bug "[
558476 ] file attachment annotation uncompressed". (gdevpsdf.h [1.16],
gdevpsds.c [1.9]: 2002/06/16 22:07:55 igor)
	- LockDistillerParams locked device parameters besides Distiller
parameters. Source forge bug "[ 567464 ] LockDistillerParams locks page
size". (gdevpsdp.c [1.12]: 2002/06/18 18:28:33 igor)
	- Correct the display device color mapping functions that were
wrong. Change 4-bit mapping functions to standard VGA. Correct 16-bit native
RGB and 32-bit xRGB mapping functions. Add RGB to color mapping functions
for CMYK formats, needed by anti-aliasing. (gdevdsp.c [1.11]: 2002/06/21
22:30:09 ghostgum)
	- The GC descriptors for psdf_binary_writer and pdf_image_writer
weren't updated when the image compression chooser was added, leading to
occasional memory access crashes. (gdevpsdf.h [1.17]: 2002/06/27 04:03:03
lpd)

gs_exit() cleanup. gs_exit() is renamed gs_to_exit() since it is an about to
terminate cleanup function, it always returns. Both gs_to_exit() and
gs_abort are client provided functions. The client can have its own special
cleanup on exit, and the client can decide what it wants to do in the abort
case: exit, setjump/longjump, ... gp_do_exit() is the way for the client to
call a system independent exit() this allows for different exit codes on
unix and vms for instance. Only the client can call this, if so desired from
their gs_abort(). (gdevpm.c [1.7]: 2002/05/14 14:59:41 stefan)

&gt; Fix: The epswrite did not generate correct bounding box when &gt; the
left or top coord of the bbox for original file is greater than 0. &gt; Now
works correctly. SF#547768, #448241. (gdevps.c [1.26]: 2002/05/30 03:23:12
jeong)

Implementing dynamic choice of image compression filter. Source forge bug "[
552949 ] pdfwrite produces bigger pdf than adobe". (gdevpsdf.h [1.13],
gdevpsdi.c [1.20], gdevpsds.c [1.7], gdevpsds.h [1.7]: 2002/06/09 22:13:09
igor)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings.
(gdevmacxf.c [1.6], gdevmsxf.c [1.5], gdevxxf.c [1.8]: 2002/06/09 23:08:22
lpd)

Corrects a spelling error ("samile" =&gt; "sample"), and changes the name of
pdf_setup_compression_chooser to psdf_... because the procedure can
eventually be shared between pdfwrite and pswrite. (gdevpsdf.h [1.14],
gdevpsdi.c [1.21]: 2002/06/14 06:03:08 lpd)

Removes all uses of the now-deprecated Pn macros from all remaining .c
files. (gdev8510.c [1.6], gdevbmpa.c [1.6], gdevcdj.c [1.10],
gdevcgml.c [1.5], gdevdjtc.c [1.6], gdevdm24.c [1.6], gdevepsc.c [1.6],
gdevepsn.c [1.6], gdevherc.c [1.5], gdevhl7x.c [1.9], gdevifno.c [1.5],
gdevmgr.c [1.5], gdevmswn.c [1.7], gdevmsxf.c [1.6], gdevokii.c [1.6],
gdevpbm.c [1.6], gdevpcfb.c [1.5], gdevpcx.c [1.5], gdevpjet.c [1.6],
gdevps.c [1.27], gdevpsim.c [1.10], gdevs3ga.c [1.5], gdevsco.c [1.6],
gdevstc.c [1.5], gdevsvga.c [1.5], gdevtfax.c [1.7], gdevupd.c [1.8],
gdevwddb.c [1.6], gdevwprn.c [1.6], gdevx.c [1.13], gdevxalt.c [1.7],
gdevxini.c [1.13]: 2002/06/16 05:48:54 lpd)

Removes all uses of the now-deprecated Pn macros from driver-related headers
(gdev*.h). (gdev8bcm.h [1.5], gdevbjcl.h [1.6], gdevbmp.h [1.5],
gdevcgml.h [1.5], gdevdcrd.h [1.5], gdevdljm.h [1.7], gdevfax.h [1.5],
gdevmeds.h [1.5], gdevmswn.h [1.5], gdevpccm.h [1.6], gdevpcfb.h [1.5],
gdevpcl.h [1.8], gdevpsdf.h [1.15], gdevpsds.h [1.9], gdevpsu.h [1.7],
gdevpxut.h [1.5], gdevstc.h [1.5], gdevsvga.h [1.5], gdevtfax.h [1.7],
gdevtifs.h [1.6], gdevx.h [1.7]: 2002/06/16 07:25:26 lpd)

To improve clarity, use hexadecimal for -dDisplayFormat=16#XXXXXX in the
display device example code. (gdevdsp.c [1.10]: 2002/06/19 11:35:06
ghostgum)

Add a 32 bit/pixel CMYK driver named pam using the Portable Arbitrary Map
file format, one of the netpbm family. This driver has problems with
anti-aliasing that will be fixed in a later patch. (gdevpbm.c [1.7]:
2002/06/22 03:44:40 ghostgum)

</pre><h2><a name="7.21-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Fix : pdfwrite wrongly computed text width for fonts with unusual
font matrix. Source Forge bug "[ 535401 ] euro glyph misplaced after
pdfwrite". (gdevpdff.c [1.27], gdevpdfs.c [1.14]: 2002/04/11 15:59:19 igor)
	- pdfwrite only updated the overprint flag in the graphics state for
fill and stroke, not for images. Fixes SourceForge #525712.
(gdevpdfg.c [1.18]: 2002/04/12 19:28:15 lpd)
	- Adding any of the base 14 fonts to the NeverEmbed list produced
broken output in PDF level 1.3 and above. Makes the 'default', 'screen', and
'ebook' parameter sets not embed the base 14 fonts. (The documentation
already said this was the case, even though it wasn't.) This is a partial
fix for SourceForge bug #438957. (gdevpdff.c [1.28]: 2002/04/12 19:38:33
lpd)
	- If a shading's Function entry was an array of functions rather
than a single function, pdfwrite wrote out an invalid Function object with a
FunctionType of -1. (gdevpdfu.c [1.23]: 2002/04/14 06:51:45 lpd)
	- pdfwrite would incorrectly output CalGray or CalRGB color spaces
even if the range of the color space was not [0 1] or [0 1 0 1 0 1]
respectively. (gdevpdfc.c [1.24]: 2002/04/14 07:09:51 lpd)
	- Fix : pdfwrite wrongly computed line width for fonts with
PaintType 2. (gdevpdfs.c [1.15]: 2002/04/16 10:18:59 igor)
	- When pdfwrite wrote out a fill with an uncolored (mask) Pattern,
all colors other than black were converted to white. (Bug found during
unrelated pdfwrite development.) (gdevpdfb.c [1.10]: 2002/04/29 04:32:32
lpd)
	- pdfwrite could not convert a CIEBased color space with input
domains larger than [0..1] to an ICCBased space, because the ICC profile
specification inherently limits inputs to this range. The fix required
explicitly rescaling the decoding of the color data in many different places
when such a color space was involved: the Decode arrays in images; the
tintTransform functions for Separation and DeviceN color spaces; the
Background, Function, and Decode for shadings. While this was only a
performance problem, it could be a very severe one, because it caused images
using such extended-domain CIEBased spaces to revert to zillions of tiny
rectangles. This change completes the ability of pdfwrite to convert
PostScript color spaces, aside from DeviceN and Separation spaces which are
the subject of a separate project. (gdevpdfb.c [1.11], gdevpdfc.c [1.26],
gdevpdfc.h [1.4], gdevpdfg.h [1.12], gdevpdfi.c [1.30], gdevpdfk.c [1.4],
gdevpdfu.c [1.24], gdevpdfv.c [1.13], gdevpdfx.h [1.40]: 2002/05/07 19:56:46
lpd)
	- If a Type 1 font had an initial FontMatrix other than [0.001 0 0
0.001 0 0] and also had a Metrics entry, pdfwrite would produce incorrect
character spacing. Fixes SourceForge #551077. (Similar to SourceForge
#535401.) (gdevpdfs.c [1.16]: 2002/05/09 06:28:27 lpd)
	- pdfwrite relied on the PostScript interpreter to load and make
available the known encodings and glyph sets identified in src/gsccode.h.
With this change, pdfwrite can now be used without a PostScript interpreter,
and with fonts that do not implement the known_encode callback.
(gdevpdfs.c [1.17]: 2002/05/12 22:38:08 lpd)
	- Fixes a typo in the comment before pdf_do_subset_font.
(gdevpdfe.c [1.16]: 2002/05/17 16:15:54 lpd)
	- Fix : improving image stream writer in pdfwrite.
(gdevpdfi.c [1.31], gdevpdfj.c [1.11]: 2002/05/19 22:37:38 igor)
	- completing "remove dependency of pdfwrite on PS"
(gdevpdfs.c [1.18]: 2002/05/20 06:33:36 igor)
	- Fix : removing unuseful code from the image stream writer in
pdfwrite. (gdevpdfj.c [1.12]: 2002/05/21 20:07:11 igor)
	- Prevent call to pdfmark_make_dest when no /Page or /View is given,
so to avoid creating pdf_page_id()'s for invalid page numbers. Fixes SF
#548285. (gdevpdfm.c [1.19]: 2002/05/22 05:02:54 raph)
	- The recent (2002/05/19 22:37:38) change broke in-line images --
they were now written with no data between the ID and the EI. Reverts the
two affected files (gdevpdf[ij].c) to their previous state.
(gdevpdfi.c [1.32], gdevpdfj.c [1.13]: 2002/05/28 06:13:29 lpd)
	- Fix : ignoring small noise while checking for identity color
transfer map. A partial fix for Source forge bug "[ 552949 ] pdfwrite
produces bigger pdf than adobe". (gdevpdfg.c [1.21]: 2002/06/03 16:18:34
igor)
	- Fixing a type cast in gdevpdfv.c . (gdevpdfv.c [1.16]: 2002/06/12
20:04:42 igor)
	- Fixes minor compilation errors introduced by the recent image
compression chooser code. (gdevpdfi.c [1.37], gdevpdfj.c [1.17]: 2002/06/14
06:35:08 lpd)
	- An incorrect subscript computation, and an incorrect choice of
allocator, in the image compression chooser code caused SEGVs. Fixes 14 of
the 21 ERRORs in the 2002-06-13 pdfwrite regression report.
(gdevpdfj.c [1.18]: 2002/06/14 07:48:59 lpd)
	- pdfwrite produced incorrect output for ShadingType 6 and 7
shadings if the coordinate and color data came from an array rather than a
stream or string. Partially fixes pdfwrite regressions 446-01.ps and
483-05.ps. (gdevpdfv.c [1.17]: 2002/06/14 15:47:20 lpd)
	- If a Shading used a color space other than the 3 basic Device
spaces, its ColorSpace reference could be corrupted, because the ColorSpace
object might be freed before the Shading was written. Finishes fixing
pdfwrite regressions 446-01.ps and 483-05.ps. (gdevpdf.c [1.47],
gdevpdfu.c [1.27], gdevpdfx.h [1.44]: 2002/06/14 15:51:55 lpd)
	- pdfwrite accepted imagemasks with invalid parameters, producing
invalid PDF output. Fixes the pdfwrite regression ERROR for 269-01.ps.
(gdevpdfi.c [1.38]: 2002/06/14 16:03:21 lpd)
	- In pdfwrite, an error in reading an ICCBased profile stream could
cause an attempt to free an object twice; ICCBased color spaces always
caused an error. Fixes pdfwrite regression ERROR in Fixed_Original.pdf.
(gdevpdfk.c [1.5]: 2002/06/14 16:29:26 lpd)
	- pdfwrite ignored the return status from sgets when reading ICC
profiles and shading data. (gdevpdfk.c [1.6], gdevpdfo.c [1.17],
gdevpdfo.h [1.13], gdevpdfv.c [1.18]: 2002/06/15 17:31:19 lpd)
	- Implementing pdfmark stream compression. Source forge bug "[
558476 ] file attachment annotation uncompressed". (gdevpdfm.c [1.25],
gdevpdfo.c [1.18], gdevpdfo.h [1.15]: 2002/06/16 22:07:55 igor)
	- psf_write_truetype_font and psf_write_cid2_font copied hmtx and
vmtx rather than getting the actual metrics through the font virtual
procedures, which produced incorrect output if the font was defined
incrementally and used MetricsCount. (This only affected pdfwrite.)
(gdevpdfe.c [1.17]: 2002/06/18 00:31:20 lpd)
	- LockDistillerParams locked device parameters besides Distiller
parameters. Source forge bug "[ 567464 ] LockDistillerParams locks page
size". (gdevpdfp.c [1.27]: 2002/06/18 18:28:33 igor)
	- Update pdf_image_writer::data in pdf_choose_compression.
(gdevpdfj.c [1.19]: 2002/06/19 15:37:22 igor)
	- (pdfwrite) Force completion of incomplete images encoded with DCT.
Source Forge bug "[ 508675 ] ps2pdf generates broken pdf"
(gdevpdfg.h [1.16], gdevpdfi.c [1.39], gdevpdfj.c [1.20]: 2002/06/22
17:19:48 igor)
	- Fixes various bugs in the still pre-alpha new pdfwrite text code.
(gdevpdtf.c [1.2], gdevpdts.c [1.2], gdevpdts.h [1.2]: 2002/06/25 08:18:37
lpd)
	- The new pdfwrite text code didn't keep track of which CIDs were
used for CIDFonts. After this fix, the new code processes the
HeiseiMinStd.pdf file from the regression suite correctly.
(gdevpdtc.c [1.2]: 2002/06/25 17:32:08 lpd)
	- Fixes more bugs in the new pdfwrite text code. Type 3 bitmap fonts
now appear to work correctly. (gdevpdtf.c [1.3], gdevpdti.c [1.2],
gdevpdts.c [1.3], gdevpdtw.c [1.2]: 2002/06/25 21:17:42 lpd)
	- The new pdfwrite text code sometimes didn't write font changes
correctly. The new code now has processed a substantial file correctly,
although all non-CID-based fonts are converted to bitmaps.
(gdevpdts.c [1.4]: 2002/06/26 00:57:30 lpd)
	- The GC descriptors for psdf_binary_writer and pdf_image_writer
weren't updated when the image compression chooser was added, leading to
occasional memory access crashes. (gdevpdfg.h [1.17], gdevpdfj.c [1.21]:
2002/06/27 04:03:03 lpd)
	- Fixes more bugs in the new pdfwrite text code. This code can now
process the entire regression suite with no crashes. (The output has many
problems, but pdfwrite itself does not crash.) (gdevpdtc.c [1.4],
gdevpdte.c [1.3], gdevpdtf.c [1.5], gdevpdts.c [1.6], gdevpdtt.h [1.3]:
2002/06/27 04:19:57 lpd)
	- Fixes bugs and adds further logic to the new pdfwrite text code.
The code now recognizes and correctly handles the standard 14 fonts (at
least some of the time) as well as all other supported font types.
(gdevpdtb.c [1.3], gdevpdtb.h [1.2], gdevpdtd.c [1.3], gdevpdtd.h [1.2],
gdevpdte.c [1.4], gdevpdtf.c [1.6], gdevpdtf.h [1.2], gdevpdtt.c [1.3]:
2002/06/27 17:53:53 lpd)
	- (pdfwrite) Completely replacing the Rotation computation logics.
Source Forge bug "[ 475147 ] GS 7.03 produces everthing upsidedown"
(gdevpdf.c [1.49]: 2002/06/28 10:42:18 igor)
	- An extra "&amp;" in the recent page rotation change caused a SEGV.
(gdevpdf.c [1.50]: 2002/06/28 14:36:04 lpd)
	- Fixes further bugs in new pdfwrite text code, primarily relating
to character spacing. Many bugs still remain. (gdevpdtb.c [1.4],
gdevpdtc.c [1.5], gdevpdte.c [1.6], gdevpdti.c [1.3], gdevpdts.c [1.8],
gdevpdts.h [1.4], gdevpdtt.c [1.5]: 2002/06/28 22:36:19 lpd)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (gdevpdf.c [1.44], gdevpdff.h [1.17], gdevpdfs.c [1.13],
gdevpdfw.c [1.16], gdevpdfx.h [1.39]: 2002/04/08 21:02:44 lpd)

Restores some performance lost as a result of the fix for SourceForge
#495414, by skipping a request for glyph widths which is redundant if the
font doesn't have Metrics or CDevProc. Addresses SourceForge #451456 (a
general request for better pdfwrite performance), which will be closed after
this change. (gdevpdff.c [1.26]: 2002/04/09 23:31:44 lpd)

Changes two calls of cos_dict_find to cos_dict_find_c_key (hygiene only).
(gdevpdfm.c [1.17]: 2002/04/11 04:12:17 lpd)

Removes all tests for pdfwrite CompatibilityLevel &lt; 1.2, since these are
always false: the lowest supported PDF output level has been 1.2 for quite a
long time. (gdevpdfb.c [1.9], gdevpdfe.c [1.15], gdevpdfg.c [1.19],
gdevpdfi.c [1.29], gdevpdfm.c [1.18], gdevpdfu.c [1.22], gdevpdfw.c [1.17]:
2002/04/12 19:34:15 lpd)

Changes variables named 'unit' to 'unitary' for better readability.
(gdevpdfc.c [1.25]: 2002/04/15 15:17:06 lpd)

Changes a temporary buffer, formerly unnecessarily declared static, to being
allocated on the stack. (gdevpdfg.c [1.20]: 2002/04/19 06:53:49 lpd)

Refactors the pdfwrite driver so that none of the structures, and very few
of the procedures, for handling text and fonts are visible to the main body
of code, in preparation for a major rewrite of the text and font code.
(gdevpdf.c [1.45], gdevpdfb.c [1.12], gdevpdfd.c [1.19], gdevpdff.c [1.29],
gdevpdff.h [1.18], gdevpdfs.c [1.19], gdevpdft.c [1.40], gdevpdft.h [1.1],
gdevpdfu.c [1.25], gdevpdfw.c [1.18], gdevpdfx.h [1.41]: 2002/05/20 07:07:15
lpd)

Adds a return code to two internal procedures previously declared as not
returning a value. (gdevpdft.c [1.41], gdevpdfu.c [1.26], gdevpdfx.h [1.42]:
2002/05/26 04:58:28 lpd)

Adding 2 new functions to public interface of Cos objects. A preparation for
Source forge bug "[ 552949 ] pdfwrite produces bigger pdf than adobe".
(gdevpdfo.c [1.13], gdevpdfo.h [1.10]: 2002/06/03 16:20:10 igor)

Changing PDF image writer with writing all images through cos_write_stream.
Another preparation for Source forge bug "[ 552949 ] pdfwrite produces
bigger pdf than adobe". (gdevpdfb.c [1.13], gdevpdfi.c [1.33],
gdevpdfj.c [1.14], gdevpdfo.c [1.14], gdevpdfo.h [1.11], gdevpdfv.c [1.14]:
2002/06/06 10:36:12 igor)

Implementing dynamic choice of image compression filter. Source forge bug "[
552949 ] pdfwrite produces bigger pdf than adobe". (gdevpdfb.c [1.14],
gdevpdfg.h [1.13], gdevpdfi.c [1.34], gdevpdfj.c [1.15], gdevpdfv.c [1.15]:
2002/06/09 22:13:08 igor)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings.
(gdevpdff.c [1.30], gdevpdfs.c [1.20], gdevpdfw.c [1.19]: 2002/06/09
23:08:22 lpd)

Corrects a typo in the RCS Id line. (gdevpdft.h [1.2]: 2002/06/12 18:09:18
lpd)

Adds stubs for the new PDF 1.4 pdfmark types, and clearly marks all
unimplemented pdfmark types as such. (gdevpdfm.c [1.20]: 2002/06/12 23:26:54
lpd)

Implements the /APPEND pdfmark. (gdevpdfm.c [1.21]: 2002/06/12 23:42:30 lpd)

Workaround for unimplemented NI, to avoid later typechecks on .PUTDICT. This
patch adds the dictionary cos object, but does not push it in a namespace to
be popped on occurrence of an image, as defined in section 6.2 of the
pdfmark reference (TN 5150). Allows test file of SourceForge bug #567653 to
run to completion. (gdevpdfm.c [1.22]: 2002/06/13 00:17:53 raph)

Adds two new procedures to pdfwrite's Cos object package, to support
namespaces and /NI pdfmark. (gdevpdfo.c [1.15], gdevpdfo.h [1.12]:
2002/06/13 20:40:30 lpd)

Implements namespaces (/NamespacePush, /NamespacePop pdfmarks) and the /NI
pdfmark for named images. Fixes SourceForge #567653, replacing the
workaround in revision 1.22 of src/gdevpdfm.c. (gdevpdf.c [1.46],
gdevpdfg.h [1.14], gdevpdfi.c [1.35], gdevpdfj.c [1.16], gdevpdfm.c [1.23],
gdevpdfr.c [1.8], gdevpdfx.h [1.43]: 2002/06/14 05:53:38 lpd)

Corrects a spelling error ("samile" =&gt; "sample"), and changes the name of
pdf_setup_compression_chooser to psdf_... because the procedure can
eventually be shared between pdfwrite and pswrite. (gdevpdfi.c [1.36]:
2002/06/14 06:03:08 lpd)

Improves the comment for cos_dict_unadd. (gdevpdfo.c [1.16]: 2002/06/15
16:58:51 lpd)

Improves a few comments, and changes pdf_write_font_resources to
pdf_close_text_document for greater clarity. (gdevpdf.c [1.48],
gdevpdfb.c [1.15], gdevpdff.h [1.19], gdevpdfm.c [1.24], gdevpdfs.c [1.21],
gdevpdfu.c [1.28], gdevpdfw.c [1.20], gdevpdfx.h [1.45]: 2002/06/15 21:11:53
lpd)

Removes all uses of the now-deprecated Pn macros from all remaining .c
files. (gdevpdfb.c [1.16], gdevpdfg.c [1.22], gdevpdfp.c [1.26],
gdevpdfs.c [1.22], gdevpdft.c [1.42], gdevpdfu.c [1.29]: 2002/06/16 05:48:55
lpd)

Removes all uses of the now-deprecated Pn macros from driver-related headers
(gdev*.h). (gdevpdff.h [1.20], gdevpdfg.h [1.15], gdevpdfo.h [1.14],
gdevpdfx.h [1.46]: 2002/06/16 07:25:26 lpd)

Makes pdf_write_font_bbox public, for use by the new pdfwrite text code.
(gdevpdfu.c [1.30], gdevpdfw.c [1.21], gdevpdfx.h [1.47]: 2002/06/21
22:41:16 lpd)

Corrects an error in the computation of the (unused) value
st_device_pdf_max_ptrs. (gdevpdfx.h [1.48]: 2002/06/24 00:49:35 lpd)

Changes the internal name st_pdf_font to st_pdf_font_resource for
compatibility with the new text code. (gdevpdff.h [1.21], gdevpdfu.c [1.31],
gdevpdfx.h [1.49]: 2002/06/24 05:35:59 lpd)

Adds a complete rewrite of the font and text code in pdfwrite, based on
copying fonts incrementally to stable memory rather than trying to deal with
fonts being freed at unpredictable times. Should fix a large number of
current SourceForge bugs when completed: however, the code is currently in
pre-alpha state and is not usable on any realistic input. The API is
compatible with the previous pdfwrite text code; the choice of which set to
use is controlled by a single, documented line in src/devs.mak.
(gdevpdt.c [1.1], gdevpdt.h [1.1], gdevpdtb.c [1.1], gdevpdtb.h [1.1],
gdevpdtc.c [1.1], gdevpdtd.c [1.1], gdevpdtd.h [1.1], gdevpdte.c [1.1],
gdevpdtf.c [1.1], gdevpdtf.h [1.1], gdevpdti.c [1.1], gdevpdti.h [1.1],
gdevpdts.c [1.1], gdevpdts.h [1.1], gdevpdtt.c [1.1], gdevpdtt.h [1.1],
gdevpdtw.c [1.1], gdevpdtw.h [1.1], gdevpdtx.h [1.1]: 2002/06/25 01:51:32
lpd)

In the new pdfwrite text code, fixes bugs and adds new logic for handling
encoded (Type 1/2 and TrueType) fonts. The code now handles simple fonts of
these types. (gdevpdtb.c [1.2], gdevpdtc.c [1.3], gdevpdtd.c [1.2],
gdevpdte.c [1.2], gdevpdtf.c [1.4], gdevpdts.c [1.5], gdevpdts.h [1.3],
gdevpdtt.c [1.2], gdevpdtt.h [1.2], gdevpdtw.c [1.3]: 2002/06/26 19:03:00
lpd)

Further improves the new pdfwrite text code. The new code now demonstrably
fixes several of the outstanding SourceForge bugs. (gdevpdte.c [1.5],
gdevpdtf.c [1.7], gdevpdtf.h [1.3], gdevpdts.c [1.7], gdevpdtt.c [1.4],
gdevpdtw.c [1.4]: 2002/06/28 01:48:41 lpd)

Committing in . Corrected type cast Modified Files: gs/src/gdevpdtf.c
----------------------------------------------------------------------
(gdevpdtf.c [1.8]: 2002/07/03 13:58:14 joukj)

</pre><h2><a name="7.21-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Remove "/tfopdict undef". tfopdict was defined in v.6.01 but the
definition was since removed. Fix for bug #511232 by Alex Cherepanov.
(lib/pdf_draw.ps [1.44]: 2002/04/10 02:23:08 ray)
	- Handle Widths and Encoding arrays in PDF Font objects that are too
small by using reasonable defaults. Adobe Acrobat Reader handles files with
these problems. Fix for Artifex customer 861 for SourceForge bug#538398.
(lib/pdf_font.ps [1.32]: 2002/04/10 15:16:00 ray)
	- Annotations with empty AP dictionary caused a failure. Providing
more tolerance rather such APs are invalid. Source Forge bug "[ 538428 ]
empty appearance streams". (lib/pdf_draw.ps [1.45]: 2002/04/29 09:59:27
igor)
	- More tolerance to inconsistent stream length in PDF reader. Source
Forge bug "[ 538042 ] /syntaxerror in --token--". (lib/pdf_base.ps [1.21]:
2002/04/30 10:46:20 igor)
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (lib/pdf_font.ps [1.33]: 2002/05/01 23:15:23 igor)
	- Make PDF reader tolerant to singular matrix in Tj. Source Forge
bug "[ 538055 ] /undefinedresult in --currentpoint--". (The solution was
suggested by L. Peter Deutsch.) (lib/pdf_ops.ps [1.24]: 2002/05/08 15:51:58
igor)
	- Acrobat Reader apparently ignores or clamps 'setflat' parameter
values when rendering PDF. This change emulates that behaviour by clamping
the flatness parameter to a max of 1. Fixes SourceForge bug #555657 for
Artifex customer #150. (lib/pdf_draw.ps [1.46]: 2002/05/22 17:29:37 ray)
	- GS doesn't process PDF files without the required key /FontName in
FontDescriptor dict. Adobe Acrobat Reader handles these out of spec files,
so we also allow this. To fix this, now uses /BaseFont key when /FontName is
missing. SF#515475. (lib/pdf_font.ps [1.34]: 2002/05/30 03:32:03 jeong)
	- Acrobat Reader apparently processes badly formed numbers that have
a '-' after the '.' by ignoring the fraction. If this type of tokenerror is
detected, issue an error message and change the scanning rules to do the
same as Adobe. SourceForge bug #558473 for Artifex customer #561.
(lib/pdf_base.ps [1.22]: 2002/05/31 17:14:34 ray)
	- Yet another change to allow our PDF intperpreter to tolerate an
out of spec PDF file that Acrobat Reader (and Glance pdf tools) handle. This
file had an 'endobj' without an 'endstream' terminating a stream. Fixes SF
bug #570262 for Artifex customer #1060. (lib/pdf_base.ps [1.23]: 2002/06/18
05:37:05 ray)
	- Correct the pdfformaterror message issued when an 'endobj' is seen
instead of 'endstream' and add a comment in the file about the error. Thanks
to Dan Coby for the suggestions improving the previous patch.
(lib/pdf_base.ps [1.24]: 2002/06/18 06:29:21 ray)
	- Use actual white point in /Lab spaces, rather than relying on
default. Fixes problem in regression file test.pdf. (lib/pdf_draw.ps [1.47]:
2002/06/20 20:26:48 raph)
	- Prevents /typecheck in --length-- if given a file with an Encoding
dictionary with a Differences list has no BaseEncoding. This is perfectly
legal -- the base encoding is the font's built-in encoding or
StandardEncoding, per the PDF Reference (depending on whether or not the
font is flagged as "symbolic"). Fixes SF bug #566042.
(lib/pdf_font.ps [1.37]: 2002/06/21 06:49:50 ray)
	- Previous fix for SF bug #566042 caused a regression by defining an
Encoding array filled with .notdef too aggresively. Only create this array
when we need to update it with /Differences. Some regression files were
onechar.pdf, xngnews.pdf. The testfont.pdf file of 566042 still runs OK.
(lib/pdf_font.ps [1.38]: 2002/06/21 07:46:37 ray)
	- Fixes regressions caused by previous update including errors with
ImageProb2*.pdf and aaon97_p7.pdf. Removes logic that set StandardEncoding
if BaseEncoding wasn't set since this caused aaon97_p7 regression. Only use
.notdefEncoding if updateencoding sees a null encoding input. This is the
"real" fix for SF bug #566042. (lib/pdf_font.ps [1.39]: 2002/06/21 18:38:21
ray)
	- Wrong Widths array entry could sometimes be used when the Encoding
(after Differences applied) mapped codes to the same glyph. Logic introduced
in rev 1.22 only prevented some of the incorrect Width. Fixes SF bug# 570784
for Artifex customer #150. (lib/pdf_font.ps [1.40]: 2002/06/22 05:48:47 ray)
	- If the Differences list in the Encoding of an embedded font in a
PDF was not in increasing order, the encoding array length needed for the
differences could be miscalculated. Thanks to Dave Slattengren for spotting
this. No files had been seen (yet) that tripped on this.
(lib/pdf_font.ps [1.41]: 2002/06/25 18:58:55 ray)
	- Generates pdfformaterror rather than PostScript error for broken
PDF files containing unmatched &gt;&gt;. Workaround for SF bug #553812 for
Artifex customer #580. (lib/pdf_base.ps [1.25]: 2002/06/26 18:35:51 ray)
	- Generates pdfformaterror rather than PostScript error for broken
PDF files containing unmatched &gt;&gt; in trailer. Workaround for SF bug
#571851. (lib/pdf_main.ps [1.50]: 2002/06/26 18:37:16 raph)
	- Add the option -dUseCropBox to set the page size from the CropBox
rather than the MediaBox. This is appropriate when using ghostscript to view
PDF files or convert to bitmaps. It probably isn't appropriate for printing.
Fixes SourceForge bugs #522486, "Wromg size EPS generated from PDF" and
#538267 "Problems with Media Box in PDF and PS interpreter".
(lib/pdf_main.ps [1.51]: 2002/06/28 10:55:43 ghostgum)
	- When drawing PDF annotation links which are missing a /Border,
assume the default /Border [0 0 1]. Previously ghostscript assumed that
links without a /Border should not be drawn, which is contrary to the PDF
specification. (lib/pdf_draw.ps [1.48]: 2002/06/28 23:10:10 ghostgum)
	- If a PDF annotation specified other than the default color with
/C, pass this into the pdfmark logic as /Color. (lib/pdf_main.ps [1.52]:
2002/06/28 23:10:45 ghostgum)
	- (PDF interpreter) wrong stack balance in 'resolvedest'. Source
Forge bug "[ 571912 ] pdfwrite: /rangecheck in --pdfmark--"
(lib/pdf_main.ps [1.53]: 2002/07/01 10:49:38 igor)
	- Set pdfemptycount in .pdfpaintproc so that .pdfcount gives correct
answers when invoked from inside patterns. Fixes SF bug #576572.
(lib/pdf_base.ps [1.26], lib/pdf_draw.ps [1.49]: 2002/07/03 22:10:31 raph)

gs_cjk project : CIDWProc sample implementation Fix by mpsuzuki. (ported
from gs7.05) (lib/pdf_font.ps [1.35]: 2002/06/02 12:02:11 mpsuzuki)

gs_cjk project : replace "min" &amp; "max" by ".min" &amp; ".max". by
mpsuzuki (ported from gs7.05) (lib/pdf_font.ps [1.36],
lib/pdf_main.ps [1.49], lib/pdf_sec.ps [1.10]: 2002/06/02 12:03:28 mpsuzuki)

</pre><h2><a name="7.21-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Skip the (potentially time consuming) work of setting the color
space if it is the same as the currentcolorspace. Fixes SF #539327 for
Artifex customer #830. (lib/gs_lev2.ps [1.15]: 2002/04/06 01:18:56 ray)
	- Check the return code from gs_upathbbox() and zero the bbox if
there is no current point. Propagate other errors up. Adobe implementations
throw nocurrentpoint error, but this is not valid per the PLRM. Fix for
#520972 by Alex Cherepanov. (zupath.c [1.5]: 2002/04/09 22:54:00 ray)
	- Delete code that caused unshifted arrow keys to enter garbage
chars into the command line buffer. Now arrow keys scroll the image window
regardless of the shift state. Fix by Alex Cherepanov. (dwtext.c [1.8]:
2002/04/09 23:26:29 ray)
	- Fix for #540871. Clean up compiler warnings in zfsample.c. Note:
The addition of two include files in zfsample.c forces a change in
dependencies in int.mak. (zfsample.c [1.6]: 2002/04/11 02:18:14 dan)
	- Adding any of the base 14 fonts to the NeverEmbed list produced
broken output in PDF level 1.3 and above. Makes the 'default', 'screen', and
'ebook' parameter sets not embed the base 14 fonts. (The documentation
already said this was the case, even though it wasn't.) This is a partial
fix for SourceForge bug #438957. (lib/gs_pdfwr.ps [1.16]: 2002/04/12
19:38:33 lpd)
	- The Matrix entry of ShadingType 1 shading dictionaries was
required; it is now (correctly) optional. (zshade.c [1.9]: 2002/04/14
02:48:26 lpd)
	- ShadingType 1 shadings whose Function was an array required the
individual functions to take 1 argument, rather than the correct 2; shadings
whose Function was not an array didn't check that the function took the
correct number of arguments. (The Genoa FTS does not check either of these.)
(zshade.c [1.10]: 2002/04/14 03:10:01 lpd)
	- Fix : Replacing the even-odd filing rule with the non-zero filling
rule for fonts. Source Forge bug "[ 539359 ] problem rendering euro
character". (zchar1.c [1.14]: 2002/04/16 11:03:29 igor)
	- Bump the DEFAULT_VM_THRESHOLD value up to prevent excessive GC.
This is a tuned parameter that may need to be adjusted in the future if
-dNOGC runs significantly faster than the normal case. The previous values
were established a long time ago when memory was a more expensive resource.
Fixes SourceForge bug #421057. (zvmem2.c [1.6]: 2002/04/16 21:41:28 ray)
	- Fix : Type2 interpreter state was wrongly backed up for sbw
fallback. Source Forge bug "[ 541877 ] /invalidfont on Kozuka Mincho".
(zchar1.c [1.15]: 2002/04/18 14:26:27 igor)
	- ShadingType 4-7 shadings with a Function and with data coming from
a stream rather than an array incorrectly expected N value ranges in their
Decode array, where N is the number of components in the color space, rather
than a single range for the function argument. Finishes fixing SourceForge
#546415. (zshade.c [1.11]: 2002/04/20 05:51:52 lpd)
	- Taking off a debbugging code. (zchar1.c [1.16]: 2002/04/21
17:45:41 igor)
	- Previous change to optimize setcolorspace (for SF bug #539327)
caused a regression since the CIE space cache management was confused when
CIEBased (including ICCBased) colorspace was the base space for some other
space such as Pattern, Indexed, DeviceN, Separation. The discussion of the
fix of the cache handling will be in doc/Projects.htm. The .dosetcolorspace
is now used internally when setting up the base space for the "outer"
colorspaces. Fixes regression caused by rev 1.15 of gs_lev2.ps and partial
fix for SF bug #547695. Analysis of problem by L. Peter Deutsch (lpd).
(lib/gs_icc.ps [1.5], lib/gs_lev2.ps [1.17], lib/gs_ll3.ps [1.13]:
2002/04/29 16:59:01 ray)
	- ReusableStreams couldn't handle %diskn devices (or even %os% files
for that matter). Add filename parsing for iodev to make_rfs. Problem showed
as invalidaccess when opening CIDFonts that resided on %disk devices. Fix
for Artifex customer #411. (zfrsd.c [1.8]: 2002/04/29 22:33:50 ray)
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (lib/gs_init.ps [1.55], zmisc1.c [1.6]: 2002/05/01
23:15:23 igor)
	- When CIEBasedDEF or DEFG color space is set, DecodeABC was not set
properly and remained as abc_identity. This caused wrong color generation in
CIEBasedDEFG space. Analysis and fix by L. Peter Deutsch (lpd). Fixes
SF#542786. (zcie.c [1.9]: 2002/05/02 17:47:02 jeong)
	- Allow readonly FontMatrix in font type 9. Thanks for Ray Johnston
for participation. Source Forge bug "[ 551958 ] Problems with CIDFont:
RcPNOWkana-GB". (lib/gs_cidfn.ps [1.24]: 2002/05/06 11:49:30 igor)
	- A rounding problem made installation of CIEBased color spaces
non-idempotent, which could cause seriously incorrect rendering of CIEBased
colors in the sequence [/CIEBased...] setcolorspace, gsave, [/Pattern
[/CIEBased...]] setcolorspace, grestore. Fixes SourceForge bug #547695, q.v.
(opextern.h [1.5], zcie.c [1.10], zcolor.c [1.7], zcontrol.c [1.7]:
2002/05/07 19:51:53 lpd)
	- Correct the VMS exit codes for exit_OK and exit_FAILED which
depend on the compiler (Forrest Cahoon). Return the correct exit code from
main for VMS. (gs.c [1.10]: 2002/05/15 12:11:44 ghostgum)
	- The previous fix for numerical inaccuracies in CIE cache sampling
could lead to extremely long computation times. (zcontrol.c [1.8]:
2002/05/19 15:50:00 lpd)
	- Handle packedarray type of array for /PageSize in dictionary to
setpagedevice. Fixes SF bug #483629 for a nobody. (zmedia2.c [1.7]:
2002/05/24 17:55:06 ray)
	- Acrobat Reader apparently processes badly formed numbers that have
a '-' after the '.' by ignoring the fraction. If this type of tokenerror is
detected, issue an error message and change the scanning rules to do the
same as Adobe. SourceForge bug #558473 for Artifex customer #561.
(iscan.c [1.8], iscan.h [1.7], iscannum.c [1.6], iscannum.h [1.5],
ztoken.c [1.9]: 2002/05/31 17:21:36 ray)
	- Fixes uninitialized memory read of stack-allocated stream in
t_string case of interp(), and in zfilelineedit(). (interp.c [1.11],
ziodev.c [1.10]: 2002/06/05 05:05:08 raph)
	- enumerate_glyph would crash if applied to a subfont of a
CIDFontType 0 font. (Probably only affects font copying, to be used in the
future by pdfwrite.) (zcharout.c [1.9]: 2002/06/08 01:22:26 lpd)
	- Limit the number of %disk devices to 7 to prevent problems with
the Dynalab font installer. Also return %disk devices in numeric order from
devforall and suppress %disk devices from filenameforall to match Adobe.
Also correct documentation of devforall (no pattern string used). Thanks to
Nori Matsushima and Erik Strik for testing of this feature (diskn.dev).
(lib/gs_diskn.ps [1.2], lib/gs_lev2.ps [1.18]: 2002/06/14 04:04:39 ray)
	- .pushpdf14devicefilter was defined in zdfilter.c, but depended on
the optional pdf module's transparency features. Moves the definition of
this routine to the conditionally included ztrans.c. Fix by L. Peter
Deutsch, resolves SourceForge Bug 565019. (zdfilter.c [1.5],
ztrans.c [1.16]: 2002/06/14 09:42:54 giles)
	- Initialization did not abort if an opdef table had more than 16
entries (see opdef.h for more information about this restriction).
(iinit.c [1.7]: 2002/06/14 14:17:25 lpd)
	- As a result of a recent fix, an opdef table had more than 16
entries, causing initialization to abort. (ztrans.c [1.17]: 2002/06/14
14:17:56 lpd)
	- Because of a bug introduced by the removal of known_encode,
accented Type 1/2 font characters defined using the 'seac' operator could
cause an error in pdfwrite. Fixes the recent pdfwrite regression ERROR in
Svd.pdf. (zchar1.c [1.18]: 2002/06/15 04:19:44 lpd)
	- Correct the display device color mapping functions that were
wrong. Change 4-bit mapping functions to standard VGA. Correct 16-bit native
RGB and 32-bit xRGB mapping functions. Add RGB to color mapping functions
for CMYK formats, needed by anti-aliasing. (dpmain.c [1.8], dwimg.c [1.7]:
2002/06/21 22:30:09 ghostgum)
	- Propagate possible errors from pdf_end_image_binary.
(zimage.c [1.9]: 2002/06/22 11:16:12 igor)
	- Make sure that the .pdfmapchars which generates the CharStrings
dictionary includes all of the glyphs mentioned by name in the encoding
array (after the Encoding::Differences are applied). This fixes the ".notdef
substituted for ccaron" problem that occurs after pdf_font.ps rev 1.40 fix
prevents the "typecheck in length" mentioned in SF bug #567580 for Artifex
customer #1110. (lib/gs_ttf.ps [1.15]: 2002/06/25 06:40:10 ray)
	- Fixes two uninitialized memory reads, by zeroing the gs_allocated
field of newly allocated allocators, and the userdict_index field of dict
stacks in newly allocated contexts. (icontext.c [1.11]: 2002/06/26 20:01:53
raph)
	- Fixes uninitialized memory read of stack-allocated stream in
scan_string_token_options() (the implementation of ztoken). (iscan.c [1.10]:
2002/06/26 20:04:12 raph)
	- The filenameforall enumeration for the %os% device. Also unroll
the 'forall' loop when multiple devices are searched so that each invocation
of filenameforall has the same operand stack. (lib/gs_diskn.ps [1.3]:
2002/06/26 23:51:20 ray)
	- Define /buildtime in systemdict because Adobe does so and some
protected fonts use it as ID. Fix provided by Alex Cherepanov. SourceForge
bug #458500. (lib/gs_lev2.ps [1.19]: 2002/06/27 16:35:31 ray)
	- The return status values from 'sgets' were not handled properly.
Now the functions that use 'sgets', check the return status and convert them
into proper gs_errors. SF#569111 (iscanbin.c [1.11]: 2002/07/01 14:27:43
jeong)
	- If the 'resourceforall' operator's procedure operand gets an error
or performs a 'stop', Adobe interpreters return an operand stack with the
four operands to resourceforall removed from the stack. The comments
suggested this was the intent, but the logic did not work this way and
instead left all four operands on the stack. Fixes CSL startup problem for
Artifex customer #150. (lib/gs_res.ps [1.23]: 2002/07/02 18:28:31 ray)

update version numbers after the 7.20 release. (lib/gs_init.ps [1.54]:
2002/04/04 03:14:03 giles)

Moves implementation of TransformPQR procedures in default CRD to zcrd.c for
speed. Fixes SF bug #539327. (lib/gs_lev2.ps [1.16], zcrd.c [1.6]:
2002/04/07 01:10:53 raph)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (zcidtest.c [1.1], zfcid1.c [1.11], zfcmap.c [1.12]: 2002/04/08
21:02:44 lpd)

Restores some performance lost as a result of the fix for SourceForge
#495414, by skipping a request for glyph widths which is redundant if the
font doesn't have Metrics or CDevProc. Addresses SourceForge #451456 (a
general request for better pdfwrite performance), which will be closed after
this change. (zchar1.c [1.12]: 2002/04/09 23:31:44 lpd)

FAPI project : fixing a misprint in comment. (fapiufst.c [1.17]: 2002/04/11
16:55:35 igor)

Moves the choice of even-odd vs. winding-number rule for filling Type 1
characters to the beginning of its source file, for greater visibility.
(zchar1.c [1.13]: 2002/04/11 21:44:51 lpd)

Moves the remaining CID-related test operator (.writefont9) to zcidtest.c.
(zcidtest.c [1.2], zfcid0.c [1.13]: 2002/04/11 22:07:36 lpd)

Adds an unnecessary pair of { } to prevent gcc from complaining about an
ambiguous 'else'. (ilocate.c [1.7]: 2002/04/18 05:55:04 lpd)

Adds a make_scaled virtual procedure to Function objects, to create a
modified Function whose N output values are transformed linearly according
to a supplied set of N range parameters. This is the first installment for
implementing conversion of extended-range CIEBased color spaces to ICCBased
spaces in pdfwrite. (ifunc.h [1.8], zfunc.c [1.12]: 2002/04/19 01:17:53 lpd)

Removes the name SystemNames as a name for the system name table.
(lib/gs_btokn.ps [1.9]: 2002/04/19 06:52:25 lpd)

FAPI project : nominalWidthX was wrongly processed for Type 2 fonts. Source
Forge bug "[ 545177 ] (FAPI) wrong glyph placement". (zfapi.c [1.21]:
2002/04/23 17:33:32 igor)

gs_exit() cleanup. gs_exit() is renamed gs_to_exit() since it is an about to
terminate cleanup function, it always returns. Both gs_to_exit() and
gs_abort are client provided functions. The client can have its own special
cleanup on exit, and the client can decide what it wants to do in the abort
case: exit, setjump/longjump, ... gp_do_exit() is the way for the client to
call a system independent exit() this allows for different exit codes on
unix and vms for instance. Only the client can call this, if so desired from
their gs_abort(). (gs.c [1.9], iapi.c [1.7], imain.c [1.24], imain.h [1.6]:
2002/05/14 14:59:41 stefan)

Makes the GC descriptor public for allocating the FDArray of CIDFontType 0
fonts. (zfcid0.c [1.14]: 2002/05/30 13:43:12 lpd)

gs_cjk project : MDRC bug fix pt.1: use signalerror instead stop Fix by
mpsuzuki. (ported from gs7.05) (lib/gs_cmap.ps [1.15]: 2002/06/02 11:53:13
mpsuzuki)

gs_cjk project : MDRC bug fix pt.2: shrink map infos by endcidchar too, to
provide parsing of Adobe-CNS1-4 UCS4 CMap. Fix by mpsuzuki. (ported from
gs7.05) (lib/gs_cmap.ps [1.16]: 2002/06/02 11:53:58 mpsuzuki)

gs_cjk project : return error when we cannot load even CID=0. Fix by
mpsuzuki. (ported from gs7.05) (zfcid0.c [1.15]: 2002/06/02 11:55:28
mpsuzuki)

gs_cjk project : cshow bug patch for CIDFont. proc passed to cshow can
change currentfont internally, in such case, rangecheck error should not be
returned. Fix by Masatake Yamato. (ported from gs7.05) (zchar.c [1.7]:
2002/06/02 11:57:03 mpsuzuki)

gs_cjk project : cshow bug patch for composite font. Fix by Masatake Yamato.
(ported from gs7.05) (zcfont.c [1.5]: 2002/06/02 11:57:34 mpsuzuki)

gs_cjk project : CDevProc patch Fix by Masatake Yamato. (ported from gs7.05)
(zcharout.c [1.8]: 2002/06/02 12:00:54 mpsuzuki)

gs_cjk project : replace "min" &amp; "max" by ".min" &amp; ".max". by
mpsuzuki (ported from gs7.05) (lib/gs_cidfn.ps [1.25],
lib/gs_fonts.ps [1.21], lib/gs_init.ps [1.56], lib/gs_ll3.ps [1.14],
lib/gs_trap.ps [1.6], lib/gs_ttf.ps [1.14], lib/gs_typ32.ps [1.6]:
2002/06/02 12:03:28 mpsuzuki)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings. (iccfont.c [1.6],
ifont.h [1.9], lib/gs_init.ps [1.57], zbfont.c [1.13], zchar1.c [1.17]:
2002/06/09 23:08:23 lpd)

Implements the new get_glyph_index font procedure for PostScript Type 42
fonts. (zfont42.c [1.9]: 2002/06/12 22:07:43 lpd)

Removes all uses of the now-deprecated Pn macros from PostScript operator
files (src/z*.c). (zbfont.c [1.14], zcfont.c [1.6], zchar.c [1.8],
zchar1.c [1.19], zchar42.c [1.8], zcharout.c [1.10], zcie.c [1.11],
zcolor.c [1.8], zcolor2.c [1.8], zcontext.c [1.10], zcontrol.c [1.9],
zcrd.c [1.7], zcsindex.c [1.6], zcssepr.c [1.11], zdevice2.c [1.8],
zdouble.c [1.5], zdpnext.c [1.6], zdps.c [1.7], zdps1.c [1.6],
zdscpars.c [1.15], zfile.c [1.22], zfileio.c [1.15], zfilter.c [1.8],
zfont.c [1.6], zfont0.c [1.6], zfont42.c [1.10], zfproc.c [1.12],
zfrsd.c [1.9], zfsample.c [1.7], zfunc4.c [1.11], zgeneric.c [1.6],
zgstate.c [1.5], zht.c [1.5], zht1.c [1.5], zht2.c [1.5], zimage.c [1.8],
zmatrix.c [1.7], zmedia2.c [1.8], zmisc1.c [1.7], zmisc2.c [1.6],
zpath.c [1.5], zpath1.c [1.5], zpcolor.c [1.6], zrelbit.c [1.5],
zshade.c [1.12], ztoken.c [1.10], ztrans.c [1.18], ztype.c [1.6],
zupath.c [1.6], zusparam.c [1.7], zvmem.c [1.7]: 2002/06/16 03:43:50 lpd)

Removes all uses of the now-deprecated Pn macros from PostScript interpreter
support code (src/i*.c). (iapi.c [1.8], iccfont.c [1.7], idebug.c [1.8],
idict.c [1.7], idstack.c [1.5], igc.c [1.8], igcstr.c [1.6],
ilocate.c [1.8], imain.c [1.25], imainarg.c [1.21], iname.c [1.6],
interp.c [1.12], iparam.c [1.8], ireclaim.c [1.6], isave.c [1.7],
iscan.c [1.9], iscanbin.c [1.10], istack.c [1.5], iutil.c [1.6]: 2002/06/16
03:48:22 lpd)

Removes all uses of the now-deprecated Pn macros from the DSC parser.
(dscparse.c [1.11]: 2002/06/16 03:51:37 lpd)

Removes all uses of the now-deprecated Pn macros from the stream
implementation code. (sbwbs.c [1.5]: 2002/06/16 03:58:14 lpd)

Removes all uses of the now-deprecated Pn macros from PostScript interpreter
header files. (bfont.h [1.7], btoken.h [1.7], ccfont.h [1.5],
dscparse.h [1.10], dwtrace.h [1.4], estack.h [1.6], files.h [1.8],
ialloc.h [1.5], iapi.h [1.6], ibnum.h [1.7], ichar.h [1.6], ichar1.h [1.7],
icharout.h [1.7], icid.h [1.5], icie.h [1.6], icolor.h [1.5],
icontext.h [1.5], icsmap.h [1.5], iddstack.h [1.5], idebug.h [1.5],
idict.h [1.5], idosave.h [1.5], idparam.h [1.6], idstack.h [1.5],
ifcid.h [1.5], ifilter.h [1.6], ifilter2.h [1.5], ifont.h [1.10],
ifont1.h [1.6], ifont2.h [1.5], ifont42.h [1.7], ifrpred.h [1.5],
ifunc.h [1.9], ifwpred.h [1.5], igc.h [1.5], igcstr.h [1.5],
igstate.h [1.6], iht.h [1.5], iimage.h [1.5], iimage2.h [1.5],
iinit.h [1.5], imain.h [1.7], imainarg.h [1.6], imemory.h [1.5],
inamedef.h [1.5], inames.h [1.5], interp.h [1.5], iparam.h [1.5],
iparray.h [1.5], ipcolor.h [1.5], iplugin.h [1.4], iref.h [1.9],
isave.h [1.5], iscan.h [1.8], iscanbin.h [1.5], iscannum.h [1.6],
istack.h [1.5], istream.h [1.5], istruct.h [1.5], itoken.h [1.5],
iutil.h [1.5], iutil2.h [1.6], ivmem2.h [1.5], main.h [1.6], oparc.h [1.5],
opcheck.h [1.5], opdef.h [1.6], oper.h [1.5], opextern.h [1.6]: 2002/06/16
04:47:10 lpd)

Removes all uses of the now-deprecated Pn macros from the stream header
files. (shcgen.h [1.5]: 2002/06/16 05:00:54 lpd)

Adds a comment documenting the fact that errors.h should not be used in
graphics library files. (errors.h [1.7]: 2002/06/19 15:35:32 lpd)

Adds support for incremental font copying, currently required only by the
new pdfwrite text code. (zfctest.c [1.1]: 2002/06/19 15:52:29 lpd)

Update for Borland 5.5 Compiler. Files changes include bcwin32.mak,
dwmainc.c, unistd_.h, bcc32.cfg and Make.htm. Patch by Rod Webster (rodw).
SF#559565 (dwmainc.c [1.13]: 2002/06/24 06:20:25 jeong)

Adds more tracing (with -DDEBUG) when loading CFF fonts.
(lib/gs_cff.ps [1.13]: 2002/07/06 02:49:39 lpd)

</pre><h2><a name="7.21-Streams"></a>Streams</h2><pre>

Fixes problems:
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (seexec.c [1.7]: 2002/05/01 23:15:23 igor)
	- Correct the VMS exit codes for exit_OK and exit_FAILED which
depend on the compiler (Forrest Cahoon). Return the correct exit code from
main for VMS. (stdpre.h [1.8]: 2002/05/15 12:11:44 ghostgum)
	- Fixes an oversight that prevented compilation with stdpn.h
included. (stdpre.h [1.10]: 2002/06/16 09:11:47 lpd)

Documents the fact that exceptional stream conditions remain set until a
client clears them. (scommon.h [1.7]: 2002/06/16 03:20:39 lpd)

Removes all uses of the now-deprecated Pn macros from the stream
implementation code. (sa85d.c [1.6], scfd.c [1.6], scfdtab.c [1.4],
scfe.c [1.5], scfetab.c [1.5], sfxfd.c [1.9], sfxstdio.c [1.7],
siinterp.c [1.5], siscale.c [1.7], stream.c [1.19]: 2002/06/16 03:58:14 lpd)

Removes all uses of the now-deprecated Pn macros from the stream header
files. (sbcp.h [1.5], scommon.h [1.8], sdcparam.h [1.5], sdct.h [1.7],
shc.h [1.5], sjpeg.h [1.5], slzwx.h [1.5], spprint.h [1.6], spsdf.h [1.5],
srdline.h [1.5], std.h [1.8], stream.h [1.11], strimpl.h [1.6],
szlibxx.h [1.5]: 2002/06/16 05:00:54 lpd)

Removes all uses of the now-deprecated Pn macros from system header
wrappers. (stdio_.h [1.7]: 2002/06/16 05:03:12 lpd)

Moves the now-unused Pn macros to a separate file, which now can easily be
commented out and eventually removed. (stdpn.h [1.1], stdpre.h [1.9]:
2002/06/16 08:57:57 lpd)

Adds a missing close-comment (*/) marker. (stdpn.h [1.2]: 2002/06/16
08:59:16 lpd)

</pre><h2><a name="7.21-Library"></a>Library</h2><pre>

Fixes problems:
	- Compiling with -dPROFILE could cause compiler warnings about
"memxxx redefined" (memset, memcpy, etc.). (memory_.h [1.5]: 2002/04/08
20:42:01 lpd)
	- Indexed color spaces weren't implemented for ShadingType 4-7
shadings. (gxshade.c [1.9], gxshade.h [1.7], gxshade4.c [1.9]: 2002/04/14
04:30:47 lpd)
	- If a shading's Function entry was an array of functions rather
than a single function, pdfwrite wrote out an invalid Function object with a
FunctionType of -1. (gsfunc3.c [1.7]: 2002/04/14 06:51:45 lpd)
	- Radial shading fills with /Extend are now clipped correctly. Also
Radial shadings with 2 radii for which the difference is small or zero, now
does as Adobe does. Fixes SourceForge bug #219798, #542457
(gxshade1.c [1.13]: 2002/04/18 08:12:56 jeong)
	- Fix : Type2 interpreter state was wrongly backed up for sbw
fallback. Source Forge bug "[ 541877 ] /invalidfont on Kozuka Mincho".
(gstype2.c [1.18], gxtype1.c [1.13]: 2002/04/18 14:26:27 igor)
	- ShadingType 4-7 shadings with a Function incorrectly read N values
from their data stream, where N is the number of components in the color
space, rather than a single entry for the function argument. Fixes
SourceForge #546415. (gxshade.c [1.10]: 2002/04/20 05:27:11 lpd)
	- The make_scaled procedure for PostScript Calculator Functions
didn't copy the data_source, causing a memory access error when converting
the Function to printable form. (gsfunc4.c [1.11]: 2002/04/20 07:05:39 lpd)
	- Arrayed Output Functions (used internally to represent an array of
Functions) didn't compute or store their Domain, causing pdfwrite to write
them incorrectly. (Bug found during development of pdfwrite.)
(gsfunc3.c [1.9]: 2002/04/20 18:50:36 lpd)
	- ShadingType 4-7 shadings didn't check the validity of ColorSpace
and BBox like other shadings, and when used with a Function, didn't check
that the Function had the correct number of inputs and outputs. (Bug found
during pdfwrite development.) (gsshade.c [1.7]: 2002/04/21 02:48:36 lpd)
	- Arrayed Output functions didn't check whether their input and
output buffers overlapped in memory. This produced incorrect output from
ShadingType 4-7 shadings with a /Function entry that was an array of N
1-output Functions rather than a single N-output function. (Bug discovered
during pdfwrite development.) (gsfunc3.c [1.10]: 2002/04/23 01:10:38 lpd)
	- Radial shading worked only if the original coordinate unit is
identical to the coordinate unit of the output device. Now it works for
every case. Fixes SF#542457. (gxshade1.c [1.14]: 2002/04/23 06:13:58 jeong)
	- Fixes an incorrect comment; eliminates a redundant initialization.
(gsfunc3.c [1.11]: 2002/04/23 16:46:30 lpd)
	- FunctionType 4 functions with more than 1 output didn't scale the
output properly. (gsfunc4.c [1.12]: 2002/04/23 18:38:52 lpd)
	- gx_device_clip::memory was not set but used while intersecting
clip paths. Source Forge bug "[ 547111 ] segfault with pdf using ppmraw".
(gxclip.c [1.7]: 2002/04/26 08:52:54 igor)
	- A rounding problem made installation of CIEBased color spaces
non-idempotent, which could cause seriously incorrect rendering of CIEBased
colors in the sequence [/CIEBased...] setcolorspace, gsave, [/Pattern
[/CIEBased...]] setcolorspace, grestore. Fixes SourceForge bug #547695, q.v.
(gscie.c [1.9], gscie.h [1.9]: 2002/05/07 19:51:53 lpd)
	- The GS lib would not build. This fix corrects two minor problems.
The routine gs_abort was added to gslib.c. The unused include file
gmorecfg.h was removed from vdtrace.c. (gslib.c [1.8], vdtrace.c [1.4]:
2002/05/08 05:39:12 dan)
	- A minor cleanup of vdtrace.c . (vdtrace.c [1.5]: 2002/05/08
06:57:35 igor)
	- pdfwrite relied on the PostScript interpreter to load and make
available the known encodings and glyph sets identified in src/gsccode.h.
With this change, pdfwrite can now be used without a PostScript interpreter,
and with fonts that do not implement the known_encode callback.
(gdevpsf2.c [1.19], gdevpsft.c [1.13], gscedata.c [1.1], gscencs.c [1.1],
gscencs.h [1.1]: 2002/05/12 22:38:08 lpd)
	- as a result of a recent fix, the CIEBased color cache code for
ensuring that black (0,0,0) mapped precisely no longer worked.
(gscie.c [1.10]: 2002/05/15 23:49:39 lpd)
	- gdevpsf.h didn't define the 'stream' type, which it references.
(gdevpsf.h [1.14]: 2002/05/17 16:38:12 lpd)
	- The previous fix for numerical inaccuracies in CIE cache sampling
could lead to extremely long computation times. (gscie.c [1.11],
gscie.h [1.11]: 2002/05/19 15:50:00 lpd)
	- completing "remove dependency of pdfwrite on PS" (gscencs.c [1.3]:
2002/05/20 06:33:36 igor)
	- In the output of the PDF 1.4 image buffer to the target device,
sets color space in graphics state explicitly to RGB (to match the color
space in the image), and also sets the device in the graphics state to the
target device. It may be that a better fix would be to make the image work
even without these explicit state settings, but this seems to work for now.
Fixes SF #520686. (gdevp14.c [1.10]: 2002/05/22 05:07:48 raph)
	- In radial shading, if radius of a circle is 0, there was division
by zero. This is a regression for the fix of SF#219798. Now fixed.
(gxshade1.c [1.15]: 2002/05/26 05:03:31 jeong)
	- Increase clist cmd reading buffer size to 4K to be able to handle
larger halftone bitmaps. The old size of 800 could cause the clist high
level path logic to revert to 'default' filling which created VERY large
clist temp files. SourceForge bug 542664 for Artifex customer 710.
(gxcldev.h [1.7]: 2002/05/29 08:09:59 ray)
	- Add type cast to prevent problem on OpenVMS (gdevp14.c [1.11]:
2002/05/31 13:05:58 joukj)
	- Fixes off-by-one error in loop termination for CIE cache
initializations. (gscie.c [1.12]: 2002/06/06 06:55:12 raph)
	- Fixes uninitialized base buffer and failure to properly increment
a p14_device refcount in the pdf14 imaging code. (gdevp14.c [1.12]:
2002/06/06 06:57:12 raph)
	- Fixes a bug in writing "stripped" TrueType fonts. (Only affects
font copying.) (gdevpsft.c [1.16]: 2002/06/12 22:06:51 lpd)
	- Limit the number of %disk devices to 7 to prevent problems with
the Dynalab font installer. Also return %disk devices in numeric order from
devforall and suppress %disk devices from filenameforall to match Adobe.
Also correct documentation of devforall (no pattern string used). Thanks to
Nori Matsushima and Erik Strik for testing of this feature (diskn.dev).
(gsiodisk.c [1.2]: 2002/06/14 04:04:39 ray)
	- The automatically generated files src/gscedata.[ch] didn't have a
RCS Id line. (gscedata.c [1.3], gscedata.h [1.2]: 2002/06/14 13:31:53 lpd)
	- psf_write_truetype_font and psf_write_cid2_font copied hmtx and
vmtx rather than getting the actual metrics through the font virtual
procedures, which produced incorrect output if the font was defined
incrementally and used MetricsCount. (This only affected pdfwrite.)
(gdevpsf.h [1.18], gdevpsft.c [1.18]: 2002/06/18 00:31:20 lpd)
	- Removes incorrect #includes of errors.h, which is a PostScript
interpreter file, from library files. (gsfcmap1.c [1.3], gxchar.c [1.16]:
2002/06/19 15:33:01 lpd)
	- When drawing with anti-aliasing on devices with less than
8-bit/pixel, extract the correct existing pixel value. (gdevdbit.c [1.5]:
2002/06/21 22:05:33 ghostgum)
	- Propagate possible errors from pdf_end_image_binary.
(gsimage.c [1.7], gsimage.h [1.6], gsptype1.c [1.7], gxccache.c [1.10]:
2002/06/22 11:16:12 igor)
	- gxfcache.h didn't #include or define all of its prerequisites.
(gxfcache.h [1.7]: 2002/06/24 05:14:15 lpd)
	- Fixes an off-by-1 bug in the code for accessing Subrs in copied
fonts. (gxfcopy.c [1.4]: 2002/06/24 17:28:11 lpd)
	- copying a CIDFontType 2 font didn't copy numGlyphs, causing glyphs
to disappear. (gxfcopy.c [1.6]: 2002/06/24 23:48:31 lpd)
	- Fixes an off-by-1 error in copying [Global]Subrs.
(gxfcopy.c [1.7]: 2002/06/25 04:32:48 lpd)
	- gs_copy_font for CIDFontType 0 fonts didn't copy GlobalSubrs
correctly. (gxfcopy.c [1.8]: 2002/06/25 05:22:56 lpd)
	- Two places associated with font writing didn't add in
subroutineNumberBias when interpreting a Type 1 / Type 2 CharString.
(gdevpsfx.c [1.15], gxtype1.c [1.14]: 2002/06/25 05:25:45 lpd)
	- The GSubrs for CIDFontType 0 fonts were not written, possibly
producing invalid embedded fonts from pdfwrite. Fixes SourceForge #571911.
(gdevpsf.h [1.19], gdevpsf2.c [1.21]: 2002/06/25 06:52:05 lpd)
	- Fixes two uninitialized memory reads, by zeroing the gs_allocated
field of newly allocated allocators, and the userdict_index field of dict
stacks in newly allocated contexts. (gsalloc.c [1.17]: 2002/06/26 20:01:53
raph)
	- Fix uninitialized memory read of pcache-&gt;order.data_memory by
zeroing it on construction. (gxht.c [1.7]: 2002/06/26 20:03:21 raph)
	- Code for writing and copying Type 1 fonts didn't correctly handle
Subrs arrays with null elements. (gdevpsf1.c [1.15], gdevpsf2.c [1.22],
gxfcopy.c [1.9]: 2002/06/26 23:17:24 lpd)
	- Allocating the glyphs and names arrays for copied fonts used the
wrong structure descriptor. (gxfcopy.c [1.10]: 2002/06/27 03:55:39 lpd)
	- Fixes 3 minor problems with font copying: GC overhead was
substantial; the components of composite glyphs were not copied; the
encoding index was not copied when copying a complete font.
(gxfcopy.c [1.12]: 2002/06/28 01:47:22 lpd)
	- The size of the version field of the ttf_maxp_t structure was
defined incorrectly as 2 rather than 4. (This structure wasn't referenced
anywhere.) (gxttf.h [1.6]: 2002/06/28 05:27:22 lpd)
	- Font copying did not allocate its tables correctly when copying
incrementally downloaded TrueType fonts, and did not implement encode_char
correctly for TrueType fonts when glyph_space == GLYPH_SPACE_NAME. (Only
affects new pdfwrite text code.) (gxfcopy.c [1.13]: 2002/06/28 22:35:26 lpd)
	- The return status values from 'sgets' were not handled properly.
Now the functions that use 'sgets', check the return status and convert them
into proper gs_errors. SF#569111 (gsmatrix.c [1.6], gsparam2.c [1.6],
gxclrast.c [1.16]: 2002/07/01 14:27:43 jeong)
	- The hmtx/vmtx tables generated from the glyph metric data for
embedded TrueType fonts in PDF output were incorrect, due to a misreading of
the TrueType spec. (This only affects the new pdfwrite text code: the old
code does not generate the tables this way.) (gdevpsft.c [1.20]: 2002/07/06
02:54:32 lpd)

update version numbers after the 7.20 release. (gscdef.c [1.20]: 2002/04/04
03:14:03 giles)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (gdevpsfm.c [1.10], gsfcid2.c [1.1], gsfcmap.c [1.18],
gsfcmap.h [1.7], gsfcmap1.c [1.1], gsfont0c.c [1.1], gstype42.c [1.18],
gxfcmap.h [1.13], gxfcmap1.h [1.1], gxfont0c.h [1.1], gxfont42.h [1.8]:
2002/04/08 21:02:44 lpd)

Restores some performance lost as a result of the fix for SourceForge
#495414, by skipping a request for glyph widths which is redundant if the
font doesn't have Metrics or CDevProc. Addresses SourceForge #451456 (a
general request for better pdfwrite performance), which will be closed after
this change. (gxfont.h [1.10]: 2002/04/09 23:31:44 lpd)

Brings dependencies in lib.mak up to date. (vdtrace.c [1.3]: 2002/04/12
05:55:39 lpd)

Splits off the md5 test program into a separate file; removes support for
non-ANSI compilers; makes byte order test either static or dynamic.
(md5.c [1.6], md5.h [1.4]: 2002/04/13 19:20:28 lpd)

Defines a floating-point range type gs_range_t in gstypes.h; redefines the
existing gs_range type in gscie.h in terms of it. (gscie.h [1.8],
gstypes.h [1.6]: 2002/04/18 05:59:21 lpd)

Committing in . Type-cast fix Modified Files: gs/src/gsfcid2.c
(gsfcid2.c [1.2]: 2002/04/18 10:15:47 joukj)

Adds a make_scaled virtual procedure to Function objects, to create a
modified Function whose N output values are transformed linearly according
to a supplied set of N range parameters. This is the first installment for
implementing conversion of extended-range CIEBased color spaces to ICCBased
spaces in pdfwrite. (gsfunc.c [1.7], gsfunc.h [1.7], gsfunc0.c [1.8],
gsfunc3.c [1.8], gsfunc4.c [1.10], gxfunc.h [1.6]: 2002/04/19 01:17:53 lpd)

Documents the need to use ctm_only when passing the CTM of an imager state
to procedures such as gs_point_transform. (gxistate.h [1.10]: 2002/04/21
22:04:49 lpd)

Removes unused gdevht halftoning "device". Part of DeviceN task list.
(gxclrast.c [1.13], gxclread.c [1.6]: 2002/04/22 23:01:47 raph)

Reorganizes code slightly to better document the fact that font notification
lists must be allocated in stable memory. (gsfcid2.c [1.3], gsfont.c [1.8],
gxfont.h [1.11]: 2002/05/02 21:00:40 lpd)

Documents the fact that driver procedures other than put_params must not
reset is_open, and the invariant that requires any device instance
referenced from a graphics state to be open. (gxdevcli.h [1.9]: 2002/05/02
22:36:47 lpd)

Add missing headers so types are properly defined. Fixes SF bug #547357.
(gxclrast.c [1.14]: 2002/05/09 18:24:17 giles)

Changed END_OBJECT_SCAN to call gs_abort() instead of gs_exit in a debug
system when a chunk parsing error occurs. If gs_abort() is never to be
called such as during a debug dump END_OBJECT_SCAN_NO_ABORT can be called.
(gsalloc.c [1.15], gxalloc.h [1.9]: 2002/05/13 16:26:50 stefan)

gs_exit() cleanup. gs_exit() is renamed gs_to_exit() since it is an about to
terminate cleanup function, it always returns. Both gs_to_exit() and
gs_abort are client provided functions. The client can have its own special
cleanup on exit, and the client can decide what it wants to do in the abort
case: exit, setjump/longjump, ... gp_do_exit() is the way for the client to
call a system independent exit() this allows for different exit codes on
unix and vms for instance. Only the client can call this, if so desired from
their gs_abort(). (gsexit.h [1.7], gslib.c [1.9]: 2002/05/14 14:59:41
stefan)

Simplifies the C implementation of the known Encodings, and makes it conform
better to Ghostscript standard coding style. (gscedata.c [1.2],
gscedata.h [1.1], gscencs.c [1.2]: 2002/05/14 23:33:18 lpd)

Changes the 'base' and 'factor' for CIE caches from float to double, to
avoid numerical inaccuracies. (gscie.h [1.10]: 2002/05/15 23:40:56 lpd)

Removes an inappropriate e-mail address from a comment. (gscencs.c [1.4]:
2002/05/24 19:15:20 lpd)

Adds an #ifndef to allow gs_cid_system_info_t to be defined as an abstract
type. (gxcid.h [1.6]: 2002/05/28 02:41:45 lpd)

Adds a GC descriptor for gs_font_info_t. (gsfont.c [1.9], gxfont.h [1.12]:
2002/05/30 07:11:51 lpd)

Makes the GC descriptor public for allocating the FDArray of CIDFontType 0
fonts. (gsfcid.c [1.9], gxfcid.h [1.10]: 2002/05/30 13:43:12 lpd)

gs_cjk project : handle "cidchar" map correctly. Fix by mpsuzuki. (ported
from gs7.05) (gsfcmap1.c [1.2]: 2002/06/02 11:54:38 mpsuzuki)

gs_cjk project : bugfix for nested FMapType4/5 OCF. Fix by suzuki toshiya.
(ported from gs7.05) (gschar0.c [1.6]: 2002/06/02 11:56:23 mpsuzuki)

gs_cjk project : cshow bug fix for CIDFontType2. Fix by Hideyuki Suzuki.
(ported from gs7.05) (gxchar.c [1.11]: 2002/06/02 11:58:21 mpsuzuki)

gs_cjk project : glyph cache bug patch for vertical writing mode. Fallback
against inconsistency in double checking of glyph cache. The inconsistency
causes misplacement of CJK glyph in vertical writing mode. Fix by Hideo
Saito. (ported from gs7.05) (gxchar.c [1.12], gxchar.h [1.7]: 2002/06/02
11:59:20 mpsuzuki)

gs_cjk project : glyphshow in vertical writing mode bug patch. Originally,
FontBBox_as_Metrics2 was set when charcode string is decoded into CIDs.
"glyphshow" bypasses such decoding procedure, thus FontBBox_as_Metrics2 is
not set. Fix by Masatake Yamato. (ported from gs7.05) (gstext.c [1.9]:
2002/06/02 11:59:57 mpsuzuki)

gs_cjk project : return error when we cannot load even CID=0. Fix by
mpsuzuki. (ported from gs7.05) (gxchar.c [1.13]: 2002/06/02 12:01:31
mpsuzuki)

Improves documentation of the open_device and open_file procedures in
gx_io_device. (gxiodev.h [1.5]: 2002/06/02 19:27:41 lpd)

Adds upper-case versions of some macros, retaining the lower-case versions
for backward compatibility. (gsccode.h [1.7]: 2002/06/03 16:54:27 lpd)

Adds an API for writing TrueType and CIDFontType 2 fonts without any glyphs.
pdfwrite uses this internally for copying fonts. (gdevpsf.h [1.15],
gdevpsft.c [1.14]: 2002/06/04 14:51:00 lpd)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings.
(gdevpsf1.c [1.13], gdevpsf2.c [1.20], gdevpsft.c [1.15], gsccode.h [1.8],
gscencs.c [1.5], gscencs.h [1.2], gsfont.c [1.10], gxccache.c [1.8],
gxchar.c [1.14], gxchar.h [1.8], gxfont.h [1.13], gxxfont.h [1.5]:
2002/06/09 23:08:22 lpd)

Extends Type 42 fonts at the library level so that if their instantiator
provides a mechanism for named glyphs (such as the PostScript Type 42
CharStrings dictionary), they will be accepted by glyph_info et al. Required
for the new font copying code. (gstype42.c [1.19], gxfont42.h [1.9]:
2002/06/11 20:26:41 lpd)

Improves documentation for the gs_glyph data type. (gsccode.h [1.9],
gscencs.h [1.3]: 2002/06/14 01:57:44 lpd)

Improves a few comments, and changes pdf_write_font_resources to
pdf_close_text_document for greater clarity. (gdevpsf.h [1.16]: 2002/06/15
21:11:53 lpd)

Removes all uses of the now-deprecated Pn macros from PostScript interpreter
header files. (vdtrace.h [1.5]: 2002/06/16 04:47:10 lpd)

Removes all uses of the now-deprecated Pn macros from system header
wrappers. (malloc_.h [1.5], math_.h [1.5], memory_.h [1.6], pipe_.h [1.5]:
2002/06/16 05:03:12 lpd)

Removes all uses of the now-deprecated Pn macros from all remaining .c
files. (gdevalph.c [1.5], gdevdgbr.c [1.5], gdevdrop.c [1.6],
gdevm8.c [1.5], gdevprn.c [1.10], gdevprna.c [1.5], gdevpsf1.c [1.14],
gdevpsft.c [1.17], gp_getnv.c [1.5], gp_strdl.c [1.5], gp_unifs.c [1.9],
gsalloc.c [1.16], gsalphac.c [1.5], gsargs.c [1.7], gsbittab.c [1.5],
gscdevn.c [1.9], gschar.c [1.6], gscie.c [1.13], gsciemap.c [1.11],
gscolor.c [1.8], gscolor1.c [1.7], gscolor2.c [1.9], gscoord.c [1.8],
gscsepr.c [1.16], gsdparam.c [1.9], gsdps.c [1.5], gsflip.c [1.5],
gsfunc0.c [1.9], gshsb.c [1.5], gsht.c [1.5], gsht1.c [1.6],
gshtscr.c [1.9], gsimpath.c [1.5], gsiodevs.c [1.5], gslib.c [1.10],
gsmalloc.c [1.10], gsmatrix.c [1.5], gsnogc.c [1.10], gsnotify.c [1.5],
gsparam2.c [1.5], gsparams.c [1.5], gspath.c [1.6], gspath1.c [1.6],
gsptype1.c [1.6], gsstate.c [1.15], gstrans.c [1.16], gstrap.c [1.6],
gstype42.c [1.20], gxccache.c [1.9], gxccman.c [1.5], gxchar.c [1.15],
gxcht.c [1.7], gxclimag.c [1.6], gxclip.c [1.8], gxclipm.c [1.6],
gxclist.c [1.6], gxclmem.c [1.5], gxclpath.c [1.12], gxclrast.c [1.15],
gxclread.c [1.7], gxcpath.c [1.6], gxfapi.c [1.6], gxfill.c [1.11],
gxhint1.c [1.5], gxhint2.c [1.6], gxhint3.c [1.6], gxht.c [1.6],
gxidata.c [1.7], gxifast.c [1.7], gximag3x.c [1.11], gximage.c [1.5],
gximage3.c [1.9], gxipixel.c [1.6], gxp1fill.c [1.5], gxpageq.c [1.5],
gxpath.c [1.5], gxpcmap.c [1.6], gxpcopy.c [1.6], gxpdash.c [1.5],
gxshade.c [1.11], gxshade6.c [1.6], gxstroke.c [1.5]: 2002/06/16 05:48:54
lpd)

Removes all uses of the now-deprecated Pn macros from the gp*.h (platform
interface) header files. (gp.h [1.12], gpcheck.h [1.5], gpgetenv.h [1.5],
gpmisc.h [1.5], gpsync.h [1.5]: 2002/06/16 06:59:02 lpd)

Removes all uses of the now-deprecated Pn macros from driver-related headers
(gdev*.h). (gdevbbox.h [1.5], gdevcmap.h [1.5], gdevmem.h [1.6],
gdevmpla.h [1.5], gdevmrop.h [1.6], gdevmrun.h [1.5], gdevplnx.h [1.5],
gdevppla.h [1.5], gdevprn.h [1.10], gdevprna.h [1.5], gdevpsf.h [1.17],
gdevvec.h [1.10]: 2002/06/16 07:25:26 lpd)

Removes all uses of the now-deprecated Pn macros from the remaining library
header files. (gdebug.h [1.6], gsalloc.h [1.5], gsalpha.h [1.5],
gsalphac.h [1.5], gsargs.h [1.7], gsbitops.h [1.5], gscdefs.h [1.5],
gscdevn.h [1.6], gschar.h [1.6], gscie.h [1.12], gscindex.h [1.5],
gsclipsr.h [1.5], gscolor.h [1.6], gscolor1.h [1.5], gscolor2.h [1.6],
gscolor3.h [1.5], gscompt.h [1.5], gscoord.h [1.5], gscpixel.h [1.5],
gscrd.h [1.5], gscrdp.h [1.5], gscrypt1.h [1.5], gscsepr.h [1.7],
gscspace.h [1.11], gscssub.h [1.5], gsdcolor.h [1.7], gsdevice.h [1.6],
gsdps.h [1.5], gsdsrc.h [1.6], gserror.h [1.6], gsexit.h [1.8],
gsfcmap.h [1.8], gsflip.h [1.5], gsfname.h [1.5], gsfont.h [1.6],
gsfunc.h [1.8], gsfunc0.h [1.5], gsfunc3.h [1.5], gsfunc4.h [1.5],
gsgc.h [1.6], gshsb.h [1.5], gsht.h [1.5], gsht1.h [1.5], gshtx.h [1.5],
gsicc.h [1.6], gsimage.h [1.5], gsipar3x.h [1.7], gsiparam.h [1.7],
gsiparm2.h [1.5], gsiparm3.h [1.7], gsiparm4.h [1.5], gslib.h [1.5],
gsline.h [1.5], gsmalloc.h [1.5], gsmatrix.h [1.5], gsmdebug.h [1.6],
gsmemlok.h [1.5], gsmemory.h [1.7], gsmemraw.h [1.7], gsmemret.h [1.5],
gsnotify.h [1.5], gspaint.h [1.5], gsparam.h [1.11], gsparams.h [1.5],
gsparamx.h [1.6], gspath.h [1.5], gspath2.h [1.5], gspcolor.h [1.5],
gsptype1.h [1.5], gsptype2.h [1.7], gsrect.h [1.5], gsrefct.h [1.5],
gsrop.h [1.5], gsropc.h [1.5], gsropt.h [1.7], gsshade.h [1.6],
gsstate.h [1.5], gsstruct.h [1.13], gsstype.h [1.5], gstext.h [1.6],
gstparam.h [1.10], gstrans.h [1.9], gstrap.h [1.6], gstype1.h [1.6],
gsuid.h [1.5], gsutil.h [1.7], gxalloc.h [1.10], gxarith.h [1.5],
gxbcache.h [1.5], gxcdevn.h [1.5], gxchar.h [1.9], gxchrout.h [1.5],
gxcid.h [1.7], gxcie.h [1.7], gxcldev.h [1.8], gxclio.h [1.5],
gxclip.h [1.5], gxclip2.h [1.5], gxclist.h [1.5], gxclmem.h [1.5],
gxclpage.h [1.5], gxclpath.h [1.9], gxcmap.h [1.5], gxcolor2.h [1.7],
gxcomp.h [1.5], gxcoord.h [1.5], gxcpath.h [1.5], gxcspace.h [1.7],
gxctable.h [1.5], gxdcconv.h [1.5], gxdcolor.h [1.6], gxdevbuf.h [1.5],
gxdevcli.h [1.10], gxdevice.h [1.8], gxdevmem.h [1.5], gxdht.h [1.7],
gxdhtres.h [1.5], gxdither.h [1.5], gxfapi.h [1.6], gxfarith.h [1.6],
gxfcache.h [1.6], gxfcid.h [1.11], gxfixed.h [1.6], gxfmap.h [1.6],
gxfont.h [1.14], gxfont1.h [1.9], gxfont42.h [1.10], gxfunc.h [1.7],
gxgetbit.h [1.5], gxht.h [1.5], gxiclass.h [1.5], gximag3x.h [1.6],
gximage.h [1.6], gximage3.h [1.7], gxiodev.h [1.6], gxiparam.h [1.5],
gxistate.h [1.11], gxline.h [1.5], gxmatrix.h [1.7], gxmclip.h [1.5],
gxop1.h [1.5], gxp1impl.h [1.5], gxpageq.h [1.5], gxpaint.h [1.5],
gxpath.h [1.5], gxpcache.h [1.5], gxpcolor.h [1.5], gxropc.h [1.5],
gxrplane.h [1.5], gxsample.h [1.5], gxshade.h [1.8], gxshade4.h [1.5],
gxstate.h [1.5], gxsync.h [1.5], gxtext.h [1.10], gxtmap.h [1.5],
gxtype1.h [1.11], gxxfont.h [1.6], gzacpath.h [1.5], gzht.h [1.8],
gzline.h [1.5], gzpath.h [1.6]: 2002/06/16 08:45:42 lpd)

Removes a few overlooked uses of the Pn macros. (gscrd.h [1.6],
gximag3x.h [1.7], gximage3.h [1.8]: 2002/06/16 08:55:53 lpd)

Changes the writing of embedded TrueType (and CIDFontType 2) fonts so that
hmtx/vmtx are written only if the font already includes a hhea/vhea table.
This is not a perfect solution, but it is better than always writing both
hmtx and vmtx, because a TrueType rasterizer cannot make use of the *mtx
table without the corresponding *hea table. (gdevpsft.c [1.19]: 2002/06/18
22:50:51 lpd)

Exports the default get_metrics procedure for Type 42 fonts, for use by
copied fonts. (gstype42.c [1.21], gxfont42.h [1.11]: 2002/06/19 00:27:57
lpd)

Factors out a procedure for copying XUID data, for font copying.
(gsfont.c [1.11], gsuid.h [1.6], gsutil.c [1.8]: 2002/06/19 01:06:12 lpd)

Adds support for incremental font copying, currently required only by the
new pdfwrite text code. (gxfcopy.c [1.1], gxfcopy.h [1.1]: 2002/06/19
15:52:29 lpd)

Committing in . one (int*)-&gt;(unsigned int*) type cast added Modified
Files: gs/src/gschar0.c
----------------------------------------------------------------------
(gschar0.c [1.7]: 2002/06/20 08:24:40 joukj)

Adds some omitted definitions in gxfcopy.h. (gxfcopy.h [1.2]: 2002/06/21
22:36:09 lpd)

Documents that gs_copy_glyph returns 0 if the glyph is newly copied, 1 if it
was already copied, and adjusts the code slightly to match.
(gxfcopy.c [1.2], gxfcopy.h [1.3]: 2002/06/21 22:56:18 lpd)

Adds a procedure to copy the entire contents (glyphs and Encoding) of a
font. (gxfcopy.c [1.3], gxfcopy.h [1.4]: 2002/06/24 00:40:31 lpd)

Update for Borland 5.5 Compiler. Files changes include bcwin32.mak,
dwmainc.c, unistd_.h, bcc32.cfg and Make.htm. Patch by Rod Webster (rodw).
SF#559565 (unistd_.h [1.7]: 2002/06/24 06:20:25 jeong)

Adds double-definition protection so that gs_font_type0 can be used as an
abstract type. (gxfont0.h [1.6]: 2002/06/24 17:27:30 lpd)

Adds a comment explaining the glyph copying algorithm in
gs_copy_font_complete. (gxfcopy.c [1.5]: 2002/06/24 23:06:31 lpd)

Adds options to gs_copy_glyph to conditionally require that the glyph has or
has not been copied already. (gxfcopy.c [1.11], gxfcopy.h [1.5]: 2002/06/27
17:51:57 lpd)

Adds a field to TrueType fonts to hold the true numGlyphs value from maxp.
(gstype42.c [1.22], gxfont42.h [1.12]: 2002/06/28 05:31:36 lpd)

Exports the procedure for parsing the 'pieces' of a Type 1 or Type 2
CharString (the character codes referenced by 'seac' or the equivalent), if
any. Needed for font copying. (gxfont1.h [1.10], gxtype1.c [1.15]:
2002/07/06 02:46:10 lpd)

News.htm update, version number and date fixups. First commit mandated by
Release.htm, in preparation for 7.21 release. (gscdef.c [1.21]: 2002/07/08
20:09:54 raph)

</pre><h2><a name="7.21-Other"></a>Other</h2><pre>

Upgrade icclib to (proposed) 2.01 release. Patch has been sent to Graeme
Gill for consideration. (icclib/icc.c [1.7], icclib/icc.h [1.5],
icclib/icc9809.h [1.3]: 2002/04/18 18:28:56 raph)

Removes trailing comma in enum. (icclib/icc.h [1.6]: 2002/04/18 20:28:54
raph)

Update icclib to the latest 2.02 release. (icclib/Licence.txt [1.2],
icclib/Readme.txt [1.2], icclib/icc.c [1.8], icclib/icc.h [1.7]: 2002/04/22
18:30:25 giles)

Add a configure option to enable COMPILE_INITS. After a patch from Michael
Sweet. (Makefile.in [1.14], configure.ac [1.17]: 2002/05/03 03:51:23 giles)

Add a configure option for setting the name of the ghostscript executable.
From a patch by Michael Sweet. (Makefile.in [1.15], configure.ac [1.18]:
2002/05/03 07:34:19 giles)

</pre>

<hr>

<h1><a name="Version7.20"></a>Version 7.20 (2002-04-03)</h1>

<p>
This is the first development release after the 7.0x series. While
it is a development release, it is likely to be quite stable and
robust, largely thanks to automated regression testing.

<p> Major changes include:

<ul>
<li>Support for external font renderers such as Agfa UFST.

<li>An optional "diskn" feature that emulates the "%disk" devices
found on some Adobe printers.

<li>The <tt><b>-dSAFER</b></tt> flag now tightens read access to
arbitrary files, as well as write access. Thus,
<tt><b>-dSAFER</b></tt> in this release is equivalent to
<tt><b>-dSAFER -dPARANOIDSAFER</b></tt> in 7.04. This will break some
viewers, notably gv.

</ul>

<p> In addition, the following improvements have been merged from
the 7.04 release:

<ul>

<li>A rather serious security hole, where PostScript code could cause
arbitrary commands to be executed, has been patched.

<li>This release integrates the IJS driver, which makes it much easier
to add and upgrade printer drivers without needing to recompile
Ghostscript.

<li>There is a configure script for automatically configuring the
build system on Unix platforms. Those who enjoy the fun of hand-editing
the makefile are still welcome to do so.

</ul>

<p>
And, of course, the usual bug fixing and performance enhancement.

<p>
There has also been considerable development of our DeviceN
implementation and related color work on a private branch. These new
features are <em>not</em> included in this release. We expect to merge
them into the main branch soon.

<p>
There exists another private branch which integrates PCL and PostScript/PDF
in the same executable. Again, that work is not reflected in this
release.

<p>
The following SourceForge bug numbers were open at the time of release:
 219798,
 405342,
 406979,
 407342,
 414947
 414985,
 415142,
 416131,
 416830,
 418241,
 421057,
 423838,
 427193,
 427314,
 427347,
 428891,
 428973,
 432040,
 434277,
 436099,
 437285,
 438957,
 443745,
 446344,
 446672,
 448199,
 450663,
 451456,
 452155,
 453969,
 458261,
 458500,
 458775,
 458780,
 459647,
 462221,
 465720,
 465936,
 468762,
 472681,
 474745,
 475147,
 477644,
 479071,
 482033,
 482038,
 483629,
 484752,
 484753,
 485498,
 485510,
 485510,
 487953,
 493348,
 495319,
 498595,
 503794,
 505047,
 505151,
 505429,
 506375,
 508081,
 508675,
 509646,
 510808,
 511232,
 513905,
 514616,
 514898,
 515475,
 515966,
 516653,
 517349,
 518742,
 520686,
 520972,
 521354,
 521597,
 521664,
 521916,
 522486,
 522507,
 524292,
 525508,
 525712,
 526099,
 526491,
 527152,
 527525,
 528647,
 529103,
 529411,
 529578,
 530011,
 530213,
 530588,
 531300,
 532468,
 533467,
 534637,
 535366,
 535395,
 535395,
 535401,
 535752,
 535836,
 535997,
 536863,
 536877,
 537066,
 538033,
 538042,
 538055,
 538267,
 538311,
 538398,
 538428.


<h3><a name="7.20_Incompatible_changes"></a>Incompatible changes</h3>

<pre>
(Interpreter)
	- Updates clients and implementors for the new glyph outline data
structure.
	- -dSAFER flag now restricts read access to arbitrary files in
addition to restricting write access.
	- While not strictly an incompatible change, authors of drivers
with potential security implications are encouraged to review the
security changes, including the LockSafetyParams mechanism.

(Library)
	- Changes all procedures for getting glyph outline data to return
the data by storing it into a gs_glyph_data_t structure that includes memory
management information.  This is a NON-BACKWARD-COMPATIBLE change to both
implementors and clients.  It corrects a significant design error: formerly
these procedures encoded memory management information in their return code,
which was obscure and error-prone.  See src/gsgdata.[hc].
</pre>

<h2><a name="7.20-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Fixes minor problems with the English introduced by the most
recent change. (doc/Use.htm [1.37]: 2001/12/08 15:41:28 lpd)
	- A "\" should have been a "\e" for troff. (fix from Nelson Beebe)
(man/ansi2knr.1 [1.3]: 2001/12/31 22:43:35 lpd)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922.
(doc/index.html [1.3]: 2002/01/09 21:04:20 giles)
	- gdevpdfc.h and gdevpdfk.c weren't listed in Develop.htm.
(doc/Develop.htm [1.52]: 2002/01/09 23:26:05 lpd)
	- Fixes a couple of minor formatting errors.
(doc/C-style.htm [1.23]: 2002/01/16 16:05:54 lpd)
	- Improve security in a (mostly) backward compatible fashion adding
more flexible file access paths (PermitFile...) as user paramters and adding
the facility to return to NOSAFER mode after running jobs (files/procedures)
in SAFER mode. This should address SF bug #474582 and eliminate the need for
the RedHat PARANOIDSAFER patch. (doc/Language.htm [1.38],
doc/Use.htm [1.40]: 2002/01/24 06:33:33 rayjj)
	- pdfwrite often gave an error if a name with embedded special
characters was a key or value in a pdfmark dictionary. Fixes SourceForge
#505877. (doc/Language.htm [1.39]: 2002/01/29 02:54:43 lpd)
	- new releases should be uploaded to
ftp://upload.sourceforge.net/incoming. (doc/Release.htm [1.44]: 2002/02/18
02:47:59 giles)
	- Check in corrected module after "admin -ko" change to prevent the
$Id: lines from having the keyword replacement. This was broken for a LONG
time. (doc/gsdoc.el [1.4]: 2002/02/22 19:08:29 ray)
	- POSIX 2001 has obsoleted tail +128c. Document the new convention
'tail -c +129' as an alternate. (doc/Use.htm [1.46]: 2002/03/28 21:28:06
giles)
	- use UTC universally in the prerelease check script to avoid
spurious errors due to timezone differences (doc/API.htm [1.19],
doc/Bug-form.htm [1.25], doc/Bug-info.htm [1.24], doc/C-style.htm [1.30],
doc/Commprod.htm [1.17], doc/Copying.htm [1.17], doc/Current.htm [1.17],
doc/DLL.htm [1.19], doc/Develop.htm [1.68], doc/Devices.htm [1.42],
doc/Drivers.htm [1.25], doc/Fonts.htm [1.26], doc/Helpers.htm [1.21],
doc/History1.htm [1.17], doc/History2.htm [1.17], doc/History3.htm [1.17],
doc/History4.htm [1.17], doc/History5.htm [1.19], doc/History6.htm [1.34],
doc/Htmstyle.htm [1.22], doc/Install.htm [1.30], doc/Issues.htm [1.20],
doc/Language.htm [1.45], doc/Lib.htm [1.19], doc/Maintain.htm [1.27],
doc/Make.htm [1.47], doc/New-user.htm [1.34], doc/Projects.htm [1.40],
doc/Ps-style.htm [1.15], doc/Ps2epsi.htm [1.19], doc/Ps2pdf.htm [1.38],
doc/Psfiles.htm [1.29], doc/Readme.htm [1.36], doc/Release.htm [1.51],
doc/Source.htm [1.17], doc/Tester.htm [1.16], doc/Testing.htm [1.4],
doc/Unix-lpr.htm [1.17], doc/Use.htm [1.48], doc/Xfonts.htm [1.17],
doc/gs-vms.hlp [1.16], man/dvipdf.1 [1.12], man/font2c.1 [1.12],
man/gs.1 [1.12], man/gslp.1 [1.12], man/gsnd.1 [1.12], man/pdf2dsc.1 [1.12],
man/pdf2ps.1 [1.14], man/pdfopt.1 [1.12], man/pf2afm.1 [1.12],
man/pfbtopfa.1 [1.13], man/printafm.1 [1.12], man/ps2ascii.1 [1.12],
man/ps2epsi.1 [1.12], man/ps2pdf.1 [1.16], man/ps2pdfwr.1 [1.15],
man/ps2ps.1 [1.19], man/wftopfa.1 [1.12]: 2002/03/29 00:44:34 giles)
	- bring Release.htm more up-to-date with current practice
(doc/Release.htm [1.52]: 2002/03/29 03:17:14 giles)
	- update the instructions for cvs2hist.py to reflect the new
branch-sensitivity options. (doc/Release.htm [1.53]: 2002/03/29 07:42:04
giles)
	- the cvs2hist invocation must use -b in the rlog tags, rather than
-r to correctly identify the head branch. Some files are tagged as 'MAIN'
rather than 'HEAD'. (doc/Release.htm [1.57]: 2002/04/03 06:44:57 giles)
	- further clarify the call to cvs2hist for the main branch.
(doc/Release.htm [1.59]: 2002/04/03 07:22:45 giles)

Advises coders not to "shadow" a local variable or procedure parameter with
an inner local variable of the same name. (doc/C-style.htm [1.22]:
2001/10/21 02:08:20 lpd)

Changes all procedures for getting glyph outline data to return a structure
that includes memory management information. This is a
NON-BACKWARD-COMPATIBLE change to both implementors and clients. It corrects
a serious design error: formerly these procedures encoded memory management
information in their return code, which was obscure and error-prone.
(doc/Develop.htm [1.48]: 2001/10/21 06:20:08 lpd)

Removes the admonishment to update PVERSION and JVERSION from the Makefile
documentation. The build dependencies were removed earlier to reduce user
confusion; they're currently vestigial in expectation of future build
incompatibilities. This is the second half of the fix for sf bug #457838.
(doc/Make.htm [1.37]: 2001/10/24 22:22:35 giles)

Adds a reference to the v7.xx History file. (doc/gs.css [1.2]: 2001/10/24
22:33:38 giles)

Build and use documentation for the FAPI project. (doc/Make.htm [1.38],
doc/Use.htm [1.34]: 2001/10/30 20:55:11 igorm)

Adds a requested enhancement: pdfwrite should emit warnings when
appropriate. (doc/Projects.htm [1.34]: 2001/11/12 22:31:27 lpd)

FAPI project: fixing misspelled keyword in Use.htm . (doc/Use.htm [1.35]:
2001/11/20 13:41:41 igorm)

adds documentation for the MacOS X framework build. (doc/Make.htm [1.39]:
2001/11/25 07:17:23 giles)

Adds more documentation about when the garbage collector can be invoked.
(doc/Develop.htm [1.49]: 2001/12/06 01:45:58 lpd)

Adds additional documentation about continuations on the PostScript e-stack.
(doc/Develop.htm [1.50]: 2001/12/06 04:16:27 lpd)

Adds extensionless aliases for all the scripts used in the normal build
process; renames pre as pre.tcl; adds an Id line to smoke.ps; updates
documentation to match. (doc/Release.htm [1.41]: 2001/12/07 07:16:42 lpd)

Implementing a mapped resource category redefiner; Provide a map for CIDFont
category; Reorganize the mapping algorithm for FAPI. (doc/Use.htm [1.36]:
2001/12/08 11:31:20 igorm)

Updates pdfwrite to match Acrobat Distiller 5 more closely: adds
OffOptimizations and PreserveEPSInfo parameters; adds /ebook value for
PDFSETTINGS; changes some of the DCTEncode parameter values for
auto-filtered images; adds CreationDate and ModDate in Info dictionary;
always subsets non Type 1 fonts. (doc/Ps2pdf.htm [1.33]: 2001/12/09 00:07:56
lpd)

FAPI project : implementing CID fonts with FAPI. (doc/Use.htm [1.38]:
2001/12/12 23:02:08 igorm)

Finishes removing support for pre-ANSI (a.k.a. "traditional" or "K&amp;R") C
compilers. (doc/Develop.htm [1.51], doc/Make.htm [1.40]: 2001/12/13 18:11:09
lpd)

Improve security for device related access to the file system and to pipes
by allowing the dangerous parameters to be locked (for example, OutputFile).
The locking is performed after command line parameters are established.
Locking is not turned on by default as a result of this change, but
-d.LockSafetyParams=true can be added to the command line to accomplish
this. Related to SF bug #474582 (sort of). (doc/Language.htm [1.35]:
2001/12/22 00:44:01 rayjj)

Adds some brief documentation about using the framework build of ghostscript
with MacOS X. (doc/API.htm [1.12]: 2002/01/04 03:52:25 giles)

Adds a very modest checksource script for checking the conformance of source
files with coding and architectural standards. This script should eventually
be run as part of nightly regression testing. (doc/Release.htm [1.42]:
2002/01/08 08:21:51 lpd)

FAPI project : Define new device parameter .EmbedFontObjects to disable FAPI
for devices which embed fonts. (doc/Use.htm [1.39]: 2002/01/08 11:10:24
igorm)

FAPI project : Define new device parameter .EmbedFontObjects to disable FAPI
for devices which embed fonts. (doc/Language.htm [1.36]: 2002/01/08 11:46:14
igorm)

Improves the description of .EmbedFontObjects. (doc/Language.htm [1.37]:
2002/01/10 17:10:49 lpd)

Changes the extension of the tiger and golfer example files to '.eps' to
accurately reflect their internal filetype. (doc/Devices.htm [1.35],
doc/Make.htm [1.41], doc/Psfiles.htm [1.23]: 2002/01/10 22:21:33 giles)

Adds basic documentation on using the ./configure script.
(doc/Make.htm [1.42], doc/Release.htm [1.43]: 2002/01/11 04:58:59 giles)

Adds a CompressFonts parameter to pdfwrite to control whether embedded fonts
are compressed, to help debugging. The default value is true.
(doc/Ps2pdf.htm [1.34]: 2002/01/29 01:03:26 lpd)

An addition to Issues.htm about hybrid fonts and the job server loop. Source
Forge bug [500941] /rangecheck in --.type1execchar--. Thanks to L. Peter
Deutsch for participation. (doc/Issues.htm [1.16]: 2002/01/30 01:12:23
igorm)

Adds a new documentation section on display devices along with a basic
description of the x11 devices. (doc/Devices.htm [1.36]: 2002/01/30 07:34:45
giles)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles.
(doc/Develop.htm [1.53]: 2002/01/31 20:47:12 raph)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles.
(doc/Devices.htm [1.37]: 2002/01/31 20:47:16 raph)

Minor change from 'search' to 'filenameforall' in discussion about the
wildcard characters in PermitFile... strings. (doc/Language.htm [1.40]:
2002/01/31 21:18:08 rayjj)

Documentation and makefile updates for IJS driver. (doc/Devices.htm [1.38]:
2002/02/01 03:17:12 raph)

Documents the work-around of using '#' instead of '=' to separate command
line options from their arguments. The was previously listed only as a quirk
of the Wacom build on MS-DOS, but is also needed on win32 because the
command shell treats '=' as whitespace in passing arguments to batch files
(like ps2pdf.bat). Closes SourceForge bug #483066. Also documents that
MS-DOS is no longer a supported operating system. (doc/Use.htm [1.41]:
2002/02/01 19:46:55 giles)

Replaces the toolbin/regression directory with a new toolbin/tests directory
that includes all testing scripts. Adds and documents a framework for
writing and running testing scripts. (doc/Readme.htm [1.32],
doc/Testing.htm [1.1]: 2002/02/19 15:46:01 lpd)

Cleans up a few loose ends from the transition to the new testing framework.
(doc/Testing.htm [1.2]: 2002/02/19 16:16:07 lpd)

FAPI project : Providing basic documentation. (doc/Develop.htm [1.54],
doc/Psfiles.htm [1.24]: 2002/02/20 18:27:49 igor)

Removes mention of SourceForge Bug #223005, which was closed before the 7.00
release. (doc/Issues.htm [1.17]: 2002/02/21 20:32:06 giles)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(doc/API.htm [1.13], doc/Bug-info.htm [1.21], doc/Copying.htm [1.14],
doc/Current.htm [1.14], doc/DLL.htm [1.16], doc/Develop.htm [1.55],
doc/Devices.htm [1.39], doc/Drivers.htm [1.22], doc/Fonts.htm [1.23],
doc/Helpers.htm [1.18], doc/Hershey.htm [1.4], doc/History1.htm [1.14],
doc/History2.htm [1.14], doc/History3.htm [1.14], doc/History4.htm [1.14],
doc/History5.htm [1.16], doc/History6.htm [1.31], doc/Htmstyle.htm [1.19],
doc/Humor.htm [1.4], doc/Install.htm [1.27], doc/Issues.htm [1.18],
doc/Language.htm [1.41], doc/Lib.htm [1.15], doc/Maintain.htm [1.24],
doc/Make.htm [1.43], doc/New-user.htm [1.31], doc/Projects.htm [1.35],
doc/Ps2epsi.htm [1.16], doc/Ps2pdf.htm [1.35], doc/Psfiles.htm [1.25],
doc/Public.htm [1.5], doc/Readme.htm [1.33], doc/Release.htm [1.45],
doc/Source.htm [1.14], doc/Unix-lpr.htm [1.14], doc/Use.htm [1.42],
doc/Xfonts.htm [1.14], doc/gs-vms.hlp [1.13], doc/gsdoc.el [1.2],
doc/index.html [1.4]: 2002/02/21 20:57:44 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (doc/API.htm [1.14], doc/Bug-info.htm [1.22],
doc/Copying.htm [1.15], doc/Current.htm [1.15], doc/DLL.htm [1.17],
doc/Develop.htm [1.56], doc/Devices.htm [1.40], doc/Drivers.htm [1.23],
doc/Fonts.htm [1.24], doc/Helpers.htm [1.19], doc/Hershey.htm [1.5],
doc/History1.htm [1.15], doc/History2.htm [1.15], doc/History3.htm [1.15],
doc/History4.htm [1.15], doc/History5.htm [1.17], doc/History6.htm [1.32],
doc/Htmstyle.htm [1.20], doc/Humor.htm [1.5], doc/Install.htm [1.28],
doc/Language.htm [1.42], doc/Lib.htm [1.16], doc/Maintain.htm [1.25],
doc/Make.htm [1.44], doc/New-user.htm [1.32], doc/Projects.htm [1.36],
doc/Ps2epsi.htm [1.17], doc/Ps2pdf.htm [1.36], doc/Psfiles.htm [1.26],
doc/Public.htm [1.6], doc/Readme.htm [1.34], doc/Release.htm [1.46],
doc/Source.htm [1.15], doc/Unix-lpr.htm [1.15], doc/Use.htm [1.43],
doc/Xfonts.htm [1.15], doc/gs-vms.hlp [1.14], doc/gsdoc.el [1.3],
doc/index.html [1.5]: 2002/02/21 21:36:32 giles)

Adds a description of the zfsample.c module. (doc/Develop.htm [1.57]:
2002/02/22 21:38:41 dan)

Adds a description of the .Widths array project, which would solve some
obscure problems when the PDF interpreter is given certain non-conforming
files. (doc/Projects.htm [1.37]: 2002/02/25 00:04:09 lpd)

Adds wording to make it clearer that procedures must be documented in
explicit detail. (doc/Release.htm [1.47]: 2002/02/25 03:48:03 lpd)

Removes auto-generated plain text versions of html documentation from cvs
and makes their creation an explicit part of the release process.
(doc/Release.htm [1.48]: 2002/02/25 20:54:30 giles)

Implementing Visual Trace service to graphics library, and Visual Trace
server for Windows. (doc/API.htm [1.15], doc/Develop.htm [1.58],
doc/Lib.htm [1.17], doc/Projects.htm [1.38], doc/Use.htm [1.44]: 2002/02/26
16:09:15 igor)

Remove the return_if_error macro from ALL occurrences and clean up some of
the C-style problems with the FAPI code. Add some of the new rules about
macros to C-style.htm. (doc/C-style.htm [1.24]: 2002/02/28 21:21:41 ray)

FAPI project : Completing basic documentation. (doc/Develop.htm [1.59]:
2002/03/01 15:07:03 igor)

Specifies no initial indentation of preprocessor commands, but indentation
of 2 spaces per nesting level between the # and the command name.
(doc/C-style.htm [1.25]: 2002/03/05 18:12:51 lpd)

Removes an unsightly paragraph break. (doc/C-style.htm [1.26]: 2002/03/05
18:15:12 lpd)

Adds link to ijs.mak to basic developer documentation.
(doc/Develop.htm [1.60]: 2002/03/06 17:32:30 raph)

Adds indications that pre-ANSI compilers are no longer supported.
(doc/Develop.htm [1.61]: 2002/03/07 19:29:50 giles)

Adds the MacOS X platform-dependent makefiles to the developer
documentation. (doc/Develop.htm [1.62]: 2002/03/07 19:59:48 giles)

Adds the Info-macos.plist framework description to the developer
documentation. (doc/Develop.htm [1.63]: 2002/03/07 20:06:49 giles)

Adds the source files associated with the Autoconf build to the developer
documentation. (doc/Develop.htm [1.64]: 2002/03/07 20:13:56 giles)

Documents the recommendation to use a suffixed underscore for local
variables introduced by macros. (doc/C-style.htm [1.27]: 2002/03/11 19:27:45
lpd)

Add example code to doc/API.htm showing how to call the Ghostscript DLL as a
PostScript to PDF convertor. (doc/API.htm [1.16]: 2002/03/12 07:14:35
ghostgum)

Correct typo in documentation. (doc/API.htm [1.17]: 2002/03/12 07:17:15
ghostgum)

Update msvc32.mak and documentation to support compilation with Microsoft
Visual Studio .NET. This requires MSVC_VERSION=7. (doc/Make.htm [1.45]:
2002/03/12 07:20:08 ghostgum)

Documents how to build a Windows self-extracting archive for a ghostscript
distribution (doc/Release.htm [1.49]: 2002/03/12 07:25:58 ghostgum)

Add a new optional FEATURE, diskn.dev that provides emulation of %disk
devices present on some Adobe printers. This version is NOT multiple
instance safe, but is useful for embedded printers or for server systems
with a single Ghostscript instance. Documentation is in Language.htm.
Addresses SourceForge bug #493344 for Artifex customer #411.
(doc/Language.htm [1.43]: 2002/03/13 20:27:38 ray)

Adds -dNOTRANSPARENCY flag, which disables all PDF 1.4 transparency
processing. (doc/Use.htm [1.45]: 2002/03/14 15:53:08 raph)

Add documentation for modules related to diskn.dev FEATURE (lib/gs_diskn.ps
and src/gsiodisk.c). (doc/Develop.htm [1.65], doc/Psfiles.htm [1.27]:
2002/03/15 18:36:27 ray)

Requests that authors of new macros put extra effort into documentation.
(doc/C-style.htm [1.28]: 2002/03/19 17:34:13 lpd)

Add gs_diskn.ps to the list of Miscellaneous PostScript files.
(doc/Develop.htm [1.66]: 2002/03/22 00:59:25 ray)

Update release dates in preparation of the upcoming development release
(doc/API.htm [1.18], doc/Bug-form.htm [1.24], doc/Bug-info.htm [1.23],
doc/C-style.htm [1.29], doc/Commprod.htm [1.16], doc/Copying.htm [1.16],
doc/Current.htm [1.16], doc/DLL.htm [1.18], doc/Develop.htm [1.67],
doc/Devices.htm [1.41], doc/Drivers.htm [1.24], doc/Fonts.htm [1.25],
doc/Helpers.htm [1.20], doc/History1.htm [1.16], doc/History2.htm [1.16],
doc/History3.htm [1.16], doc/History4.htm [1.16], doc/History5.htm [1.18],
doc/History6.htm [1.33], doc/Htmstyle.htm [1.21], doc/Install.htm [1.29],
doc/Issues.htm [1.19], doc/Language.htm [1.44], doc/Lib.htm [1.18],
doc/Maintain.htm [1.26], doc/Make.htm [1.46], doc/New-user.htm [1.33],
doc/Projects.htm [1.39], doc/Ps-style.htm [1.14], doc/Ps2epsi.htm [1.18],
doc/Ps2pdf.htm [1.37], doc/Psfiles.htm [1.28], doc/Readme.htm [1.35],
doc/Release.htm [1.50], doc/Source.htm [1.16], doc/Tester.htm [1.15],
doc/Testing.htm [1.3], doc/Unix-lpr.htm [1.16], doc/Use.htm [1.47],
doc/Xfonts.htm [1.16], doc/gs-vms.hlp [1.15], man/dvipdf.1 [1.11],
man/font2c.1 [1.11], man/gs.1 [1.11], man/gslp.1 [1.11], man/gsnd.1 [1.11],
man/pdf2dsc.1 [1.11], man/pdf2ps.1 [1.13], man/pdfopt.1 [1.11],
man/pf2afm.1 [1.11], man/pfbtopfa.1 [1.12], man/printafm.1 [1.11],
man/ps2ascii.1 [1.11], man/ps2epsi.1 [1.11], man/ps2pdf.1 [1.15],
man/ps2pdfwr.1 [1.14], man/ps2ps.1 [1.18], man/wftopfa.1 [1.11]: 2002/03/29
00:01:01 giles)

Documents uncertainty regarding resolution setting parameter for
SPARCprinter devices. Closes SF bug #215256. (doc/Devices.htm [1.43]:
2002/03/29 02:27:51 raph)

Updates documentation on PDF problem files, removing non-POSIX compliant
suggested workaround. Thanks to Paul Eggers for pointing out the problem.
Fixes SF bug #521597. (doc/Use.htm [1.49]: 2002/03/29 04:25:13 raph)

Document that other API programming examples are available on the
ghostscript web site. (doc/API.htm [1.20]: 2002/03/29 08:15:59 ghostgum)

Further improves the description of the release process, particularly the
section on making GNU Ghostscript releases. (doc/Release.htm [1.54]:
2002/03/29 23:40:41 giles)

Updates the documentation with the new windows icons.
(doc/Develop.htm [1.69]: 2002/03/30 18:31:56 giles)

minor cleanup of the release instructions (doc/Release.htm [1.55]:
2002/03/31 00:28:07 giles)

Updates release date for 7.20rc2 (doc/API.htm [1.21],
doc/Bug-form.htm [1.26], doc/Bug-info.htm [1.25], doc/C-style.htm [1.31],
doc/Commprod.htm [1.18], doc/Copying.htm [1.18], doc/Current.htm [1.18],
doc/DLL.htm [1.20], doc/Develop.htm [1.70], doc/Devices.htm [1.44],
doc/Drivers.htm [1.26], doc/Fonts.htm [1.27], doc/Helpers.htm [1.22],
doc/History1.htm [1.18], doc/History2.htm [1.18], doc/History3.htm [1.18],
doc/History4.htm [1.18], doc/History5.htm [1.20], doc/History6.htm [1.35],
doc/Htmstyle.htm [1.23], doc/Install.htm [1.31], doc/Issues.htm [1.21],
doc/Language.htm [1.46], doc/Lib.htm [1.20], doc/Maintain.htm [1.28],
doc/Make.htm [1.48], doc/New-user.htm [1.35], doc/Projects.htm [1.41],
doc/Ps-style.htm [1.16], doc/Ps2epsi.htm [1.20], doc/Ps2pdf.htm [1.39],
doc/Psfiles.htm [1.30], doc/Readme.htm [1.37], doc/Source.htm [1.18],
doc/Tester.htm [1.17], doc/Testing.htm [1.5], doc/Unix-lpr.htm [1.18],
doc/Use.htm [1.50], doc/Xfonts.htm [1.18], doc/gs-vms.hlp [1.17],
man/dvipdf.1 [1.13], man/font2c.1 [1.13], man/gs.1 [1.13],
man/gslp.1 [1.13], man/gsnd.1 [1.13], man/pdf2dsc.1 [1.13],
man/pdf2ps.1 [1.15], man/pdfopt.1 [1.13], man/pf2afm.1 [1.13],
man/pfbtopfa.1 [1.14], man/printafm.1 [1.13], man/ps2ascii.1 [1.13],
man/ps2epsi.1 [1.13], man/ps2pdf.1 [1.17], man/ps2pdfwr.1 [1.16],
man/ps2ps.1 [1.20], man/wftopfa.1 [1.13]: 2002/03/31 00:32:38 giles)

further cleanups for release (doc/Release.htm [1.56]: 2002/03/31 00:45:57
giles)

Update documentation for 7.20rc3 (doc/API.htm [1.22],
doc/Bug-form.htm [1.27], doc/Bug-info.htm [1.26], doc/C-style.htm [1.32],
doc/Commprod.htm [1.19], doc/Copying.htm [1.19], doc/Current.htm [1.19],
doc/DLL.htm [1.21], doc/Develop.htm [1.71], doc/Devices.htm [1.45],
doc/Drivers.htm [1.27], doc/Fonts.htm [1.28], doc/Helpers.htm [1.23],
doc/History1.htm [1.19], doc/History2.htm [1.19], doc/History3.htm [1.19],
doc/History4.htm [1.19], doc/History5.htm [1.21], doc/History6.htm [1.36],
doc/Htmstyle.htm [1.24], doc/Install.htm [1.32], doc/Issues.htm [1.22],
doc/Language.htm [1.47], doc/Lib.htm [1.21], doc/Maintain.htm [1.29],
doc/Make.htm [1.49], doc/New-user.htm [1.36], doc/Projects.htm [1.42],
doc/Ps-style.htm [1.17], doc/Ps2epsi.htm [1.21], doc/Ps2pdf.htm [1.40],
doc/Psfiles.htm [1.31], doc/Readme.htm [1.38], doc/Release.htm [1.58],
doc/Source.htm [1.19], doc/Tester.htm [1.18], doc/Testing.htm [1.6],
doc/Unix-lpr.htm [1.19], doc/Use.htm [1.51], doc/Xfonts.htm [1.19],
doc/gs-vms.hlp [1.18], man/dvipdf.1 [1.14], man/font2c.1 [1.14],
man/gs.1 [1.14], man/gslp.1 [1.14], man/gsnd.1 [1.14], man/pdf2dsc.1 [1.14],
man/pdf2ps.1 [1.16], man/pdfopt.1 [1.14], man/pf2afm.1 [1.14],
man/pfbtopfa.1 [1.15], man/printafm.1 [1.14], man/ps2ascii.1 [1.14],
man/ps2epsi.1 [1.14], man/ps2pdf.1 [1.18], man/ps2pdfwr.1 [1.17],
man/ps2ps.1 [1.21], man/wftopfa.1 [1.14]: 2002/04/03 06:56:07 giles)

</pre><h2><a name="7.20-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- tmake recognized the end of a rule body by a blank line, rather
than by a line that didn't begin with a tab. Fixes SourceForge #415170.
(toolbin/tmake.tcl [1.4]: 2001/10/24 05:45:55 lpd)
	- the icclib makefile comments were out of date; the build rule
referred to gs_stdio_h, which no longer exists; the build rule for gsicc.o
referred to icc_h, which was not defined at that point. (gs.mak [1.7],
icclib.mak [1.4], lib.mak [1.57]: 2001/10/25 21:17:16 lpd)
	- the recent (previous) update to tmake.tcl omitted a line, which
caused the detection of out-of-date files to stop working.
(toolbin/tmake.tcl [1.6]: 2001/10/25 22:02:11 lpd)
	- lib.mak failed to include the dependency of gxdevcli.h on
gstparam.h. (lib.mak [1.58]: 2001/10/31 07:10:59 lpd)
	- makes png the default device on macos which is better supported
than the pbm. (macosx.mak [1.2]: 2001/11/25 06:42:59 giles)
	- Repairs code problems with the fix for bug #224056: non-re-entrant
code, bad formatting, unused variables and computations, and a missing
#include. (int.mak [1.53]: 2001/12/07 05:41:59 lpd)
	- For images specified in general CIEBased color spaces, pdfwrite
would divide the image into tiny rectangles. If the output level is PDF 1.3
or higher, pdfwrite now converts the CIEBased color space to an ICCBased
space if possible. (devs.mak [1.48]: 2001/12/13 18:24:05 lpd)
	- Fix for #474544. Corrects inability to convert valid DeviceN tint
transform functions into type 4 functions. Valid operator names were not
being recognized unless the tint transform function had been bound. One of
two fixes required for this problem. Customer #710. (int.mak [1.57]:
2002/01/11 05:09:22 dancoby)
	- Fix for #474544. This is the second of two fixes required for this
problem. This fix creates a type 0 function which implements a "color cube"
for those tint transform functions which cannot be converted into a type 4
function. Customer #710. Note: There is one more revision planned for this
effort. This revision will make the buildcolorcube operator into a more
general buildsampledfunction. This will allow its use in other situations.
(int.mak [1.58]: 2002/01/17 05:53:40 dancoby)
	- Disables optimization on OpenVMS, because some OpenVMS C compilers
produce incorrect code for gdevpsfx.c. Fixes SourceForge #508722.
(openvms.mak [1.19], openvms.mmk [1.14]: 2002/02/05 19:54:14 lpd)
	- Fix 3 of 3 for #474544 "Core dump - shfill error with DeviceN". 1.
Recognizes already encapsulated tint transform functions. 2. Generalizes the
color cube logic for use in other situations. 3. Uses the domain of the
alternate color space for the range of the tint transform function.
(int.mak [1.60]: 2002/02/06 02:35:11 dancoby)
	- ps2pdf14 was not being installed by unixinst.mak. Fixes
SourceForge bug #508607. (unixinst.mak [1.22]: 2002/02/06 07:16:17 jackiem)
	- Fixes cvs2hist.py to be branch-aware, changing log selection
policy from "all logs more recent than the date of the last tag" to "all
logs along the current branch more recent than the reference tag given in
the -j option". (toolbin/cvs2hist.py [1.10]: 2002/02/06 21:11:54 raph)
	- pkmraw device was not built by Windows makefile, but it is
required for regression testing. (msvc32.mak [1.23]: 2002/02/18 11:22:17
igor)
	- ijs.mak had the wrong license header (ijs.mak [1.3]: 2002/02/19
23:59:34 giles)
	- reverts the license of ijs.mak to AFPL; the previous change was
intended for the GPL branch. (ijs.mak [1.4]: 2002/02/20 00:16:00 giles)
	- check_docrefs didn't pass the gsroot parameter down far enough.
(toolbin/tests/check_docrefs.py [1.3]: 2002/02/20 07:10:14 lpd)
	- The Ghostscript test class didn't initialize the new member
gsoptions. (bug introduced by Windows portability patch)
(toolbin/tests/gstestgs.py [1.3]: 2002/02/20 07:14:35 lpd)
	- The check_dirs test script still tried to check
toolbin/regression, which no longer exists.
(toolbin/tests/check_dirs.py [1.3]: 2002/02/21 22:19:03 lpd)
	- The check_source test script didn't properly skip src/gconf.h, and
it was too strict about the form of double-inclusion protection for header
files. (toolbin/tests/check_source.py [1.3]: 2002/02/21 22:22:49 lpd)
	- Add LICENSE file and the few files generated by autogen.sh to the
allowed files in check_dir.py. (toolbin/tests/check_dirs.py [1.5]:
2002/02/22 00:34:54 jack)
	- The check_docrefs test script skipped over directories named by
links. (toolbin/tests/check_docrefs.py [1.6]: 2002/02/22 02:42:35 lpd)
	- Include gs_resmp.ps into the prelude with ADDMOD rather than
.runlibfile (suggested by Raymond J. Johnston), and increase MSVC compiler
heap for building gs_init.c with COMPILE_INITS=1. Source Forge bug "[ 526192
] Broken COMPILE_INITS". (int.mak [1.64], msvccmd.mak [1.9]: 2002/03/06
08:55:16 igor)
	- Second attempt to fix COMPILE_INITS=1. This statically embeds all
gs_*.ps files, xlatmap and FAPIconfig. Source Forge bug "[ 526192 ] Broken
COMPILE_INITS". (int.mak [1.65]: 2002/03/07 10:52:06 igor)
	- Definition for gsiodisk.$(OBJ) was multiply defined. Remove the
one that is not dependent on the diskn.dev FEATURE. (lib.mak [1.66]:
2002/03/15 06:25:13 ray)
	- remove -fno-common from the standard gcc LDFLAGS. It is only
required at compile time and doesn't need to be passed to the linker.
(macosx.mak [1.7], unix-gcc.mak [1.29]: 2002/03/28 23:12:09 giles)
	- base release date on UTC rather than local time
(version.mak [1.43]: 2002/03/29 00:36:20 giles)
	- use UTC universally in the prerelease check script to avoid
spurious errors due to timezone differences (toolbin/pre.tcl [1.6]:
2002/03/29 00:44:34 giles)
	- gsfont.h didn't define gs_matrix as an opaque type, causing
clients of gsfont.h to include gsmatrix.h unnecessarily. (lib.mak [1.68]:
2002/03/29 00:48:21 lpd)
	- Makes pathname manipulation in check_dirs.py and check_docrefs.py
more portable and robust. (toolbin/tests/check_dirs.py [1.6],
toolbin/tests/check_docrefs.py [1.7]: 2002/03/29 02:32:54 raph)
	- Change spaces at start of rule to a single tab required by some
makes. (winint.mak [1.14]: 2002/04/02 16:27:56 ray)
	- Correct vdtrace.h dependencies. This eliminates &gt;300 lines of
output from the gsmake.tcl makefile check tool. (int.mak [1.68],
lib.mak [1.69]: 2002/04/02 19:34:37 ray)
	- .dev was left off of uniprint.dev in a DEVICES macro
(msvc32.mak [1.29]: 2002/04/03 20:14:28 ray)

Updates version number to 7.10 to indicate that this is now the development
branch. (version.mak [1.37]: 2001/10/20 09:25:22 raph)

Changes all procedures for getting glyph outline data to return a structure
that includes memory management information. This is a
NON-BACKWARD-COMPATIBLE change to both implementors and clients. It corrects
a serious design error: formerly these procedures encoded memory management
information in their return code, which was obscure and error-prone.
(lib.mak [1.54]: 2001/10/21 06:20:08 lpd)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(bcwin32.mak [1.13], dvx-gcc.mak [1.13], gs.mak [1.6], int.mak [1.51],
lib.mak [1.55], msvc32.mak [1.21], openvms.mak [1.17], openvms.mmk [1.13],
unix-gcc.mak [1.24], unixansi.mak [1.17], winlib.mak [1.13]: 2001/10/21
18:57:41 igorm)

Upgrades tmake to provide line numbers for undefined variables; improves the
warning message for redefined variables; makes --warn-undefined-variables
warn at every use of a variable, not just the first use, and adds
--warn-undefined-variables-once to warn at only the first use.
(toolbin/tmake.tcl [1.5]: 2001/10/24 06:36:53 lpd)

FAPI project: improving error handling. (lib.mak [1.56]: 2001/10/24 08:10:26
igorm)

Improves organization and commenting; adds a --warn-all switch.
(toolbin/tmake.tcl [1.7]: 2001/10/30 19:43:51 lpd)

FAPI project : (1) upgrading with UFST 4.3, (2) implementing GS cache.
(int.mak [1.52]: 2001/11/11 23:09:16 igorm)

Adds makefile support for building ghostscript as a MacOS X 'Framework'
format encapsulated shared library. The new build is invoked by copying
macosx.mak to the top level directory and invoking 'make framework'.
(macos-fw.mak [1.1], macosx.mak [1.1]: 2001/11/22 07:29:48 giles)

Adds extensionless aliases for all the scripts used in the normal build
process; renames pre as pre.tcl; adds an Id line to smoke.ps; updates
documentation to match. (toolbin/cvs2hist [1.1], toolbin/gsmake [1.1],
toolbin/makefonts [1.1], toolbin/makefonts.tcl [1.1], toolbin/makegnu [1.1],
toolbin/makehist [1.1], toolbin/makehist.tcl [1.1],
toolbin/makemaster [1.1], toolbin/makemaster.tcl [1.1],
toolbin/makeset [1.1], toolbin/makeset.tcl [1.11], toolbin/maketars [1.1],
toolbin/maketars.tcl [1.1], toolbin/makewin [1.1],
toolbin/makewin.tcl [1.1], toolbin/pre [1.12], toolbin/pre.tcl [1.1],
toolbin/smoke.ps [1.2], toolbin/tmake.tcl [1.8]: 2001/12/07 07:16:42 lpd)

Implementing a mapped resource category redefiner; Provide a map for CIDFont
category; Reorganize the mapping algorithm for FAPI. (int.mak [1.54]:
2001/12/08 11:31:20 igorm)

FAPI project : Preparing environment for CID font processing; Fixing UFST
file names. (int.mak [1.55], lib.mak [1.59]: 2001/12/12 02:48:20 igorm)

Updates the comment describing the AK makefile variable to reflect the fact
that ansi2knr no longer exists. (gs.mak [1.8]: 2001/12/13 18:12:17 lpd)

FAPI project : implementing CDevProc and CIDDecoding. (int.mak [1.56]:
2002/01/02 07:24:07 igorm)

Makes tmake a shell script rather than a link, as is done with all the other
tcl scripts. (toolbin/tmake [1.1]: 2002/01/08 07:21:54 lpd)

Adds a very modest checksource script for checking the conformance of source
files with coding and architectural standards. This script should eventually
be run as part of nightly regression testing. (toolbin/pre.tcl [1.2]:
2002/01/08 08:21:51 lpd)

Updates the extension of the golfer and tiger example files to '.eps' in the
install target. Also updates some documentation in source file comments.
(unixinst.mak [1.21]: 2002/01/11 04:13:12 giles)

Documents ICCSRCDIR along with the other platform-specific defines.
(gs.mak [1.9]: 2002/01/12 02:55:14 giles)

FAPI project : Provide a transfer of GlobalSubrs through FAPI for embedded
Type 2 fonts. (int.mak [1.59]: 2002/01/18 11:03:06 igorm)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles. (gs.mak [1.10],
ijs.mak [1.1]: 2002/01/31 20:46:57 raph)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles. (devs.mak [1.49]:
2002/01/31 20:47:08 raph)

Documentation and makefile updates for IJS driver. (bcwin32.mak [1.14],
dvx-gcc.mak [1.14], ijs.mak [1.2], macos-mcp.mak [1.4], macosx.mak [1.3],
msvc32.mak [1.22], openvms.mak [1.18], os2.mak [1.20], ugcclib.mak [1.14],
unix-gcc.mak [1.25], unixansi.mak [1.18], watclib.mak [1.14],
watcw32.mak [1.14], wctail.mak [1.4], winlib.mak [1.14]: 2002/02/01 03:17:12
raph)

Moves TrueType glyph flags to gxttf.h, where they should have been from the
beginning. (lib.mak [1.60]: 2002/02/11 16:27:58 lpd)

Removes some unnecessary #includes from gdevpsdu.c. (devs.mak [1.50]:
2002/02/16 15:19:24 lpd)

Replaces the toolbin/regression directory with a new toolbin/tests directory
that includes all testing scripts. Adds and documents a framework for
writing and running testing scripts. (toolbin/tests/check_all.py [1.1],
toolbin/tests/check_dirs.py [1.1], toolbin/tests/check_docrefs.py [1.1],
toolbin/tests/check_source.py [1.1], toolbin/tests/dump_testdb [1.1],
toolbin/tests/fuzzy.c [1.1], toolbin/tests/gsconf.py [1.1],
toolbin/tests/gsparamsets.py [1.1], toolbin/tests/gssum.py [1.1],
toolbin/tests/gstestgs.py [1.1], toolbin/tests/gstestutils.py [1.1],
toolbin/tests/make_testdb [1.1], toolbin/tests/make_two_versions [1.1],
toolbin/tests/revert_baseline [1.1], toolbin/tests/run_nightly [1.1],
toolbin/tests/run_regression [1.1], toolbin/tests/update_baseline [1.1]:
2002/02/19 15:46:01 lpd)

Updates the new test scripts with Igor's changes for running on MS Windows.
(toolbin/tests/gsconf.py [1.2], toolbin/tests/gstestgs.py [1.2],
toolbin/tests/make_testdb [1.2], toolbin/tests/make_two_versions [1.2],
toolbin/tests/revert_baseline [1.2], toolbin/tests/update_baseline [1.2]:
2002/02/19 15:59:14 lpd)

Cleans up a few loose ends from the transition to the new testing framework.
(toolbin/tests/.cvsignore [1.1], toolbin/tests/check_docrefs.py [1.2]:
2002/02/19 16:16:07 lpd)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(all-arch.mak [1.10], bcwin32.mak [1.15], cfonts.mak [1.3],
contrib.mak [1.25], cp.bat [1.2], cp.cmd [1.2], devs.mak [1.51],
dvx-gcc.mak [1.15], dvx-head.mak [1.3], dvx-tail.mak [1.6], dwmain.rc [1.3],
dwsetup.rc [1.6], dwuninst.rc [1.4], gs.mak [1.11], gs16spl.rc [1.3],
gsdll2.rc [1.3], gsdll32.rc [1.3], gsos2.rc [1.3], gspmdrv.rc [1.3],
gswin.rc [1.3]: 2002/02/21 20:57:46 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(icclib.mak [1.5], ijs.mak [1.5], int.mak [1.61], jpeg.mak [1.5],
lib.mak [1.61], libpng.mak [1.11], macos-fw.mak [1.2], macos-mcp.mak [1.5],
macosx.mak [1.4], msvc32.mak [1.24], msvccmd.mak [1.7], msvclib.mak [1.17],
msvctail.mak [1.7], mv.bat [1.2], mv.cmd [1.2], openvms.mak [1.20],
openvms.mmk [1.15], os2.mak [1.21], pcwin.mak [1.3], rm.bat [1.2],
rm.cmd [1.2], ugcclib.mak [1.15], unix-aux.mak [1.6], unix-dll.mak [1.7],
unix-end.mak [1.3], unix-gcc.mak [1.26], unixansi.mak [1.19],
unixhead.mak [1.3], unixinst.mak [1.23], unixlink.mak [1.4],
version.mak [1.38], watc.mak [1.17], watclib.mak [1.15], watcw32.mak [1.15],
wccommon.mak [1.4], wctail.mak [1.5], winint.mak [1.9], winlib.mak [1.15],
winplat.mak [1.3], wmin.mak [1.3], zlib.mak [1.4]: 2002/02/21 20:57:49 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(toolbin/3way.tcl [1.4], toolbin/bughunt.sh [1.2], toolbin/cvs2hist [1.2],
toolbin/cvs2hist.py [1.11], toolbin/errlist.tcl [1.4],
toolbin/gsindent [1.4], toolbin/gsmake [1.2], toolbin/gsmake.tcl [1.6],
toolbin/gssubst [1.2], toolbin/headers.tcl [1.4], toolbin/leaks.tcl [1.4],
toolbin/makefonts [1.2], toolbin/makefonts.tcl [1.2], toolbin/makegnu [1.2],
toolbin/makegnu.tcl [1.4], toolbin/makehist [1.2],
toolbin/makehist.tcl [1.2], toolbin/makemaster [1.2],
toolbin/makemaster.tcl [1.2], toolbin/makeset [1.2],
toolbin/makeset.tcl [1.12], toolbin/maketars [1.2],
toolbin/maketars.tcl [1.2], toolbin/makewin [1.2],
toolbin/makewin.tcl [1.2], toolbin/many2pdf.tcl [1.2],
toolbin/pdfinflt.ps [1.2], toolbin/pre [1.13], toolbin/pre.tcl [1.3],
toolbin/precheck.tcl [1.4], toolbin/smoke.ps [1.3], toolbin/suite.tcl [1.4],
toolbin/tests/check_all.py [1.2], toolbin/tests/check_dirs.py [1.2],
toolbin/tests/check_docrefs.py [1.4], toolbin/tests/check_source.py [1.2],
toolbin/tests/dump_testdb [1.2], toolbin/tests/gsconf.py [1.3],
toolbin/tests/gsparamsets.py [1.2], toolbin/tests/gssum.py [1.2],
toolbin/tests/gstestgs.py [1.4], toolbin/tests/gstestutils.py [1.2],
toolbin/tests/make_testdb [1.3], toolbin/tests/make_two_versions [1.3],
toolbin/tests/revert_baseline [1.3], toolbin/tests/run_nightly [1.2],
toolbin/tests/run_regression [1.2], toolbin/tests/update_baseline [1.3],
toolbin/tmake [1.2], toolbin/tmake.tcl [1.9]: 2002/02/21 20:57:53 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (all-arch.mak [1.11], bcwin32.mak [1.16],
cfonts.mak [1.4], contrib.mak [1.26], cp.bat [1.3], cp.cmd [1.3],
devs.mak [1.52], dvx-gcc.mak [1.16], dvx-head.mak [1.4], dvx-tail.mak [1.7],
dwmain.rc [1.4], dwsetup.rc [1.7], dwuninst.rc [1.5], gs.mak [1.12],
gs16spl.rc [1.4], gsdll2.rc [1.4], gsdll32.rc [1.4], gsos2.rc [1.4],
gspmdrv.rc [1.4], gswin.rc [1.4], icclib.mak [1.6], ijs.mak [1.6],
int.mak [1.62], jpeg.mak [1.6], lib.mak [1.62], libpng.mak [1.12],
macos-fw.mak [1.3], macos-mcp.mak [1.6], macosx.mak [1.5],
msvc32.mak [1.25], msvccmd.mak [1.8], msvclib.mak [1.18],
msvctail.mak [1.8], mv.bat [1.3], mv.cmd [1.3], openvms.mak [1.21],
openvms.mmk [1.16], os2.mak [1.22], pcwin.mak [1.4], rm.bat [1.3],
rm.cmd [1.3]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (ugcclib.mak [1.16], unix-aux.mak [1.7],
unix-dll.mak [1.8], unix-end.mak [1.4], unix-gcc.mak [1.27],
unixansi.mak [1.20], unixhead.mak [1.4], unixinst.mak [1.24],
unixlink.mak [1.5], version.mak [1.39], watc.mak [1.18], watclib.mak [1.16],
watcw32.mak [1.16], wccommon.mak [1.5], wctail.mak [1.6], winint.mak [1.10],
winlib.mak [1.16], winplat.mak [1.4], wmin.mak [1.4], zlib.mak [1.5]:
2002/02/21 22:24:54 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (toolbin/3way.tcl [1.5], toolbin/bughunt.sh [1.3],
toolbin/cvs2hist [1.3], toolbin/cvs2hist.py [1.12],
toolbin/errlist.tcl [1.5], toolbin/gsindent [1.5], toolbin/gsmake [1.3],
toolbin/gsmake.tcl [1.7], toolbin/gssubst [1.3], toolbin/headers.tcl [1.5],
toolbin/leaks.tcl [1.5], toolbin/makefonts [1.3],
toolbin/makefonts.tcl [1.3], toolbin/makegnu [1.3],
toolbin/makegnu.tcl [1.5], toolbin/makehist [1.3],
toolbin/makehist.tcl [1.3], toolbin/makemaster [1.3],
toolbin/makemaster.tcl [1.3], toolbin/makeset [1.3],
toolbin/makeset.tcl [1.13], toolbin/maketars [1.3],
toolbin/maketars.tcl [1.3], toolbin/makewin [1.3],
toolbin/makewin.tcl [1.3], toolbin/many2pdf.tcl [1.3],
toolbin/pdfinflt.ps [1.3], toolbin/pre [1.14], toolbin/pre.tcl [1.4],
toolbin/precheck.tcl [1.5], toolbin/smoke.ps [1.4], toolbin/suite.tcl [1.5],
toolbin/tests/check_all.py [1.3], toolbin/tests/check_dirs.py [1.4],
toolbin/tests/check_docrefs.py [1.5], toolbin/tests/check_source.py [1.4],
toolbin/tests/dump_testdb [1.3], toolbin/tests/gsconf.py [1.4],
toolbin/tests/gsparamsets.py [1.3], toolbin/tests/gssum.py [1.3],
toolbin/tests/gstestgs.py [1.5], toolbin/tests/gstestutils.py [1.3],
toolbin/tests/make_testdb [1.4], toolbin/tests/make_two_versions [1.4],
toolbin/tests/revert_baseline [1.4], toolbin/tests/run_nightly [1.3],
toolbin/tests/run_regression [1.3], toolbin/tests/update_baseline [1.4],
toolbin/tmake [1.3], toolbin/tmake.tcl [1.10]: 2002/02/21 22:44:45 giles)

FAPI project : (1) Fixing a bug in stringwidth; (2) replacing CheckRET macro
with return_if_error. (int.mak [1.63]: 2002/02/25 10:02:12 igor)

Removes auto-generated plain text versions of html documentation from cvs
and makes their creation an explicit part of the release process.
(toolbin/pre.tcl [1.5]: 2002/02/25 20:54:30 giles)

Implementing Visual Trace service to graphics library, and Visual Trace
server for Windows. (gsdll32.def [1.3], lib.mak [1.63], winint.mak [1.11]:
2002/02/26 16:09:15 igor)

Add gdevpccm.obj to the display device dependencies. (devs.mak [1.53]:
2002/02/28 22:23:39 ghostgum)

When building the distribution archive, don't flag an error if gsv16spl.exe
doesn't exist. This file is only needed for Win32s which is no longer
supported. (winint.mak [1.12]: 2002/02/28 22:24:09 ghostgum)

Removes -Wtraditional from the gcc switches, since we no longer support
pre-ANSI compilers and newer gcc versions produce many more warnings if this
switch is present. Also removes a stray space character. (macosx.mak [1.6],
unix-gcc.mak [1.28]: 2002/03/05 17:50:11 lpd)

Committing in . Long promised type cast changes neede to supress warnings on
OpenVMS devs.mak : In a condition in a Makefile for OpenVMS the ":" should
be surrounded by spaces. Modified Files: gs/src/devs.mak gs/src/imainarg.c
gs/src/zfile.c
----------------------------------------------------------------------
(devs.mak [1.54]: 2002/03/07 08:35:16 joukj)

Update msvc32.mak and documentation to support compilation with Microsoft
Visual Studio .NET. This requires MSVC_VERSION=7. (msvc32.mak [1.26]:
2002/03/12 07:20:08 ghostgum)

Create the bboxutil.dev pseudo device to allow inclusion of the bbox device
without putting the bbox device on the list of devices. Also clean up some
minor dependency problems. (devs.mak [1.55], lib.mak [1.64]: 2002/03/13
19:50:13 ray)

Add a new optional FEATURE, diskn.dev that provides emulation of %disk
devices present on some Adobe printers. This version is NOT multiple
instance safe, but is useful for embedded printers or for server systems
with a single Ghostscript instance. Documentation is in Language.htm.
Addresses SourceForge bug #493344 for Artifex customer #411. (gs.mak [1.13],
int.mak [1.66], lib.mak [1.65]: 2002/03/13 20:27:39 ray)

Move definition of gsiodisk.$(OBJ) from int.mak to lib.mak as requested by
LPD. (int.mak [1.67], lib.mak [1.67]: 2002/03/15 18:21:17 ray)

Bumps the next-release version number to 7.20 to leave additional room for
stable releases. (version.mak [1.40]: 2002/03/22 00:05:52 giles)

backs out a non-portable buildtime revision date accidentally included in
the last commit. (version.mak [1.41]: 2002/03/22 00:19:49 giles)

Adds a framework_install target to the MacOS X build for testing
convenience. (macos-fw.mak [1.4]: 2002/03/22 01:06:57 giles)

Update release dates in preparation of the upcoming development release
(version.mak [1.42]: 2002/03/29 00:01:02 giles)

Updates the default version of the PNG library to the most-recent 1.2.1.
Likewise updates references to the zlib version to the more recent 1.1.4,
which includes an important security fix. Updates the default paths to the
library source trees in all-arch.mak to reflect current usage.
(all-arch.mak [1.12], bcwin32.mak [1.17], dvx-gcc.mak [1.17],
macos-mcp.mak [1.7], macosx.mak [1.8], msvc32.mak [1.27],
msvclib.mak [1.19], openvms.mak [1.22], os2.mak [1.23], ugcclib.mak [1.17],
unix-gcc.mak [1.30], unixansi.mak [1.21], watc.mak [1.19],
watclib.mak [1.17], watcw32.mak [1.17], zlib.mak [1.6]: 2002/03/29 00:19:09
giles)

update the documentation on supported libpng versions (libpng.mak [1.13]:
2002/03/29 00:22:42 giles)

Changes smoke.ps to use relative paths fromt he top level of the source
tree. This is simpler than relying on the user having a global /gs alias
(toolbin/smoke.ps [1.5]: 2002/03/29 08:59:22 giles)

Replace Windows icons with new versions that include 48x48 pixel and 32-bit
versions for Windows XP. Change the 16x16 pixel icons to use the full 'g'
instead of just the head. Use a restricted icon gswin16.ico for WinZip SE
which can't handle the new icon. (bcwin32.mak [1.18], dwmain.rc [1.5],
dwsetup.rc [1.8], dwuninst.rc [1.6], gs16spl.rc [1.5], gsdll32.rc [1.5],
gswin.rc [1.5], gswin32.rc [1.2], gswin386.rc [1.2], winint.mak [1.13]:
2002/03/30 01:29:38 ghostgum)

Adds support for compilation against a standard shared libjpeg. It is
believed that non-baseline compliant DCTEncoded data, permitted by early
versions of postscript, is now extremely rare and the prohibition against
SHARE_JPEG=1 may reasonably be removed. The autoconf build will prefer a
local copy of the jpeg source, in which case the D_MAX_BLOCKS_IN_MCU patch
will still be applied. If no such local copy is found, it will try to find a
shared library on the system. For all unix builds, if $(JSRCDIR)/jmemsys.h
cannot be found, we define DONT_HAVE_JMEMSYS_H and include our own versions
of the libjpeg memory manager prototypes. The default allocator in the
shared library is overridden by the ghostscript one at link-time. While this
may be implementation-dependent, it appears to function as desired on at
least GNU/Linux and Solaris. Also changes the autoconf build to prefer local
zlib and libpng source, and cleans up some variable names.
(dvx-gcc.mak [1.18], macosx.mak [1.9], ugcclib.mak [1.18],
unix-aux.mak [1.8], unix-gcc.mak [1.31], unixansi.mak [1.22]: 2002/03/30
23:55:15 giles)

Updates release date for 7.20rc2 (version.mak [1.44]: 2002/03/31 00:32:38
giles)

Update documentation for 7.20rc3 (version.mak [1.45]: 2002/04/03 06:56:08
giles)

Returns the bbox device to the default build in response to user requests.
(devs.mak [1.56], macosx.mak [1.10], msvc32.mak [1.28], openvms.mak [1.23],
os2.mak [1.24], unix-gcc.mak [1.32], unixansi.mak [1.23]: 2002/04/03
18:25:03 giles)

</pre><h2><a name="7.20-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- There were 3 unused declarations of the variable 'buf'.
(ziodevsc.c [1.4]: 2001/11/22 04:57:21 lpd)
	- remove unnecessary include in dxmainc.c. (dxmainc.c [1.5]:
2001/11/25 07:52:55 giles)
	- ps2ascii was broken (probably for a long time) because it still
used NOBIND rather than DELAYBIND. Fixes SourceForge #485029.
(lib/ps2ascii [1.4], lib/ps2ascii.bat [1.4], lib/ps2ascii.cmd [1.2],
lib/ps2ascii.ps [1.4]: 2001/12/08 15:43:07 lpd)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922.
(lib/acctest.ps [1.2], lib/decrypt.ps [1.2], lib/landscap.ps [1.2],
lib/level1.ps [1.2], lib/pf2afm.ps [1.4], lib/printafm.ps [1.2],
lib/viewjpeg.ps [1.2]: 2002/01/09 20:35:32 giles)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922. (gp_mac.c [1.3],
gp_macio.c [1.3]: 2002/01/09 21:04:20 giles)
	- On IA64 CPUs, objects were only aligned on 8-byte boundaries, not
16-byte. (It may be that only jmpbuf structures actually need 16-byte
alignment, but gcc and glibc malloc align all objects that way.) Fixes
SourceForge bug #502866. Also cleans up some minor coding issues in
genarch.c. (genarch.c [1.3]: 2002/01/16 16:09:20 lpd)
	- Most of the calls of gs_[main_]init1 didn't check the return value
for errors. (gserver.c [1.4]: 2002/01/18 00:43:10 lpd)
	- Incorporate patch from Tim Waugh of RedHat to allow ps2pdfwr to
correctly process files with spaces in their names. Peter's earlier fix
missed a few enclosing "'s for output files. Fixes Sourceforge bug #505338.
(lib/ps2pdfwr [1.7]: 2002/01/22 20:25:44 jackiem)
	- Improve security in a (mostly) backward compatible fashion adding
more flexible file access paths (PermitFile...) as user paramters and adding
the facility to return to NOSAFER mode after running jobs (files/procedures)
in SAFER mode. This should address SF bug #474582 and eliminate the need for
the RedHat PARANOIDSAFER patch. (gp_macio.c [1.4], gp_ntfs.c [1.6],
gp_os2.c [1.11], gp_vms.c [1.8]: 2002/01/24 06:33:33 rayjj)
	- Extra (old) parameters to gp_file_name_concat_string removed.
(gp_ntfs.c [1.7]: 2002/02/01 08:03:46 rayjj)
	- File enumeration on VMS doesn't enumerate "*" as all files,
needing "*.*" similar to gp_dosfe.c. PostScript FONTPATH scanning and PCL
font loading failed prior to this fix. Filenames that already have a "."
prior to the trailing "*" are not modified. (gp_vms.c [1.9]: 2002/02/06
01:07:54 rayjj)
	- Typos (" used when ' was needed) fixed. So much for desk checking
:-( (gp_vms.c [1.10]: 2002/02/08 04:37:56 rayjj)
	- Fixes pdf2dsc to open input file before .setsafe, so that it works
even when SAFER locks down read file access. (lib/pdf2dsc.ps [1.4]:
2002/02/13 17:28:08 raph)
	- pdfopt didn't handle pages with no Contents, and didn't handle
files in which any objects (such as resources) were referenced from both the
first page and later pages. Also adds more tracing output to pdfopt (with
-dPDEBUG). Fixes SourceForge #516628. (lib/pdfopt.ps [1.11]: 2002/02/19
19:52:28 lpd)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(genconf.c [1.5]: 2001/10/21 18:57:41 igorm)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(lib/xlatmap [1.1]: 2001/10/21 19:10:29 igorm)

FAPI project: improving error handling. (lib/xlatmap [1.2]: 2001/10/22
16:22:29 igorm)

Adds a reference to the v7.xx History file. (gp_mac.c [1.2]: 2001/10/24
22:33:39 giles)

Replaces references of 'FontManagerLib' with 'FontManager' to match the
Universal Headers stub shipped with Metrowerks CW 6.3. Also disables the
warning about unused arguments since we have a lot of those be design and
they accounted for the majority of the warning output on CodeWarrior. The
macos shlib now builds and works 'out of the box'. (macgenmcpxml.sh [1.2]:
2001/11/02 02:16:50 giles)

Adds xml property/version file for MacOS X Framework build.
(lib/Info-macos.plist [1.1]: 2001/12/04 00:02:09 giles)

Implementing a mapped resource category redefiner; Provide a map for CIDFont
category; Reorganize the mapping algorithm for FAPI. (lib/FAPIcidfmap [1.1],
lib/FAPIfontmap [1.1], lib/cidfmap [1.1]: 2001/12/08 11:31:20 igorm)

FAPI project : implementing CID fonts with FAPI. (lib/FAPIcidfmap [1.2],
lib/FAPIconfig [1.1], lib/FAPIfontmap [1.2], lib/cidfmap [1.2],
lib/xlatmap [1.3]: 2001/12/12 23:02:08 igorm)

FAPI project : Removing a trash code from lib/FAPIfontmap .
(lib/FAPIfontmap [1.3]: 2001/12/13 19:27:18 igorm)

decrypt.ps had an incomplete RCS 'Id' line. Completes the fix for
SourceForge bug # 500922. (lib/decrypt.ps [1.3]: 2002/01/09 22:01:45 lpd)

decrpyt.ps *still* didn't have a correct RCS 'Id' line.
(lib/decrypt.ps [1.4]: 2002/01/09 22:03:01 lpd)

Updates the extension of the golfer and tiger example files to '.eps' in the
install target. Also updates some documentation in source file comments.
(gserver.c [1.3], lib/stocht.ps [1.4]: 2002/01/11 04:13:12 giles)

FAPI project : Implementing Type 2 fonts. (lib/FAPIconfig [1.2]: 2002/01/17
00:02:42 igorm)

Adds the standard GNU copyright banner to the viewjpeg script, with
permission from Thomas Merz. Also updates the author's email address and
removes the obsolete physical address. (lib/viewjpeg.ps [1.3]: 2002/02/08
09:46:17 giles)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(ansi2knr.c [1.4], bench.c [1.5], catmake [1.2], dxmain.c [1.8],
dxmainc.c [1.6], echogs.c [1.4], genarch.c [1.4], genconf.c [1.6],
gendev.c [1.3], genht.c [1.3], geninit.c [1.4], gp_dvx.c [1.5],
gp_iwatc.c [1.7], gp_mac.c [1.4], gp_macio.c [1.5], gp_mktmp.c [1.3],
gp_msdll.c [1.2], gp_mshdl.c [1.3], gp_msio.c [1.4], gp_mslib.c [1.4],
gp_mspol.c [1.2], gp_msprn.c [1.2], gp_mswin.c [1.8], gp_ntfs.c [1.8],
gp_os2.c [1.12], gp_os9.c [1.5], gp_stdia.c [1.4], gp_stdin.c [1.3],
gp_sysv.c [1.3], gp_unix.c [1.6], gp_vms.c [1.11], gp_wgetv.c [1.5],
gp_win32.c [1.3], gp_wsync.c [1.3], gs16spl.c [1.3], lib/FAPIcidfmap [1.3],
lib/FAPIconfig [1.3], lib/FAPIfontmap [1.4], lib/Fontmap.ATB [1.3],
lib/Fontmap.ATM [1.3], lib/Fontmap.GS [1.3], lib/Fontmap.OS2 [1.3],
lib/Fontmap.SGI [1.3], lib/Fontmap.Sol [1.3], lib/Fontmap.Ult [1.3],
lib/acctest.ps [1.3], lib/addxchar.ps [1.3], lib/align.ps [1.3],
lib/bdftops [1.3], lib/bdftops.bat [1.4], lib/bdftops.cmd [1.3],
lib/bdftops.ps [1.4], lib/caption.ps [1.3], lib/cid2code.ps [1.4],
lib/cidfmap [1.3], lib/decrypt.ps [1.5], lib/docie.ps [1.3],
lib/dvipdf [1.3], lib/eps2eps [1.4], lib/eps2eps.bat [1.6],
lib/eps2eps.cmd [1.3], lib/errpage.ps [1.3], lib/fixmswrd.pl [1.2],
lib/font2c [1.2], lib/font2c.bat [1.3], lib/font2c.cmd [1.2],
lib/font2c.ps [1.4], lib/font2pcl.ps [1.3], lib/gsbj [1.2],
lib/gsbj.bat [1.3], lib/gsdj [1.2], lib/gsdj.bat [1.3], lib/gsdj500 [1.2],
lib/gsdj500.bat [1.3], lib/gslj [1.2], lib/gslj.bat [1.3], lib/gslp [1.2],
lib/gslp.bat [1.3], lib/gslp.ps [1.3], lib/gsnd [1.2], lib/gsnd.bat [1.3],
lib/gsndt.bat [1.3], lib/gsnup.ps [1.3], lib/gssetgs.bat [1.4],
lib/gst.bat [1.3], lib/gstt.bat [1.3], lib/image-qa.ps [1.4],
lib/impath.ps [1.4], lib/jispaper.ps [1.3], lib/landscap.ps [1.3],
lib/level1.ps [1.3], lib/lines.ps [1.3], lib/lp386.bat [1.2],
lib/lp386r2.bat [1.2], lib/lpgs.bat [1.3], lib/lpr2.bat [1.3],
lib/lprsetup.sh [1.2], lib/markhint.ps [1.3], lib/markpath.ps [1.3],
lib/packfile.ps [1.3], lib/pcharstr.ps [1.3], lib/pdf2dsc [1.4],
lib/pdf2dsc.bat [1.3], lib/pdf2dsc.ps [1.5], lib/pdf2ps [1.5],
lib/pdf2ps.bat [1.6], lib/pdf2ps.cmd [1.3], lib/pdfopt [1.5],
lib/pdfopt.bat [1.5], lib/pdfopt.ps [1.12], lib/pdfwrite.ps [1.8],
lib/pf2afm [1.3], lib/pf2afm.bat [1.4], lib/pf2afm.cmd [1.3],
lib/pf2afm.ps [1.5], lib/pfbtopfa [1.4], lib/pfbtopfa.ps [1.3],
lib/pftogsf.bat [1.3], lib/pj-gs.sh [1.2], lib/ppath.ps [1.3],
lib/pphs [1.2], lib/pphs.ps [1.4], lib/prfont.ps [1.3], lib/printafm [1.2],
lib/printafm.ps [1.3], lib/ps2ai.ps [1.3], lib/ps2ascii [1.5],
lib/ps2ascii.bat [1.5], lib/ps2ascii.cmd [1.3], lib/ps2ascii.ps [1.5],
lib/ps2epsi [1.8], lib/ps2epsi.bat [1.7], lib/ps2epsi.cmd [1.4],
lib/ps2epsi.ps [1.6], lib/ps2pdf [1.2], lib/ps2pdf.bat [1.7],
lib/ps2pdf.cmd [1.2], lib/ps2pdf12 [1.2], lib/ps2pdf12.bat [1.6],
lib/ps2pdf12.cmd [1.2], lib/ps2pdf13 [1.2], lib/ps2pdf13.bat [1.6],
lib/ps2pdf13.cmd [1.3], lib/ps2pdf14 [1.2], lib/ps2pdf14.bat [1.3],
lib/ps2pdf14.cmd [1.2], lib/ps2pdfwr [1.8], lib/ps2pdfxx.bat [1.11],
lib/ps2ps [1.4], lib/ps2ps.bat [1.5], lib/ps2ps.cmd [1.2], lib/pv.sh [1.2],
lib/rollconv.ps [1.2], lib/showchar.ps [1.3], lib/stcinfo.ps [1.3],
lib/stcolor.ps [1.3], lib/stocht.ps [1.5], lib/sysvlp.sh [1.2],
lib/traceimg.ps [1.3], lib/traceop.ps [1.3], lib/type1enc.ps [1.3],
lib/type1ops.ps [1.3], lib/uninfo.ps [1.3], lib/unix-lpr.sh [1.2],
lib/unprot.ps [1.3], lib/viewcmyk.ps [1.3], lib/viewgif.ps [1.3],
lib/viewjpeg.ps [1.4], lib/viewmiff.ps [1.3], lib/viewpbm.ps [1.3],
lib/viewpcx.ps [1.3], lib/viewps2a.ps [1.3], lib/wftopfa [1.2],
lib/wftopfa.ps [1.3], lib/winmaps.ps [1.3], lib/wmakebat.bat [1.2],
lib/wrfont.ps [1.3], lib/xlatmap [1.4], lib/zeroline.ps [1.3]: 2002/02/21
20:57:45 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(gsdll.c [1.7], gserver.c [1.5], gspmdrv.c [1.3], instcopy [1.2],
scfdgen.c [1.3], zdosio.c [1.3], ziodevs.c [1.6], ziodevsc.c [1.5]:
2002/02/21 20:57:48 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (lib/FAPIcidfmap [1.4], lib/FAPIconfig [1.4],
lib/FAPIfontmap [1.5], lib/Fontmap.ATB [1.4], lib/Fontmap.ATM [1.4],
lib/Fontmap.GS [1.4], lib/Fontmap.OS2 [1.4], lib/Fontmap.SGI [1.4],
lib/Fontmap.Sol [1.4], lib/Fontmap.Ult [1.4], lib/acctest.ps [1.4],
lib/addxchar.ps [1.4], lib/align.ps [1.4], lib/bdftops [1.4],
lib/bdftops.bat [1.5], lib/bdftops.cmd [1.4], lib/bdftops.ps [1.5],
lib/caption.ps [1.4], lib/cid2code.ps [1.5], lib/cidfmap [1.4],
lib/decrypt.ps [1.6], lib/docie.ps [1.4], lib/dvipdf [1.4],
lib/eps2eps [1.5], lib/eps2eps.bat [1.7], lib/eps2eps.cmd [1.4],
lib/errpage.ps [1.4], lib/fixmswrd.pl [1.3], lib/font2c [1.3],
lib/font2c.bat [1.4], lib/font2c.cmd [1.3], lib/font2c.ps [1.5],
lib/font2pcl.ps [1.4], lib/gsbj [1.3], lib/gsbj.bat [1.4], lib/gsdj [1.3],
lib/gsdj.bat [1.4], lib/gsdj500 [1.3], lib/gsdj500.bat [1.4],
lib/gslj [1.3], lib/gslj.bat [1.4], lib/gslp [1.3], lib/gslp.bat [1.4],
lib/gslp.ps [1.4], lib/gsnd [1.3], lib/gsnd.bat [1.4], lib/gsndt.bat [1.4],
lib/gsnup.ps [1.4], lib/gssetgs.bat [1.5], lib/gst.bat [1.4],
lib/gstt.bat [1.4], lib/image-qa.ps [1.5], lib/impath.ps [1.5],
lib/jispaper.ps [1.4], lib/landscap.ps [1.4], lib/level1.ps [1.4],
lib/lines.ps [1.4], lib/lp386.bat [1.3], lib/lp386r2.bat [1.3],
lib/lpgs.bat [1.4], lib/lpr2.bat [1.4], lib/lprsetup.sh [1.3],
lib/markhint.ps [1.4], lib/markpath.ps [1.4], lib/packfile.ps [1.4],
lib/pcharstr.ps [1.4], lib/pdf2dsc [1.5], lib/pdf2dsc.bat [1.4],
lib/pdf2dsc.ps [1.6], lib/pdf2ps [1.6], lib/pdf2ps.bat [1.7],
lib/pdf2ps.cmd [1.4], lib/pdfopt [1.6], lib/pdfopt.bat [1.6],
lib/pdfopt.ps [1.13], lib/pdfwrite.ps [1.9], lib/pf2afm [1.4],
lib/pf2afm.bat [1.5], lib/pf2afm.cmd [1.4], lib/pf2afm.ps [1.6],
lib/pfbtopfa [1.5], lib/pfbtopfa.ps [1.4], lib/pftogsf.bat [1.4],
lib/pj-gs.sh [1.3], lib/ppath.ps [1.4], lib/pphs [1.3], lib/pphs.ps [1.5],
lib/prfont.ps [1.4], lib/printafm [1.3], lib/printafm.ps [1.4],
lib/ps2ai.ps [1.4], lib/ps2ascii [1.6], lib/ps2ascii.bat [1.6],
lib/ps2ascii.cmd [1.4], lib/ps2ascii.ps [1.6], lib/ps2epsi [1.9],
lib/ps2epsi.bat [1.8], lib/ps2epsi.cmd [1.5], lib/ps2epsi.ps [1.7],
lib/ps2pdf [1.3], lib/ps2pdf.bat [1.8], lib/ps2pdf.cmd [1.3],
lib/ps2pdf12 [1.3], lib/ps2pdf12.bat [1.7], lib/ps2pdf12.cmd [1.3],
lib/ps2pdf13 [1.3], lib/ps2pdf13.bat [1.7], lib/ps2pdf13.cmd [1.4],
lib/ps2pdf14 [1.3], lib/ps2pdf14.bat [1.4], lib/ps2pdf14.cmd [1.3],
lib/ps2pdfwr [1.9], lib/ps2pdfxx.bat [1.12], lib/ps2ps [1.5],
lib/ps2ps.bat [1.6], lib/ps2ps.cmd [1.3], lib/pv.sh [1.3],
lib/rollconv.ps [1.3], lib/showchar.ps [1.4], lib/stcinfo.ps [1.4],
lib/stcolor.ps [1.4], lib/stocht.ps [1.6], lib/sysvlp.sh [1.3],
lib/traceimg.ps [1.4], lib/traceop.ps [1.4], lib/type1enc.ps [1.4],
lib/type1ops.ps [1.4], lib/uninfo.ps [1.4], lib/unix-lpr.sh [1.3],
lib/unprot.ps [1.4], lib/viewcmyk.ps [1.4], lib/viewgif.ps [1.4],
lib/viewjpeg.ps [1.5], lib/viewmiff.ps [1.4], lib/viewpbm.ps [1.4],
lib/viewpcx.ps [1.4], lib/viewps2a.ps [1.4], lib/wftopfa [1.3],
lib/wftopfa.ps [1.4], lib/winmaps.ps [1.4], lib/wmakebat.bat [1.3],
lib/wrfont.ps [1.4], lib/xlatmap [1.5], lib/zeroline.ps [1.4]: 2002/02/21
21:49:28 giles)

Removes a duplicate Id line. (lib/fixmswrd.pl [1.4]: 2002/02/21 21:53:01
giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (ansi2knr.c [1.5], bench.c [1.6], catmake [1.3],
dxmain.c [1.9], dxmainc.c [1.7], echogs.c [1.5], genarch.c [1.5],
genconf.c [1.7], gendev.c [1.4], genht.c [1.4], geninit.c [1.5],
gp_dvx.c [1.6], gp_iwatc.c [1.8], gp_mac.c [1.5], gp_macio.c [1.6],
gp_mktmp.c [1.4], gp_msdll.c [1.3], gp_mshdl.c [1.4], gp_msio.c [1.5],
gp_mslib.c [1.5], gp_mspol.c [1.3], gp_msprn.c [1.3], gp_mswin.c [1.9],
gp_ntfs.c [1.9], gp_os2.c [1.13], gp_os9.c [1.6], gp_stdia.c [1.5],
gp_stdin.c [1.4], gp_sysv.c [1.4], gp_unix.c [1.7], gp_vms.c [1.12],
gp_wgetv.c [1.6], gp_win32.c [1.4], gp_wsync.c [1.4], gs16spl.c [1.4],
gsdll.c [1.8], gserver.c [1.6], gspmdrv.c [1.4], instcopy [1.3],
scfdgen.c [1.4]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (zdosio.c [1.4], ziodevs.c [1.7], ziodevsc.c [1.6]:
2002/02/21 22:24:54 giles)

FAPI project : Changing the logics of loading GS fonts with FAPI : now all
fonts listed in fontmap are being loaded with GS font loader and then are
passed to FAPI in same way as embedded fonts. (lib/FAPIconfig [1.5]:
2002/02/26 17:49:12 igor)

Adds DELAYSAFER/.setsafe logic to pdf2dsc output, as needed for a security
update to gv. (lib/pdf2dsc.ps [1.7]: 2002/03/30 23:39:15 raph)

</pre><h2><a name="7.20-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Fixes a %ld format with an int argument. (gdevpsu.c [1.8]:
2001/11/22 05:10:01 lpd)
	- Setting any of the pdfwrite xxxProfile "distiller" parameters
caused a garbage collection error. (gdevpsdp.c [1.9]: 2001/11/25 01:02:51
lpd)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922.
(gdevdsp.c [1.7], gdevhpij.c [1.5], gdevhpij.h [1.3], gdevmac.c [1.3],
gdevmac.h [1.2], gdevmacpictop.h [1.2], gdevmacttf.h [1.2],
gdevmacxf.c [1.3], gdevphex.c [1.4]: 2002/01/09 21:04:20 giles)
	- Don't signal invalidacces if the OutputFile parameter is set to
the current value as would be done by 'currentpagedevice setpagedevice'.
(gdevcgm.c [1.4], gdevmac.c [1.4]: 2002/01/15 04:44:09 rayjj)
	- epswrite generates "grestore gsave" while changing a clipping
path, so the internal graphic state and the output document's graphic state
become unsynchonized. Particularly this looses the current color. Source
Forge bug [ #502830 ] pdf2ps - bad color of objects (gdevps.c [1.20]:
2002/01/29 05:57:49 igorm)
	- Removes broken x11alpha driver, and installs an alias for x11
under that name, with default parameters changed to support antialiasing.
Fixes SourceForge bug #505692. (gdevx.c [1.9], gdevxalt.c [1.3]: 2002/01/30
20:08:41 raph)
	- The previous version of src/gdevps.c was checked in with
DOS/Windows (^M^J) EOLs rather than Unix (^J) EOLs, causing some C compilers
to reject it. (gdevps.c [1.21]: 2002/02/05 05:09:08 lpd)
	- psdf_end_binary didn't convert the stream status to an error code,
possibly causing incorrect error reporting. (gdevpsdu.c [1.11]: 2002/02/12
22:00:39 lpd)
	- Many files lacked double-inclusion protection, or implemented it
incorrectly. (gdevbjcl.h [1.3], gdevmacpictop.h [1.3], gdevmacttf.h [1.3],
png_.h [1.3]: 2002/02/20 01:32:47 lpd)
	- Changes XPutImage to use xdev-&gt;vinfo-&gt;depth rather than
xdev-&gt;color_info.depth. These are the same in all cases except a visual
depth of 15, in which the latter is 16. (gdevx.c [1.10]: 2002/02/20 19:39:02
raph)
	- improve pswrite with compatibility to interpreters which don't
consume ASCII85Decode EOD when reader stops immediately before it. Source
Forge bug #525044 "pswrite incompatible with some RIPs". Thanks to Paul
Vojta for spotting this. (gdevps.c [1.24]: 2002/03/13 16:03:50 igor)
	- Outputs PCLXL dash offset as unsigned integer rather than float,
bringing it into compliance with the spec. Thanks to Tobias Kunze for bug
report, analysis, and patch. (gdevpx.c [1.9]: 2002/03/20 20:10:06 raph)
	- epswrite was incompatible with HP LaserJet 4000 TN. Source Forge
bug #529202 "Wrong PostScript in pswrite prolog". (gdevpsu.c [1.11]:
2002/03/20 20:20:11 igor)
	- Fixes cut-n-paste error in commit of pclxl_setdash patch.
(gdevpx.c [1.10]: 2002/03/22 01:54:01 raph)
	- Fixes incorrect margins on IJS devices. Thanks to Dave Suffield
for the patch. (gdevijs.c [1.4]: 2002/03/28 20:44:35 raph)

Adds a reference to the v7.xx History file. (gdevmacxf.c [1.2]: 2001/10/24
22:33:38 giles)

Changes uses of 'defined' as an identifier to 'is_defined', since 'defined'
is a (non-standard) reserved word in gcc 2.96. (Patch from Red Hat.)
(gdevcdj.c [1.6]: 2001/11/07 07:48:57 lpd)

Updates pdfwrite to match Acrobat Distiller 5 more closely: adds
OffOptimizations and PreserveEPSInfo parameters; adds /ebook value for
PDFSETTINGS; changes some of the DCTEncode parameter values for
auto-filtered images; adds CreationDate and ModDate in Info dictionary;
always subsets non Type 1 fonts. (gdevpsdi.c [1.16]: 2001/12/09 00:07:57
lpd)

Don't allocate memory or call callbacks when display device does not have a
callback function. (gdevdsp.c [1.6]: 2001/12/18 07:02:53 ghostgum)

Remove C++ style (//) comments from two files to increase portability.
(gdevhpij.c [1.4], gdevphex.c [1.3], gdevxcmp.c [1.3]: 2001/12/19 20:53:46
jackiem)

Revert the accidental commit of this file. (gdevxcmp.c [1.4]: 2001/12/19
21:22:52 jackiem)

Remove C++ // comment from C file. (gdevwdib.c [1.4]: 2001/12/19 22:13:08
ghostgum)

Improve security for device related access to the file system and to pipes
by allowing the dangerous parameters to be locked (for example, OutputFile).
The locking is performed after command line parameters are established.
Locking is not turned on by default as a result of this change, but
-d.LockSafetyParams=true can be added to the command line to accomplish
this. Related to SF bug #474582 (sort of). (gdevcgm.c [1.3],
gdevmac.c [1.2]: 2001/12/22 00:44:01 rayjj)

Updates the extension of the golfer and tiger example files to '.eps' in the
install target. Also updates some documentation in source file comments.
(gdevcdj.c [1.7], gdevhl7x.c [1.6]: 2002/01/11 04:13:12 giles)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles. (gdevijs.c [1.1]:
2002/01/31 20:46:52 raph)

Removes some unnecessary #includes from gdevpsdu.c. (gdevpsdu.c [1.12]:
2002/02/16 15:19:24 lpd)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(gdev3852.c [1.4], gdev3b1.c [1.3], gdev4081.c [1.4], gdev4693.c [1.4],
gdev8510.c [1.4], gdev8bcm.c [1.3], gdev8bcm.h [1.3], gdevadmp.c [1.4],
gdevatx.c [1.7], gdevbit.c [1.3], gdevbj10.c [1.5], gdevbjc.h [1.3],
gdevbjcl.c [1.3], gdevbjcl.h [1.4], gdevbmp.c [1.5], gdevbmp.h [1.3],
gdevbmpa.c [1.4], gdevbmpc.c [1.3], gdevccr.c [1.3], gdevcdj.c [1.8],
gdevcfax.c [1.4], gdevcgm.c [1.5], gdevcgml.c [1.3], gdevcgml.h [1.3],
gdevcgmx.h [1.3], gdevcif.c [1.4], gdevclj.c [1.3], gdevcljc.c [1.5],
gdevcp50.c [1.4], gdevcslw.c [1.3], gdevdcrd.c [1.3], gdevdcrd.h [1.3],
gdevdfax.c [1.5], gdevdjet.c [1.7], gdevdjtc.c [1.4], gdevdljm.c [1.5],
gdevdljm.h [1.5], gdevdm24.c [1.4], gdevdsp.c [1.8], gdevegaa.asm [1.3],
gdevepsc.c [1.4], gdevepsn.c [1.4], gdevescp.c [1.4], gdevevga.c [1.3],
gdevfax.c [1.3], gdevfax.h [1.3], gdevherc.c [1.3], gdevhl7x.c [1.7],
gdevhpij.c [1.6], gdevhpij.h [1.4], gdevifno.c [1.3], gdevijs.c [1.2],
gdevimgn.c [1.5], gdevjpeg.c [1.4], gdevl256.c [1.4], gdevl31s.c [1.3],
gdevlbp8.c [1.4], gdevlj56.c [1.4], gdevlp8k.c [1.3], gdevlxm.c [1.3],
gdevmac.c [1.5], gdevmac.h [1.3], gdevmacpictop.h [1.4], gdevmacttf.h [1.4],
gdevmacxf.c [1.4], gdevmeds.c [1.3], gdevmeds.h [1.3], gdevmgr.c [1.3],
gdevmgr.h [1.3], gdevmiff.c [1.4], gdevmswn.c [1.5], gdevmswn.h [1.3],
gdevmsxf.c [1.3], gdevn533.c [1.4], gdevo182.c [1.4], gdevokii.c [1.4],
gdevos2p.c [1.5], gdevp14.h [1.2], gdevp2up.c [1.3], gdevpbm.c [1.4],
gdevpccm.c [1.3], gdevpccm.h [1.4], gdevpcfb.c [1.3], gdevpcfb.h [1.3],
gdevpcl.c [1.6], gdevpcl.h [1.6], gdevpcx.c [1.3], gdevpe.c [1.3],
gdevphex.c [1.5], gdevpjet.c [1.4], gdevpm.c [1.5], gdevpm.h [1.3],
gdevpng.c [1.5], gdevpnga.c [1.5], gdevps.c [1.22], gdevpsdf.h [1.10],
gdevpsdi.c [1.17], gdevpsdp.c [1.10], gdevpsds.c [1.5], gdevpsds.h [1.5],
gdevpsdu.c [1.13], gdevpsim.c [1.7], gdevpsu.c [1.9], gdevpsu.h [1.5],
gdevpx.c [1.7], gdevpxat.h [1.4], gdevpxen.h [1.4], gdevpxop.h [1.3],
gdevpxut.c [1.3], gdevpxut.h [1.3], gdevs3ga.c [1.3], gdevsco.c [1.4],
gdevsgi.c [1.3], gdevsgi.h [1.2], gdevsj48.c [1.3], gdevsnfb.c [1.4],
gdevsppr.c [1.6], gdevstc.c [1.3], gdevstc.h [1.3], gdevstc1.c [1.3],
gdevstc2.c [1.3], gdevstc3.c [1.3], gdevstc4.c [1.3], gdevsun.c [1.3],
gdevsunr.c [1.5], gdevsvga.c [1.3], gdevsvga.h [1.3], gdevtfax.c [1.5],
gdevtfax.h [1.5], gdevtfnx.c [1.6], gdevtifs.c [1.5], gdevtifs.h [1.4],
gdevtknk.c [1.4], gdevupd.c [1.6], gdevvglb.c [1.4], gdevwddb.c [1.4],
gdevwdib.c [1.5], gdevwpr2.c [1.10], gdevwprn.c [1.4], gdevx.c [1.11],
gdevx.h [1.5], gdevxalt.c [1.4], gdevxcmp.c [1.5], gdevxcmp.h [1.3],
gdevxini.c [1.11], gdevxres.c [1.4], gdevxxf.c [1.6]: 2002/02/21 20:57:46
ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(png_.h [1.4], x_.h [1.4]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (gdev3852.c [1.5], gdev3b1.c [1.4], gdev4081.c [1.5],
gdev4693.c [1.5], gdev8510.c [1.5], gdev8bcm.c [1.4], gdev8bcm.h [1.4],
gdevadmp.c [1.5], gdevatx.c [1.8], gdevbit.c [1.4], gdevbj10.c [1.6],
gdevbjc.h [1.4], gdevbjcl.c [1.4], gdevbjcl.h [1.5], gdevbmp.c [1.6],
gdevbmp.h [1.4], gdevbmpa.c [1.5], gdevbmpc.c [1.4], gdevccr.c [1.4],
gdevcdj.c [1.9], gdevcfax.c [1.5], gdevcgm.c [1.6], gdevcgml.c [1.4],
gdevcgml.h [1.4], gdevcgmx.h [1.4], gdevcif.c [1.5], gdevclj.c [1.4],
gdevcljc.c [1.6], gdevcp50.c [1.5], gdevcslw.c [1.4], gdevdcrd.c [1.4],
gdevdcrd.h [1.4], gdevdfax.c [1.6], gdevdjet.c [1.8], gdevdjtc.c [1.5],
gdevdljm.c [1.6], gdevdljm.h [1.6], gdevdm24.c [1.5], gdevdsp.c [1.9],
gdevegaa.asm [1.4], gdevepsc.c [1.5], gdevepsn.c [1.5], gdevescp.c [1.5],
gdevevga.c [1.4], gdevfax.c [1.4], gdevfax.h [1.4], gdevherc.c [1.4],
gdevhl7x.c [1.8], gdevhpij.c [1.7], gdevhpij.h [1.5], gdevifno.c [1.4],
gdevijs.c [1.3], gdevimgn.c [1.6], gdevjpeg.c [1.5], gdevl256.c [1.5],
gdevl31s.c [1.4], gdevlbp8.c [1.5], gdevlj56.c [1.5], gdevlp8k.c [1.4],
gdevlxm.c [1.4], gdevmac.c [1.6], gdevmac.h [1.4], gdevmacpictop.h [1.5],
gdevmacttf.h [1.5], gdevmacxf.c [1.5], gdevmeds.c [1.4], gdevmeds.h [1.4],
gdevmgr.c [1.4], gdevmgr.h [1.4], gdevmiff.c [1.5], gdevmswn.c [1.6],
gdevmswn.h [1.4], gdevmsxf.c [1.4], gdevn533.c [1.5], gdevo182.c [1.5],
gdevokii.c [1.5], gdevos2p.c [1.6], gdevp14.h [1.3], gdevp2up.c [1.4],
gdevpbm.c [1.5], gdevpccm.c [1.4], gdevpccm.h [1.5], gdevpcfb.c [1.4],
gdevpcfb.h [1.4], gdevpcl.c [1.7], gdevpcl.h [1.7], gdevpcx.c [1.4],
gdevpe.c [1.4], gdevphex.c [1.6], gdevpjet.c [1.5], gdevpm.c [1.6],
gdevpm.h [1.4], gdevpng.c [1.6], gdevpnga.c [1.6], gdevps.c [1.23],
gdevpsdf.h [1.11], gdevpsdi.c [1.18], gdevpsdp.c [1.11], gdevpsds.c [1.6],
gdevpsds.h [1.6], gdevpsdu.c [1.14], gdevpsim.c [1.8], gdevpsu.c [1.10],
gdevpsu.h [1.6], gdevpx.c [1.8], gdevpxat.h [1.5], gdevpxen.h [1.5],
gdevpxop.h [1.4], gdevpxut.c [1.4], gdevpxut.h [1.4], gdevs3ga.c [1.4],
gdevsco.c [1.5], gdevsgi.c [1.4], gdevsgi.h [1.3], gdevsj48.c [1.4],
gdevsnfb.c [1.5], gdevsppr.c [1.7], gdevstc.c [1.4], gdevstc.h [1.4],
gdevstc1.c [1.4], gdevstc2.c [1.4], gdevstc3.c [1.4], gdevstc4.c [1.4],
gdevsun.c [1.4], gdevsunr.c [1.6], gdevsvga.c [1.4], gdevsvga.h [1.4],
gdevtfax.c [1.6], gdevtfax.h [1.6], gdevtfnx.c [1.7], gdevtifs.c [1.6],
gdevtifs.h [1.5], gdevtknk.c [1.5], gdevupd.c [1.7], gdevvglb.c [1.5],
gdevwddb.c [1.5], gdevwdib.c [1.6], gdevwpr2.c [1.11], gdevwprn.c [1.5],
gdevx.c [1.12], gdevx.h [1.6], gdevxalt.c [1.5], gdevxcmp.c [1.6],
gdevxcmp.h [1.4], gdevxini.c [1.12], gdevxres.c [1.5], gdevxxf.c [1.7],
png_.h [1.5]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (x_.h [1.5]: 2002/02/21 22:24:54 giles)

Remove the return_if_error macro from ALL occurrences and clean up some of
the C-style problems with the FAPI code. Add some of the new rules about
macros to C-style.htm. (gdevxalt.c [1.6]: 2002/02/28 21:21:42 ray)

</pre><h2><a name="7.20-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Repeated use of the same color space wrote multiple ColorSpace
resources rather than a single one. Fixes the pdfwrite part of SourceForge
bug #475219: separate changes to pdf_draw.ps and pdf_ops.ps fix the
interpreter part of the bug. (gdevpdfc.c [1.18]: 2001/11/06 17:34:30 lpd)
	- Reading from /dev/random can cause long blocking on Solaris 8, so
we only attempt it (on all systems) if non-blocking I/O is available, and we
try /dev/urandom first. Fixes SourceForge #482048. (gdevpdf.c [1.39]:
2001/11/21 22:14:22 lpd)
	- CIE color conversion could be very inaccurate if it didn't use
interpolation when cached sampled values were near zero. This fix detects
numerically sensitive areas and uses interpolation (which is computationally
expensive) only in those areas. Fixes SourceForge #465921.
(gdevpdfc.c [1.19]: 2001/12/09 00:03:37 lpd)
	- For images specified in general CIEBased color spaces, pdfwrite
would divide the image into tiny rectangles. If the output level is PDF 1.3
or higher, pdfwrite now converts the CIEBased color space to an ICCBased
space if possible. (gdevpdfc.c [1.20], gdevpdfc.h [1.1], gdevpdfk.c [1.1]:
2001/12/13 18:24:05 lpd)
	- the prototype for pdf_text_process was in a .c file rather than a
.h file. (gdevpdff.h [1.12], gdevpdft.c [1.37]: 2002/01/15 23:07:02 lpd)
	- pdfwrite incorrectly handled Metrics[2] and CDevProc by writing
Widths that differed from the widths in the underlying font. pdfwrite now
positions characters individually in this case, like Acrobat Distiller.
Fixes SourceForge #495414. (gdevpdff.c [1.23], gdevpdff.h [1.13],
gdevpdfs.c [1.8]: 2002/01/17 05:13:24 lpd)
	- Work around an apparent Acrobat Reader 5 bug -- it gives an error
for images with a color-key mask, at least for 1-bit-deep images using an
Indexed color space -- by converting the image to an ordinary masked image.
Fixes a PCL-&gt;PDF problem reported by a customer. (gdevpdfi.c [1.25]:
2002/01/17 17:01:38 lpd)
	- Setting the parameters for a stroked font could reset other text
state parameters, causing 'Font not set' and other errors from Acrobat.
Fixes SourceForge bug #505011. (gdevpdfs.c [1.9]: 2002/01/24 16:37:53 lpd)
	- pdfwrite often gave an error if a name with embedded special
characters was a key or value in a pdfmark dictionary. Fixes SourceForge
#505877. (gdevpdfr.c [1.5]: 2002/01/29 02:54:43 lpd)
	- pdfwrite could output Indexed color spaces with more than 256
entries, or images with more than 8 bits per component, neither of which PDF
supports. This patch causes the latter to revert to the
millions-of-tiny-rectangles representation, which is not adequate in the
long run, but is at least valid output. Fixes SourceForge #513910, for the
moment. (gdevpdfc.c [1.21], gdevpdfi.c [1.26]: 2002/02/11 16:26:20 lpd)
	- pdf_end_image_binary didn't propagate all error indications to its
caller. (gdevpdfj.c [1.8]: 2002/02/12 21:55:31 lpd)
	- (1) real_widths were missed in public_st_pdf_font; (2)
pdf_finalize_font_descriptor was called twice (form pdf_font_notify_proc and
from pdf_write_font_resources), if a font is garbage-collected after
pdf_close. Source Forge bug "[ 531983 ] ps2pdf coredumps on this ps file".
(gdevpdff.h [1.16], gdevpdfw.c [1.15]: 2002/03/27 16:46:06 igor)

Takes a small step towards fully ANSIfied code by removing all ANSI-testing
uses of __PROTOTYPES__ from code with an Aladdin/artofcode copyright.
(gdevpdfg.c [1.15]: 2001/10/25 04:38:34 lpd)

Updates pdfwrite to match Acrobat Distiller 5 more closely: adds
OffOptimizations and PreserveEPSInfo parameters; adds /ebook value for
PDFSETTINGS; changes some of the DCTEncode parameter values for
auto-filtered images; adds CreationDate and ModDate in Info dictionary;
always subsets non Type 1 fonts. (gdevpdf.c [1.40], gdevpdfe.c [1.11],
gdevpdfp.c [1.20], gdevpdfu.c [1.17], gdevpdfx.h [1.35]: 2001/12/09 00:07:57
lpd)

FAPI project : Define new device parameter .EmbedFontObjects to disable FAPI
for devices which embed fonts. (gdevpdfp.c [1.21]: 2002/01/08 11:11:24
igorm)

Prevent any attempt to set .EmbedFontObjects (like CoreDistVersion).
(gdevpdfp.c [1.22]: 2002/01/10 19:12:27 lpd)

Makes the cos_array_reorder procedure private (which it should have been
from the beginning). (gdevpdfo.c [1.10], gdevpdfo.h [1.7]: 2002/01/12
20:09:55 lpd)

Adds a CompressFonts parameter to pdfwrite to control whether embedded fonts
are compressed, to help debugging. The default value is true.
(gdevpdf.c [1.41], gdevpdfe.c [1.12], gdevpdfp.c [1.23], gdevpdfs.c [1.10],
gdevpdfu.c [1.18], gdevpdfx.h [1.36]: 2002/01/29 01:03:26 lpd)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(gdevpdf.c [1.42], gdevpdfb.c [1.7], gdevpdfc.c [1.22], gdevpdfc.h [1.2],
gdevpdfd.c [1.17], gdevpdfe.c [1.13], gdevpdff.c [1.24], gdevpdff.h [1.14],
gdevpdfg.c [1.16], gdevpdfg.h [1.10], gdevpdfi.c [1.27], gdevpdfj.c [1.9],
gdevpdfk.c [1.2], gdevpdfm.c [1.15], gdevpdfo.c [1.11], gdevpdfo.h [1.8],
gdevpdfp.c [1.24], gdevpdfr.c [1.6], gdevpdfs.c [1.11], gdevpdft.c [1.38],
gdevpdfu.c [1.19], gdevpdfv.c [1.11], gdevpdfw.c [1.13], gdevpdfx.h [1.37]:
2002/02/21 20:57:47 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (gdevpdf.c [1.43], gdevpdfb.c [1.8], gdevpdfc.c [1.23],
gdevpdfc.h [1.3], gdevpdfd.c [1.18], gdevpdfe.c [1.14], gdevpdff.c [1.25],
gdevpdff.h [1.15], gdevpdfg.c [1.17], gdevpdfg.h [1.11], gdevpdfi.c [1.28],
gdevpdfj.c [1.10], gdevpdfk.c [1.3], gdevpdfm.c [1.16], gdevpdfo.c [1.12],
gdevpdfo.h [1.9], gdevpdfp.c [1.25], gdevpdfr.c [1.7], gdevpdfs.c [1.12],
gdevpdft.c [1.39], gdevpdfu.c [1.20], gdevpdfv.c [1.12], gdevpdfw.c [1.14],
gdevpdfx.h [1.38]: 2002/02/21 22:24:51 giles)

Removes a last vestige of PDF 1.1 support (which was otherwise removed some
time ago) from pdfwrite. (gdevpdfu.c [1.21]: 2002/03/19 17:35:11 lpd)

</pre><h2><a name="7.20-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Setting the same PDF color space repeatedly generated new
PostScript color spaces, stressing the garbage collector. Fixes the PDF
interpreter part of SourceForge bug #475219: a separate change to gdevpdfc.c
fixes the pdfwrite part of this bug. (lib/pdf_draw.ps [1.37],
lib/pdf_ops.ps [1.18]: 2001/11/06 17:33:08 lpd)
	- showpagecontents needs to be wrapped in a gsave/grestore as rev
1.23 indicates, but we can't wrap around the .pushpdf14devicefilter or the
grestore will change the device back to the original and clear the page.
Fixes SourceForge bug #476821 for Artifex customer 870. Also clean up some
non-standard indentation in the area. (lib/pdf_main.ps [1.36]: 2001/11/15
04:30:25 rayjj)
	- T* applied the leading horizontally when using a font in vertical
writing mode, but the PDF Reference says the leading is always applied
vertically. (lib/pdf_ops.ps [1.19]: 2001/12/22 07:24:50 masata-y)
	- Fix for "[ #505041 ] /typecheck in --setcolor--". Customer 150. An
error in counting the number of values by the PDF interpreter was causing an
incorrect number of values to be sent to setcolor. This in turn caused a
typecheck. (lib/pdf_main.ps [1.37]: 2002/01/30 00:43:29 dancoby)
	- Some PDF files don't have balanced q/Q operators (gsave/grestore)
that left extra dicts on the dictstack. Save the dictstack depth before the
page and pop any left over elements. Fix for SF #495088 for customer #870.
(lib/pdf_main.ps [1.38]: 2002/02/05 20:50:25 rayjj)
	- Extra dict was left on the ostack by rev 1.38 (introduced when
fixing SF bug #495088). Also allow bad images to be skipped (with a warning
message) as Adobe Reader does. Make PDF format error messages more
consistent. Fixes SF bug #513902 for Artifex customer #10.
(lib/pdf_draw.ps [1.38], lib/pdf_main.ps [1.40]: 2002/02/08 04:34:14 rayjj)
	- Another improvement for the hack in 'getfontmetrics', which deals
with encodings where the same character appears more than once. TeX-1.0a
creates Differences with multiple appearances of 'hyphen' character, some of
which specify zero width. Source Forge bug #517474 "Problem with hyphen in
PDF using Minion". See also #444366 and #467492. (lib/pdf_font.ps [1.27]:
2002/02/25 05:40:29 igor)
	- Characters &gt; 127 (0x7f) in font names of embedded fonts in PDF
files were being misinterpreted by the 'token' operator. Disable binary
encodings when processing PDF. Fixes SourceForge bug #525701 for Artifex
customer #901. (lib/pdf_main.ps [1.46]: 2002/03/05 17:48:06 ray)
	- Another place where Adobe Acrobat Reader tolerates badly formed
PDF files -- in this case streams with incorrect Length. Issue
pdfformaterror and continue. Buggy file from Artifex customer #671.
(lib/pdf_base.ps [1.18]: 2002/03/06 07:54:23 ray)
	- PDF files that specify the same embedded font file many times
would reload the FontFile each time, potentially severely impacting
performance. Skip loading the FontFile if the FontDescriptor already has the
font cached in /FontObject. Fixes SF bug #514956 for Artifex customer #870.
(lib/pdf_font.ps [1.29]: 2002/03/07 08:14:44 ray)
	- The /Filter parameter didn't properly handle an indirect
reference. Fixes SourceForge bug 533470 for Artifex customer #150.
(lib/pdf_base.ps [1.19]: 2002/03/22 20:26:19 ray)
	- Add handling of indirect objects some places that were missing.
Fixes SourceForge bug #533775. (lib/pdf_base.ps [1.20],
lib/pdf_draw.ps [1.43], lib/pdf_font.ps [1.30], lib/pdf_main.ps [1.48],
lib/pdf_ops.ps [1.23]: 2002/03/23 00:14:25 ray)

Add error message complaints when q (gsave) and Q (grestore) operators do
not balance. (lib/pdf_main.ps [1.39], lib/pdf_ops.ps [1.20]: 2002/02/05
22:35:10 rayjj)

Minor cleanup of warning and error messages within the PDF interpreter to
make the format consistent and to use pdfformaterror for all messages.
(lib/pdf_base.ps [1.15], lib/pdf_draw.ps [1.39], lib/pdf_font.ps [1.24],
lib/pdf_main.ps [1.41], lib/pdf_sec.ps [1.6]: 2002/02/14 17:25:53 rayjj)

Further warning message cleanup to use pdfformaterror and to use a
consistent format (starting with ' **** '. (lib/pdf_main.ps [1.42],
lib/pdf_sec.ps [1.7]: 2002/02/14 23:04:46 rayjj)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(lib/pdf_base.ps [1.16], lib/pdf_draw.ps [1.40], lib/pdf_font.ps [1.25],
lib/pdf_main.ps [1.43], lib/pdf_ops.ps [1.21], lib/pdf_sec.ps [1.8]:
2002/02/21 20:57:45 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (lib/pdf_base.ps [1.17], lib/pdf_draw.ps [1.41],
lib/pdf_font.ps [1.26], lib/pdf_main.ps [1.44], lib/pdf_ops.ps [1.22],
lib/pdf_sec.ps [1.9]: 2002/02/21 21:49:28 giles)

Makes the PDF interpreter run files under a level of 'save'. This improves
memory utilization significantly, although we don't understand why.
(lib/pdf_main.ps [1.45]: 2002/02/22 06:59:31 lpd)

Remove debug output inadvertently left in. (lib/pdf_font.ps [1.28]:
2002/02/26 18:37:07 ray)

Adds -dNOTRANSPARENCY flag, which disables all PDF 1.4 transparency
processing. (lib/pdf_draw.ps [1.42], lib/pdf_main.ps [1.47]: 2002/03/14
15:53:09 raph)

Temporary patch to disable FontObject caching. Fixes regression SF #533467,
but effectively removes the fix for #514956. (lib/pdf_font.ps [1.31]:
2002/03/28 19:52:09 raph)

</pre><h2><a name="7.20-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Fixes a comment: invoking definefont on a dictionary that already
has a FID entry is, in fact, legal in LanguageLevel 2 and above.
(zbfont.c [1.9]: 2001/10/29 23:49:57 lpd)
	- The change v.1.14 had broken the branch of the font loader, which
works for the case of unequal font names in the font file and in the font
map. SourceForge bug 474581. Also cleans up potential stack imbalance
present since 1.1. (lib/gs_fonts.ps [1.15]: 2001/11/15 08:27:37 igorm)
	- "Native float" binary tokens and homogenous number arrays failed
to ignore the big/little-endian bit in the format field, causing them to
(usually) read incorrectly on little-endian systems. (bug reported by Pierre
Arnaud) (ibnum.c [1.3], ibnum.h [1.3]: 2001/11/16 22:30:40 lpd)
	- If the initial device couldn't be opened, the error message
indicating this wasn't being printed, because of a missing 'flush'. Fixes
SourceForge #481600. (lib/gs_init.ps [1.42]: 2001/11/16 22:45:25 lpd)
	- "gs --help" accessed an uninitialized pointer
gs_main_instance::i_ctx_p. Source Forge bug #482271. (iapi.c [1.2],
imain.c [1.21]: 2001/11/21 18:40:07 igorm)
	- lineedit_open and statementedit_open were declared "static" but
not defined. (These procedures are no longer used.) (ziodev.c [1.7]:
2001/11/22 04:55:31 lpd)
	- Fixes a compiler warning and several minor formatting
inconsistencies. (zmedia2.c [1.4]: 2001/11/22 05:04:24 lpd)
	- The private procedure gs_get_colorname_string was not declared
private. (zcsdevn.c [1.6]: 2001/11/22 05:38:27 lpd)
	- The private procedure dsc_is_section was not declared dsc_private.
(dscparse.c [1.8]: 2001/11/22 05:41:05 lpd)
	- The min, max, and unread procedures were not clearly marked as
being deprecated. (lib/gs_init.ps [1.43]: 2001/11/22 18:48:51 lpd)
	- Ghostscript didn't match a bug in Adobe's interpreters, which
byte-swap native reals in binary object sequences iff the native real format
is IEEE. (The PLRM says native reals should never be byte-swapped.) Fixes
SourceForge bug #489478. (ibnum.h [1.4], iscanbin.c [1.6]: 2001/12/07
04:28:34 lpd)
	- Repairs code problems with the fix for bug #224056: non-re-entrant
code, bad formatting, unused variables and computations, and a missing
#include. (zcolor2.c [1.5]: 2001/12/07 05:41:59 lpd)
	- CIE color conversion could be very inaccurate if it didn't use
interpolation when cached sampled values were near zero. This fix detects
numerically sensitive areas and uses interpolation (which is computationally
expensive) only in those areas. Fixes SourceForge #465921. (zcie.c [1.6],
zcrd.c [1.3]: 2001/12/09 00:03:37 lpd)
	- WMode 1 did not work for CIDFontType 2. SourceForge bug #91713.
Patch from Mr. Toshiya Suzuki. (zchar42.c [1.4]: 2001/12/12 16:45:09 igorm)
	- The constraint for FontBBox to be non-zero was not conforming and
now it is removed. Suggested by L. Peter Deutsch. (bfont.h [1.4],
zbfont.c [1.10], zfcid0.c [1.10], zfcid1.c [1.6]: 2001/12/19 11:49:44 igorm)
	- The previous fixes for writing binary objects were incorrect,
probably because an incorrect comment misled the author. Fixes SourceForge
#490914. (lib/gs_btokn.ps [1.6]: 2002/01/01 23:08:28 lpd)
	- Dictionaries in binary object sequences (a non-standard feature)
could cause an invalidaccess error if any of the keys or values were names.
(iscanbin.c [1.7]: 2002/01/01 23:08:56 lpd)
	- Some gsapi functions were not passing the user_errors argument to
the corresponding gs_main_run_string_* functions, and instead, these
functions were passing 0. (iapi.c [1.3]: 2002/01/03 20:09:46 jackiem)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922.
(dwnodll.c [1.2], gdevdsp.h [1.2], gdevdsp2.h [1.3], idisp.c [1.3],
zicc.c [1.3]: 2002/01/09 21:04:20 giles)
	- ifont.h requires gsmatix.h and gxfont.h for clean compilation. Not
having them was a warning on gcc, but an error on Borland CBuilder 5.5.
Thanks to Rod Webster for the fix. Closes Sourceforge bug #474246.
(iccfont.c [1.3]: 2002/01/09 21:48:00 giles)
	- Fix for #474544. Corrects inability to convert valid DeviceN tint
transform functions into type 4 functions. Valid operator names were not
being recognized unless the tint transform function had been bound. One of
two fixes required for this problem. Customer #710. (ifunc.h [1.4],
zfunc.c [1.7], zfunc0.c [1.4], zfunc3.c [1.3], zfunc4.c [1.8],
zshade.c [1.5]: 2002/01/11 05:09:22 dancoby)
	- ReleaseDC was missed in Windows client applications. SourceForge
bug #499903. (dwmain.c [1.7], dwmainc.c [1.9]: 2002/01/12 19:49:00 igorm)
	- pdfwrite incorrectly handled Metrics[2] and CDevProc by writing
Widths that differed from the widths in the underlying font. pdfwrite now
positions characters individually in this case, like Acrobat Distiller.
Fixes SourceForge #495414. (zchar1.c [1.9]: 2002/01/17 05:13:24 lpd)
	- Fix for #474544. This is the second of two fixes required for this
problem. This fix creates a type 0 function which implements a "color cube"
for those tint transform functions which cannot be converted into a type 4
function. Customer #710. Note: There is one more revision planned for this
effort. This revision will make the buildcolorcube operator into a more
general buildsampledfunction. This will allow its use in other situations.
(ifunc.h [1.5], lib/gs_lev2.ps [1.8], zcsdevn.c [1.7], zfunc.c [1.8]:
2002/01/17 05:53:40 dancoby)
	- Most of the calls of gs_[main_]init1 didn't check the return value
for errors. (imainarg.c [1.14]: 2002/01/18 00:43:10 lpd)
	- Improve security in a (mostly) backward compatible fashion adding
more flexible file access paths (PermitFile...) as user paramters and adding
the facility to return to NOSAFER mode after running jobs (files/procedures)
in SAFER mode. This should address SF bug #474582 and eliminate the need for
the RedHat PARANOIDSAFER patch. (icontext.c [1.8], icstate.h [1.6],
imainarg.c [1.15], iutil2.c [1.3], iutil2.h [1.3], lib/gs_fonts.ps [1.17],
lib/gs_init.ps [1.45], lib/gs_lev2.ps [1.9], zcontrol.c [1.4],
zfile.c [1.13], zusparam.c [1.4], zvmem.c [1.4]: 2002/01/24 06:33:33 rayjj)
	- Added check for return code from gs_main_init1 that was missed in
previous (security) update. (imainarg.c [1.16]: 2002/01/24 19:07:57 rayjj)
	- pdfwrite often gave an error if a name with embedded special
characters was a key or value in a pdfmark dictionary. Fixes SourceForge
#505877. (lib/gs_pdfwr.ps [1.13], zstring.c [1.3]: 2002/01/29 02:54:43 lpd)
	- .locksafe is not supposed to change the PermitFileWriting and
PermitFileControl paths (was setting them to empty arrays).
(lib/gs_init.ps [1.46]: 2002/01/31 21:17:25 rayjj)
	- Fix 3 of 3 for #474544 "Core dump - shfill error with DeviceN". 1.
Recognizes already encapsulated tint transform functions. 2. Generalizes the
color cube logic for use in other situations. 3. Uses the domain of the
alternate color space for the range of the tint transform function.
(lib/gs_lev2.ps [1.10], zfsample.c [1.1], zfunc.c [1.9]: 2002/02/06 02:35:11
dancoby)
	- Fix 4 of 4 for #474544 "Core dump - shfill error with DeviceN".
Corrects a problem with an unbalanced stack when determining the range of a
colorspace specified by a name. (lib/gs_lev2.ps [1.11]: 2002/02/06 07:18:34
dancoby)
	- Fixes handling of MetricsCount in z11_get_metrics. Thanks to Brian
Stell for the analysis and original version of the patch. (zfcid1.c [1.7]:
2002/02/12 21:58:47 raph)
	- Prevent .locksafe (and .setsafe) from resetting the current
pagedevice. Fixes SourceForge bug #516379. (lib/gs_init.ps [1.47]:
2002/02/14 01:23:31 rayjj)
	- Use a more rigorous condition to check the FontBBox validity when
computing default values for UnderlinePosition and UnderlineThickness.
Source Forge bug #510776 for Artifex customer #1110. (lib/gs_type1.ps [1.8]:
2002/02/14 03:23:47 igorm)
	- Previous revision caused a regression. This version is the actual
fix for SourceForge #510776 for Artifex customer #1110.
(lib/gs_type1.ps [1.9]: 2002/02/14 03:25:50 igorm)
	- Many files lacked double-inclusion protection, or implemented it
incorrectly. (dscparse.h [1.7], dwimg.h [1.5], dwinst.h [1.3],
dwmain.h [1.4], dwreg.h [1.2], dwsetup.h [1.3], dwtext.h [1.5],
dwuninst.h [1.3], gdevdsp.h [1.3], gdevdsp2.h [1.4], idisp.h [1.2],
ifapi.h [1.7]: 2002/02/20 01:32:47 lpd)
	- Ignore an invalid 'post' format 2.0 table in TrueType fonts. Fixes
SourceForge bug #523973 for Artifex customer #990. (lib/gs_ttf.ps [1.12]:
2002/03/04 06:32:35 ray)
	- Triggers an /undefined error rather than segfaulting in the case
where a directional shading dictionary is missing a Function element.
build_shading_function() returns a success code in these cases because
functions are optional in some shading types. Thanks to Alex Cherepanov for
the analysis and patch. (zshade.c [1.8]: 2002/03/04 22:20:34 raph)
	- Include gs_resmp.ps into the prelude with ADDMOD rather than
.runlibfile (suggested by Raymond J. Johnston), and increase MSVC compiler
heap for building gs_init.c with COMPILE_INITS=1. Source Forge bug "[ 526192
] Broken COMPILE_INITS". (lib/gs_res.ps [1.20]: 2002/03/06 08:55:16 igor)
	- Second attempt to fix COMPILE_INITS=1. This statically embeds all
gs_*.ps files, xlatmap and FAPIconfig. Source Forge bug "[ 526192 ] Broken
COMPILE_INITS". (lib/gs_cidfn.ps [1.23], lib/gs_fapi.ps [1.15],
lib/gs_res.ps [1.21]: 2002/03/07 10:52:06 igor)
	- "currentfile closefile" in lib/gs_* files doesn't work with
COMPILE_INITS=1, replacing it with .skipeof . Source Forge bug "[ 526192 ]
Broken COMPILE_INITS". (lib/gs_fapi.ps [1.16]: 2002/03/13 15:55:47 igor)
	- The file_cleanup routine used the wrong offset in the estack for
the enumerator causing a SEGV if the procedure of filenameforall stopped due
to error. Bug was introduced with diskn changes. (zfile.c [1.18]: 2002/03/15
07:43:34 ray)
	- Fixes a number of problems with Type11 incremental glyph loading
with MetricsCount=2. Thanks to Brian Stell for the patch. (zchar42.c [1.7],
zfcid1.c [1.10]: 2002/03/26 08:37:14 raph)
	- -dSAFER mode to allow opening a file that references the parent
directory as long as the PermitFileReading strings include a (*) string
(allow all reading) (zfile.c [1.19]: 2002/03/28 20:48:14 ray)
	- Cleanup some casting and other compiler warnings (minor).
(zfile.c [1.20]: 2002/03/29 04:37:50 ray)
	- Botched macro spelling in prototype corrected, also removing the
incorrect 'private' keyword. Clean up two *++esp; statements that gave gcc
warnings. (zfile.c [1.21]: 2002/03/29 18:04:04 ray)
	- remove a C++-style comment from portable code. (ifapi.h [1.11]:
2002/04/01 21:02:49 giles)

file dwtrace.h was initially added on branch HINTER. (dwtrace.h [1.1]:
2001/01/12 06:18:35 igorm)

Updates version number to 7.10 to indicate that this is now the development
branch. (lib/gs_init.ps [1.41]: 2001/10/20 09:25:22 raph)

Changes all procedures for getting glyph outline data to return a structure
that includes memory management information. This is a
NON-BACKWARD-COMPATIBLE change to both implementors and clients. It corrects
a serious design error: formerly these procedures encoded memory management
information in their return code, which was obscure and error-prone.
(ichar1.h [1.4], icharout.h [1.4], ifont42.h [1.4], zchar1.c [1.8],
zcharout.c [1.5], zfcid0.c [1.8], zfcid1.c [1.5], zfont42.c [1.6]:
2001/10/21 06:20:08 lpd)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(iconf.c [1.4], icontext.c [1.7], icstate.h [1.5], imain.c [1.20],
lib/gs_fonts.ps [1.14], lib/gs_typ42.ps [1.3], lib/gs_type1.ps [1.6],
zbfont.c [1.8]: 2001/10/21 18:57:41 igorm)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(fapiufst.c [1.1], ifapi.h [1.1], iplugin.c [1.1], iplugin.h [1.1],
lib/gs_fapi.ps [1.1], zfapi.c [1.1]: 2001/10/21 19:10:29 igorm)

FAPI project: improving error handling. (fapiufst.c [1.2], ifapi.h [1.2],
lib/gs_fapi.ps [1.2], zfapi.c [1.2]: 2001/10/22 16:22:29 igorm)

FAPI project : (1) upgrading with UFST 4.3, (2) implementing GS cache.
(fapiufst.c [1.3], ifapi.h [1.3], lib/gs_fapi.ps [1.3], zfapi.c [1.3]:
2001/11/11 23:09:16 igorm)

FAPI project: fixing memory management problems and missing closepath
importing outlines from UFST. (fapiufst.c [1.4], zfapi.c [1.4]: 2001/11/13
23:12:53 igorm)

Adds additional documentation about continuations on the PostScript e-stack.
(estack.h [1.3]: 2001/12/06 04:16:27 lpd)

Implementing a mapped resource category redefiner; Provide a map for CIDFont
category; Reorganize the mapping algorithm for FAPI. (lib/gs_cidcm.ps [1.6],
lib/gs_cidfm.ps [1.1], lib/gs_cidfn.ps [1.19], lib/gs_fapi.ps [1.4],
lib/gs_res.ps [1.17], lib/gs_resmp.ps [1.1], lib/gs_typ42.ps [1.4],
lib/gs_type1.ps [1.7], zfile.c [1.12]: 2001/12/08 11:31:20 igorm)

Updates pdfwrite to match Acrobat Distiller 5 more closely: adds
OffOptimizations and PreserveEPSInfo parameters; adds /ebook value for
PDFSETTINGS; changes some of the DCTEncode parameter values for
auto-filtered images; adds CreationDate and ModDate in Info dictionary;
always subsets non Type 1 fonts. (lib/gs_pdfwr.ps [1.12]: 2001/12/09
00:07:57 lpd)

FAPI project : Preparing environment for CID font processing; Fixing UFST
file names. (lib/gs_cidcm.ps [1.7], lib/gs_ciddc.ps [1.1],
lib/gs_cidfn.ps [1.20], zfcid0.c [1.9]: 2001/12/12 02:48:20 igorm)

FAPI project : implementing CID fonts with FAPI. (lib/gs_ciddc.ps [1.2],
lib/gs_cidfm.ps [1.2], lib/gs_fapi.ps [1.5], lib/gs_resmp.ps [1.2]:
2001/12/12 23:02:08 igorm)

Committing in . Modified Files: gs/src/ibnum.c Corrected syntax error
(ibnum.c [1.4]: 2001/12/13 07:07:45 joukj)

FAPI project : implementing WMode 1; Cleaning-up comments and formatting.
(fapiufst.c [1.5], ifapi.h [1.4], zfapi.c [1.5]: 2001/12/14 20:42:51 igorm)

Improve security for device related access to the file system and to pipes
by allowing the dangerous parameters to be locked (for example, OutputFile).
The locking is performed after command line parameters are established.
Locking is not turned on by default as a result of this change, but
-d.LockSafetyParams=true can be added to the command line to accomplish
this. Related to SF bug #474582 (sort of). (lib/gs_setpd.ps [1.9],
zdevice.c [1.4], zdevice2.c [1.5]: 2001/12/22 00:44:01 rayjj)

FAPI project : Making set_char_width to be public to access from FAPI
client. (lib/gs_cmap.ps [1.12]: 2001/12/28 18:53:02 igorm)

FAPI project : Provide a disk/embedded font recognition for CID fonts.
(lib/gs_fapi.ps [1.6], lib/gs_fonts.ps [1.16]: 2002/01/02 06:44:01 igorm)

FAPI project : implementing CDevProc and CIDDecoding. (fapiufst.c [1.6],
ifapi.h [1.5], lib/gs_ciddc.ps [1.3], lib/gs_fapi.ps [1.7], zfapi.c [1.6]:
2002/01/02 07:24:07 igorm)

FAPI project : Fixing CIDDecodings and QUIET. (fapiufst.c [1.7],
lib/gs_ciddc.ps [1.4], lib/gs_fapi.ps [1.8], zfapi.c [1.7]: 2002/01/03
14:16:18 igorm)

FAPI project : Implementing the horizontal/vertical glyph substitution.
(fapiufst.c [1.8], ifapi.h [1.6], zfapi.c [1.8]: 2002/01/03 17:51:04 igorm)

FAPI project : Define new device parameter .EmbedFontObjects to disable FAPI
for devices which embed fonts. (lib/gs_cidfm.ps [1.3], lib/gs_fapi.ps [1.9],
lib/gs_resmp.ps [1.3], zfapi.c [1.9]: 2002/01/08 11:11:24 igorm)

Change the unstopped error handler to print the operand stack in the same
order as the normal error handler, with the top of the stack at the right.
Fixes Sourceforge bug #496440. (lib/gs_init.ps [1.44]: 2002/01/10 02:37:40
ghostgum)

Changes the extension of the tiger and golfer example files to '.eps' to
accurately reflect their internal filetype. (examples/golfer.eps [1.1],
examples/tiger.eps [1.1]: 2002/01/10 22:21:34 giles)

FAPI project : Improve Type 42 processing. (lib/gs_fapi.ps [1.10],
zfapi.c [1.10]: 2002/01/16 19:43:47 igorm)

FAPI project : Implementing Type 2 fonts. (lib/gs_fapi.ps [1.11],
zfapi.c [1.11]: 2002/01/17 00:02:41 igorm)

FAPI project : Provide a transfer of GlobalSubrs through FAPI for embedded
Type 2 fonts. (fapiufst.c [1.9], zfapi.c [1.12]: 2002/01/18 11:03:06 igorm)

Remove some unintentional changes that crept into a previous update.
(lib/gs_init.ps [1.48]: 2002/02/14 01:47:10 rayjj)

This is an improvement from L. Peter Deutsch in the logic which tests the
size of the amount of data required for a function to be sampled. This
eliminates a possible math overflow and also tests for a negative size
value. This is part of bug 474544. (zfsample.c [1.2]: 2002/02/21 07:42:23
dan)

Removes a compiler warning on the 4th parameter to valid_cube_size(). Added
const conditional to the parameter. (zfsample.c [1.3]: 2002/02/21 08:12:35
dan)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(bfont.h [1.5], btoken.h [1.5], ccfont.h [1.3], dpmain.c [1.6],
dscparse.c [1.9], dscparse.h [1.8], dstack.h [1.4], dwdll.c [1.3],
dwdll.h [1.4], dwimg.c [1.4], dwimg.h [1.6], dwinst.cpp [1.3],
dwinst.h [1.4], dwmain.c [1.8], dwmain.h [1.5], dwmainc.c [1.10],
dwnodll.c [1.3], dwreg.c [1.2], dwreg.h [1.3], dwsetup.cpp [1.6],
dwsetup.h [1.4], dwtext.c [1.6], dwtext.h [1.6], dwuninst.cpp [1.3],
dwuninst.h [1.4], errors.h [1.5], estack.h [1.4],
examples/waterfal.ps [1.4], fapiufst.c [1.10], files.h [1.5],
gdevdsp.h [1.4], gdevdsp2.h [1.5], ghost.h [1.3], gs.c [1.7],
lib/gs_agl.ps [1.3], lib/gs_btokn.ps [1.7], lib/gs_ccfnt.ps [1.6],
lib/gs_ce_e.ps [1.3], lib/gs_cff.ps [1.11], lib/gs_cidcm.ps [1.8],
lib/gs_ciddc.ps [1.5], lib/gs_cidfm.ps [1.4], lib/gs_cidfn.ps [1.21],
lib/gs_cmap.ps [1.13], lib/gs_cmdl.ps [1.3], lib/gs_css_e.ps [1.3],
lib/gs_dbt_e.ps [1.3], lib/gs_diskf.ps [1.3], lib/gs_dpnxt.ps [1.3],
lib/gs_dps.ps [1.5], lib/gs_dps1.ps [1.3], lib/gs_dps2.ps [1.4],
lib/gs_dscp.ps [1.5], lib/gs_epsf.ps [1.3], lib/gs_fapi.ps [1.12],
lib/gs_fform.ps [1.3], lib/gs_fonts.ps [1.18], lib/gs_frsd.ps [1.5],
lib/gs_icc.ps [1.3], lib/gs_il1_e.ps [1.3], lib/gs_il2_e.ps [1.3],
lib/gs_init.ps [1.49], lib/gs_kanji.ps [1.3], lib/gs_ksb_e.ps [1.3],
lib/gs_l2img.ps [1.3], lib/gs_lev2.ps [1.12], lib/gs_lgo_e.ps [1.4],
lib/gs_lgx_e.ps [1.3], lib/gs_ll3.ps [1.11], lib/gs_mex_e.ps [1.3],
lib/gs_mgl_e.ps [1.4], lib/gs_mro_e.ps [1.3], lib/gs_pdf_e.ps [1.3],
lib/gs_pdfwr.ps [1.14], lib/gs_pfile.ps [1.3], lib/gs_rdlin.ps [1.3],
lib/gs_res.ps [1.18], lib/gs_resmp.ps [1.4], lib/gs_setpd.ps [1.10],
lib/gs_statd.ps [1.6], lib/gs_std_e.ps [1.3], lib/gs_sym_e.ps [1.3],
lib/gs_trap.ps [1.4], lib/gs_ttf.ps [1.10], lib/gs_typ32.ps [1.4],
lib/gs_typ42.ps [1.5], lib/gs_type1.ps [1.10], lib/gs_wan_e.ps [1.3],
lib/gs_wl1_e.ps [1.3], lib/gs_wl2_e.ps [1.3], lib/gs_wl5_e.ps [1.3],
lib/ht_ccsto.ps [1.2]: 2002/02/21 20:57:45 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(ialloc.c [1.3], ialloc.h [1.3], iapi.c [1.4], iapi.h [1.3],
iastate.h [1.3], iastruct.h [1.3], ibnum.c [1.5], ibnum.h [1.5],
iccfont.c [1.4], iccinit0.c [1.3], icfontab.c [1.3], ichar.h [1.4],
ichar1.h [1.5], icharout.h [1.5], icid.h [1.3], icie.h [1.4],
icolor.h [1.3], iconf.c [1.5], iconf.h [1.2], icontext.c [1.9],
icontext.h [1.3], icremap.h [1.3], icsmap.h [1.3], icstate.h [1.7],
iddict.h [1.3], iddstack.h [1.3], idebug.c [1.5], idebug.h [1.3],
idict.c [1.5], idict.h [1.3], idictdef.h [1.3], idisp.c [1.4],
idisp.h [1.3], idosave.h [1.3], idparam.c [1.4], idparam.h [1.4],
idsdata.h [1.3], idstack.c [1.3], idstack.h [1.3], iesdata.h [1.3],
iestack.h [1.3], ifapi.h [1.8], ifcid.h [1.3], ifilter.h [1.4],
ifilter2.h [1.3], ifont.h [1.7], ifont1.h [1.4], ifont2.h [1.3],
ifont42.h [1.5], ifrpred.h [1.3], ifunc.h [1.6], ifwpred.h [1.3],
igc.c [1.6], igc.h [1.3], igcref.c [1.4], igcstr.c [1.4], igcstr.h [1.3],
igstate.h [1.4], iht.h [1.3], iimage.h [1.3], iimage2.h [1.3],
iinit.c [1.4], iinit.h [1.3], ilevel.h [1.3], ilocate.c [1.5],
imain.c [1.22], imain.h [1.4], imainarg.c [1.17], imainarg.h [1.4],
imemory.h [1.3], iminst.h [1.6], iname.c [1.4], iname.h [1.3],
inamedef.h [1.3], inameidx.h [1.3], inames.h [1.3], inamestr.h [1.3],
inobtokn.c [1.3], inouparm.c [1.3], interp.c [1.9], interp.h [1.3],
iosdata.h [1.3], iostack.h [1.3], ipacked.h [1.3], iparam.c [1.6],
iparam.h [1.3], iparray.h [1.3], ipcolor.h [1.3], iplugin.c [1.2],
iplugin.h [1.2], ireclaim.c [1.4], iref.h [1.6], isave.c [1.4],
isave.h [1.3], iscan.c [1.6], iscan.h [1.5], iscanbin.c [1.8],
iscanbin.h [1.3], iscannum.c [1.4], iscannum.h [1.3], isdata.h [1.3],
isstate.h [1.3], istack.c [1.3], istack.h [1.3], istkparm.h [1.3],
istream.h [1.3], istruct.h [1.3], itoken.h [1.3], iutil.c [1.4],
iutil.h [1.3], iutil2.c [1.4], iutil2.h [1.4], ivmem2.h [1.3],
ivmspace.h [1.3], main.h [1.4], oparc.h [1.3], opcheck.h [1.3],
opdef.h [1.4], oper.h [1.3], opextern.h [1.3], ostack.h [1.3], sbhc.c [1.4],
sbhc.h [1.3], sbwbs.c [1.3], sbwbs.h [1.3], sfilter1.c [1.7],
shcgen.c [1.3], shcgen.h [1.3], smtf.c [1.3], smtf.h [1.3], store.h [1.3],
zarith.c [1.5], zarray.c [1.3], zbfont.c [1.11], zbseq.c [1.5],
zcfont.c [1.3], zchar.c [1.5], zchar1.c [1.10], zchar2.c [1.3],
zchar32.c [1.3], zchar42.c [1.5], zcharout.c [1.6], zcharx.c [1.4],
zcid.c [1.4], zcie.c [1.7], zcolor.c [1.5], zcolor1.c [1.4],
zcolor2.c [1.6], zcontext.c [1.8], zcontrol.c [1.5], zcrd.c [1.4],
zcsdevn.c [1.8], zcsindex.c [1.4], zcspixel.c [1.3], zcssepr.c [1.9],
zdevcal.c [1.4], zdevice.c [1.5], zdevice2.c [1.6], zdfilter.c [1.3],
zdict.c [1.4], zdouble.c [1.3], zdpnext.c [1.4], zdps.c [1.5],
zdps1.c [1.4], zdscpars.c [1.13], zfapi.c [1.13], zfarc4.c [1.3],
zfbcp.c [1.4], zfcid.c [1.12], zfcid0.c [1.11], zfcid1.c [1.8],
zfcmap.c [1.10], zfdctd.c [1.7], zfdcte.c [1.6], zfdecode.c [1.4],
zfile.c [1.14], zfileio.c [1.13], zfilter.c [1.6], zfilter2.c [1.4],
zfilterx.c [1.3], zfmd5.c [1.3], zfont.c [1.4], zfont0.c [1.4],
zfont1.c [1.10], zfont2.c [1.5], zfont32.c [1.3], zfont42.c [1.7],
zfproc.c [1.10], zfrsd.c [1.5], zfsample.c [1.4], zfunc.c [1.10],
zfunc0.c [1.5], zfunc3.c [1.4], zfunc4.c [1.9], zfzlib.c [1.4],
zgeneric.c [1.4], zgstate.c [1.3], zhsb.c [1.3], zht.c [1.3], zht1.c [1.3],
zht2.c [1.3], zicc.c [1.4], zimage.c [1.6], zimage2.c [1.5],
zimage3.c [1.4], ziodev.c [1.8], ziodev2.c [1.4], zmath.c [1.4],
zmatrix.c [1.5], zmedia2.c [1.5], zmisc.c [1.3], zmisc1.c [1.4],
zmisc2.c [1.4], zmisc3.c [1.3], zpacked.c [1.3], zpaint.c [1.3],
zpath.c [1.3], zpath1.c [1.3], zpcolor.c [1.4], zrelbit.c [1.3],
zrop.c [1.3], zshade.c [1.6], zstack.c [1.3], zstring.c [1.4],
zsysvm.c [1.3], ztoken.c [1.7], ztrans.c [1.14], ztrap.c [1.3],
ztype.c [1.4], zupath.c [1.3], zusparam.c [1.5], zvmem.c [1.5],
zvmem2.c [1.4]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (lib/gs_agl.ps [1.4], lib/gs_btokn.ps [1.8],
lib/gs_ccfnt.ps [1.7], lib/gs_ce_e.ps [1.4], lib/gs_cff.ps [1.12],
lib/gs_cidcm.ps [1.9], lib/gs_ciddc.ps [1.6], lib/gs_cidfm.ps [1.5],
lib/gs_cidfn.ps [1.22], lib/gs_cmap.ps [1.14], lib/gs_cmdl.ps [1.4],
lib/gs_css_e.ps [1.4], lib/gs_dbt_e.ps [1.4], lib/gs_diskf.ps [1.4],
lib/gs_dpnxt.ps [1.4], lib/gs_dps.ps [1.6], lib/gs_dps1.ps [1.4],
lib/gs_dps2.ps [1.5], lib/gs_dscp.ps [1.6], lib/gs_epsf.ps [1.4],
lib/gs_fapi.ps [1.13], lib/gs_fform.ps [1.4], lib/gs_fonts.ps [1.19],
lib/gs_frsd.ps [1.6], lib/gs_icc.ps [1.4], lib/gs_il1_e.ps [1.4],
lib/gs_il2_e.ps [1.4], lib/gs_init.ps [1.50], lib/gs_kanji.ps [1.4],
lib/gs_ksb_e.ps [1.4], lib/gs_l2img.ps [1.4], lib/gs_lev2.ps [1.13],
lib/gs_lgo_e.ps [1.5], lib/gs_lgx_e.ps [1.4], lib/gs_ll3.ps [1.12],
lib/gs_mex_e.ps [1.4], lib/gs_mgl_e.ps [1.5], lib/gs_mro_e.ps [1.4],
lib/gs_pdf_e.ps [1.4], lib/gs_pdfwr.ps [1.15], lib/gs_pfile.ps [1.4],
lib/gs_rdlin.ps [1.4], lib/gs_res.ps [1.19], lib/gs_resmp.ps [1.5],
lib/gs_setpd.ps [1.11], lib/gs_statd.ps [1.7], lib/gs_std_e.ps [1.4],
lib/gs_sym_e.ps [1.4], lib/gs_trap.ps [1.5], lib/gs_ttf.ps [1.11],
lib/gs_typ32.ps [1.5], lib/gs_typ42.ps [1.6], lib/gs_type1.ps [1.11],
lib/gs_wan_e.ps [1.4], lib/gs_wl1_e.ps [1.4], lib/gs_wl2_e.ps [1.4],
lib/gs_wl5_e.ps [1.4], lib/ht_ccsto.ps [1.3]: 2002/02/21 21:49:28 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (bfont.h [1.6], btoken.h [1.6], ccfont.h [1.4],
dpmain.c [1.7], dscparse.c [1.10], dscparse.h [1.9], dstack.h [1.5],
dwdll.c [1.4], dwdll.h [1.5], dwimg.c [1.5], dwimg.h [1.7],
dwinst.cpp [1.4], dwinst.h [1.5], dwmain.c [1.9], dwmain.h [1.6],
dwmainc.c [1.11], dwnodll.c [1.4], dwreg.c [1.3], dwreg.h [1.4],
dwsetup.cpp [1.7], dwsetup.h [1.5], dwtext.c [1.7], dwtext.h [1.7],
dwuninst.cpp [1.4], dwuninst.h [1.5], errors.h [1.6], estack.h [1.5],
fapiufst.c [1.11], files.h [1.6], gdevdsp.h [1.5], gdevdsp2.h [1.6],
ghost.h [1.4], gs.c [1.8], ialloc.c [1.4], ialloc.h [1.4], iapi.c [1.5],
iapi.h [1.4], iastate.h [1.4], iastruct.h [1.4], ibnum.c [1.6],
ibnum.h [1.6], iccfont.c [1.5], iccinit0.c [1.4], icfontab.c [1.4],
ichar.h [1.5], ichar1.h [1.6], icharout.h [1.6], icid.h [1.4], icie.h [1.5],
icolor.h [1.4], iconf.c [1.6], iconf.h [1.3], icontext.c [1.10],
icontext.h [1.4], icremap.h [1.4], icsmap.h [1.4], icstate.h [1.8],
iddict.h [1.4], iddstack.h [1.4], idebug.c [1.6], idebug.h [1.4],
idict.c [1.6], idict.h [1.4], idictdef.h [1.4], idisp.c [1.5],
idisp.h [1.4], idosave.h [1.4], idparam.c [1.5], idparam.h [1.5],
idsdata.h [1.4], idstack.c [1.4], idstack.h [1.4], iesdata.h [1.4],
iestack.h [1.4], ifapi.h [1.9], ifcid.h [1.4], ifilter.h [1.5],
ifilter2.h [1.4], ifont.h [1.8], ifont1.h [1.5], ifont2.h [1.4],
ifont42.h [1.6], ifrpred.h [1.4], ifunc.h [1.7], ifwpred.h [1.4],
igc.c [1.7], igc.h [1.4], igcref.c [1.5], igcstr.c [1.5], igcstr.h [1.4],
igstate.h [1.5], iht.h [1.4], iimage.h [1.4], iimage2.h [1.4],
iinit.c [1.5], iinit.h [1.4], ilevel.h [1.4], ilocate.c [1.6],
imain.c [1.23], imain.h [1.5], imainarg.c [1.18], imainarg.h [1.5],
imemory.h [1.4], iminst.h [1.7], iname.c [1.5], iname.h [1.4],
inamedef.h [1.4], inameidx.h [1.4], inames.h [1.4], inamestr.h [1.4],
inobtokn.c [1.4], inouparm.c [1.4], interp.c [1.10], interp.h [1.4],
iosdata.h [1.4], iostack.h [1.4], ipacked.h [1.4], iparam.c [1.7],
iparam.h [1.4], iparray.h [1.4], ipcolor.h [1.4], iplugin.c [1.3],
iplugin.h [1.3], ireclaim.c [1.5], iref.h [1.7], isave.c [1.5],
isave.h [1.4], iscan.c [1.7], iscan.h [1.6], iscanbin.c [1.9],
iscanbin.h [1.4], iscannum.c [1.5], iscannum.h [1.4], isdata.h [1.4],
isstate.h [1.4], istack.c [1.4], istack.h [1.4], istkparm.h [1.4],
istream.h [1.4], istruct.h [1.4], itoken.h [1.4], iutil.c [1.5],
iutil.h [1.4], iutil2.c [1.5], iutil2.h [1.5], ivmem2.h [1.4],
ivmspace.h [1.4], main.h [1.5], oparc.h [1.4], opcheck.h [1.4],
opdef.h [1.5], oper.h [1.4], opextern.h [1.4], ostack.h [1.4], sbhc.c [1.5],
sbhc.h [1.4], sbwbs.c [1.4], sbwbs.h [1.4]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (sfilter1.c [1.8], shcgen.c [1.4], shcgen.h [1.4],
smtf.c [1.4], smtf.h [1.4], store.h [1.4], zarith.c [1.6], zarray.c [1.4],
zbfont.c [1.12], zbseq.c [1.6], zcfont.c [1.4], zchar.c [1.6],
zchar1.c [1.11], zchar2.c [1.4], zchar32.c [1.4], zchar42.c [1.6],
zcharout.c [1.7], zcharx.c [1.5], zcid.c [1.5], zcie.c [1.8],
zcolor.c [1.6], zcolor1.c [1.5], zcolor2.c [1.7], zcontext.c [1.9],
zcontrol.c [1.6], zcrd.c [1.5], zcsdevn.c [1.9], zcsindex.c [1.5],
zcspixel.c [1.4], zcssepr.c [1.10], zdevcal.c [1.5], zdevice.c [1.6],
zdevice2.c [1.7], zdfilter.c [1.4], zdict.c [1.5], zdouble.c [1.4],
zdpnext.c [1.5], zdps.c [1.6], zdps1.c [1.5], zdscpars.c [1.14],
zfapi.c [1.14], zfarc4.c [1.4], zfbcp.c [1.5], zfcid.c [1.13],
zfcid0.c [1.12], zfcid1.c [1.9], zfcmap.c [1.11], zfdctd.c [1.8],
zfdcte.c [1.7], zfdecode.c [1.5], zfile.c [1.15], zfileio.c [1.14],
zfilter.c [1.7], zfilter2.c [1.5], zfilterx.c [1.4], zfmd5.c [1.4],
zfont.c [1.5], zfont0.c [1.5], zfont1.c [1.11], zfont2.c [1.6],
zfont32.c [1.4], zfont42.c [1.8], zfproc.c [1.11], zfrsd.c [1.6],
zfsample.c [1.5], zfunc.c [1.11], zfunc0.c [1.6], zfunc3.c [1.5],
zfunc4.c [1.10], zfzlib.c [1.5], zgeneric.c [1.5], zgstate.c [1.4],
zhsb.c [1.4], zht.c [1.4], zht1.c [1.4], zht2.c [1.4], zicc.c [1.5],
zimage.c [1.7], zimage2.c [1.6], zimage3.c [1.5], ziodev.c [1.9],
ziodev2.c [1.5], zmath.c [1.5], zmatrix.c [1.6], zmedia2.c [1.6],
zmisc.c [1.4], zmisc1.c [1.5], zmisc2.c [1.5], zmisc3.c [1.4],
zpacked.c [1.4], zpaint.c [1.4], zpath.c [1.4], zpath1.c [1.4],
zpcolor.c [1.5], zrelbit.c [1.4], zrop.c [1.4], zshade.c [1.7],
zstack.c [1.4], zstring.c [1.5], zsysvm.c [1.4], ztoken.c [1.8],
ztrans.c [1.15], ztrap.c [1.4], ztype.c [1.5], zupath.c [1.4],
zusparam.c [1.6], zvmem.c [1.6], zvmem2.c [1.5]: 2002/02/21 22:24:54 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (examples/waterfal.ps [1.5]: 2002/02/21 22:49:46 giles)

FAPI project : Fixing absent entries in Subrs array. (zfapi.c [1.15]:
2002/02/21 23:09:42 igor)

FAPI project : Removing an obsolete fixme comment. (lib/gs_ciddc.ps [1.7]:
2002/02/21 23:14:05 igor)

FAPI project : Fixing absent entries in Subrs array. (zfapi.c [1.16]:
2002/02/21 23:22:22 igor)

Makes 'save' create inner chunks for all chunks with at least a minimum
amount of free space (currently defined statically as 500 bytes), rather
than only for the chunk that was open at the time of the save. This makes
all of this space available for allocation within the scope of the save,
which can substantially improve memory utilization. (isave.c [1.6]:
2002/02/25 07:37:22 lpd)

FAPI project : (1) Fixing a bug in stringwidth; (2) replacing CheckRET macro
with return_if_error. (fapiufst.c [1.12], ifapi.h [1.10], zfapi.c [1.17]:
2002/02/25 10:02:12 igor)

FAPI project : Fixing bugs (1) in TrueType 'loca' format 1 and (2) in
'.notdef' charstring access. (fapiufst.c [1.13], zfapi.c [1.18]: 2002/02/25
17:21:09 igor)

Implementing Visual Trace service to graphics library, and Visual Trace
server for Windows. (dwdll.c [1.5], dwdll.h [1.6], dwimg.c [1.6],
dwmain.c [1.10], dwmainc.c [1.12], dwtrace.c [1.1], dwtrace.h [1.2],
iapi.c [1.6], iapi.h [1.5], imainarg.c [1.19]: 2002/02/26 16:09:15 igor)

FAPI project : Changing the logics of loading GS fonts with FAPI : now all
fonts listed in fontmap are being loaded with GS font loader and then are
passed to FAPI in same way as embedded fonts. (lib/gs_fapi.ps [1.14],
lib/gs_fonts.ps [1.20]: 2002/02/26 17:49:12 igor)

FAPI project : An unaligned bitmap was passed from UFST to
mem_mono_copy_mono. Creating a temporary aligned copy on necessity. Source
Forge bug #523073 "Segment fault in mem_mono_copy_mono". (fapiufst.c [1.14],
zfapi.c [1.19]: 2002/02/27 10:34:57 igor)

Remove the return_if_error macro from ALL occurrences and clean up some of
the C-style problems with the FAPI code. Add some of the new rules about
macros to C-style.htm. (dwtrace.c [1.2], zfapi.c [1.20]: 2002/02/28 21:21:42
ray)

Committing in . Long promised type cast changes neede to supress warnings on
OpenVMS devs.mak : In a condition in a Makefile for OpenVMS the ":" should
be surrounded by spaces. Modified Files: gs/src/devs.mak gs/src/imainarg.c
gs/src/zfile.c
----------------------------------------------------------------------
(imainarg.c [1.20], zfile.c [1.16]: 2002/03/07 08:35:16 joukj)

MS-Windows installer now clears the read-only attribute when copying files.
The installer was failing when the source files were stored unpacked on a
CD-ROM. (dwinst.cpp [1.5], dwinst.h [1.6]: 2002/03/12 20:55:22 ghostgum)

Add a new optional FEATURE, diskn.dev that provides emulation of %disk
devices present on some Adobe printers. This version is NOT multiple
instance safe, but is useful for embedded printers or for server systems
with a single Ghostscript instance. Documentation is in Language.htm.
Addresses SourceForge bug #493344 for Artifex customer #411. (files.h [1.7],
iinit.c [1.6], lib/gs_diskn.ps [1.1], lib/gs_init.ps [1.51],
lib/gs_lev2.ps [1.14], lib/gs_res.ps [1.22], lib/gs_statd.ps [1.8],
lib/gs_ttf.ps [1.13], zfile.c [1.17], zfrsd.c [1.7], ziodev2.c [1.6]:
2002/03/13 20:27:39 ray)

Adds multiple inclusion protection to the vdtrace header files.
(dwtrace.h [1.3]: 2002/03/14 04:26:44 giles)

Adds -dNOTRANSPARENCY flag, which disables all PDF 1.4 transparency
processing. (lib/gs_init.ps [1.52]: 2002/03/14 15:53:09 raph)

Removing return_if_error macro. (fapiufst.c [1.16]: 2002/03/14 19:19:13
igor)

Adds documentation for the macros in iref.h, and changes the names of
internal macros to upper case. (idebug.c [1.7], iref.h [1.8]: 2002/03/19
17:35:53 lpd)

Bumps the next-release version number to 7.20 to leave additional room for
stable releases. (lib/gs_init.ps [1.53]: 2002/03/22 00:05:52 giles)

</pre><h2><a name="7.20-Streams"></a>Streams</h2><pre>

Fixes problems:
	- The double-inclusion protection for two header files didn't use
the standard method. (scfx.h [1.3], scommon.h [1.4]: 2002/01/11 02:27:59
lpd)
	- On IA64 CPUs, objects were only aligned on 8-byte boundaries, not
16-byte. (It may be that only jmpbuf structures actually need 16-byte
alignment, but gcc and glibc malloc align all objects that way.) Fixes
SourceForge bug #502866. Also cleans up some minor coding issues in
genarch.c. (std.h [1.5]: 2002/01/16 16:09:20 lpd)
	- sclose and spskip incorrectly indicated that they returned a
'code' (per gserrors.h) rather than a 'status' (per scommon.h).
(stream.c [1.16]: 2002/02/12 21:52:16 lpd)
	- the 1-line comment at the head of sstring.h was garbled.
(sstring.h [1.4]: 2002/02/16 15:08:59 lpd)

Finishes removing support for pre-ANSI (a.k.a. "traditional" or "K&amp;R") C
compilers. (stdpre.h [1.5]: 2001/12/13 18:11:09 lpd)

Adds more tracing to the DCTEncode filter (under the -Zw switch).
(sdcte.c [1.5]: 2002/02/16 07:32:23 lpd)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(sa85d.c [1.4], sa85d.h [1.4], sa85x.h [1.4], sarc4.c [1.6], sarc4.h [1.3],
sbcp.c [1.4], sbcp.h [1.3], sbtx.h [1.3], scanchar.h [1.3], scantab.c [1.3],
scf.h [1.3], scfd.c [1.4], scfdtab.c [1.2], scfe.c [1.3], scfetab.c [1.3],
scfparam.c [1.3], scfx.h [1.4], scommon.h [1.5], sdcparam.c [1.4],
sdcparam.h [1.3], sdct.h [1.5], sdctc.c [1.3], sdctd.c [1.3], sdcte.c [1.6],
sddparam.c [1.3], sdeparam.c [1.5], seexec.c [1.5], sfilter.h [1.7],
sfilter2.c [1.4], sfxboth.c [1.3], sfxfd.c [1.7], sfxstdio.c [1.5],
shc.c [1.3], shc.h [1.3], siinterp.c [1.3], siinterp.h [1.3],
siscale.c [1.5], siscale.h [1.3], sisparam.h [1.3], sjpeg.h [1.3],
sjpegc.c [1.5], sjpegd.c [1.4], sjpege.c [1.4], slzwc.c [1.3],
slzwce.c [1.3], slzwd.c [1.4], slzwx.h [1.3], smd5.c [1.4], smd5.h [1.3],
spdiff.c [1.4], spdiffx.h [1.3], spngp.c [1.3], spngpx.h [1.3],
spprint.c [1.5], spprint.h [1.4], spsdf.c [1.6], spsdf.h [1.3],
srdline.h [1.3], srld.c [1.3], srle.c [1.3], srlx.h [1.4], sstring.c [1.3],
sstring.h [1.5], stat_.h [1.7], std.h [1.6], stdio_.h [1.5], stdpre.h [1.6],
stream.c [1.17], stream.h [1.9], strimpl.h [1.4], string_.h [1.3],
szlibc.c [1.4], szlibd.c [1.4], szlibe.c [1.3], szlibx.h [1.3],
szlibxx.h [1.3]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (sa85d.c [1.5], sa85d.h [1.5], sa85x.h [1.5],
sarc4.c [1.7], sarc4.h [1.4], sbcp.c [1.5], sbcp.h [1.4], sbtx.h [1.4],
scanchar.h [1.4], scantab.c [1.4], scf.h [1.4], scfd.c [1.5],
scfdtab.c [1.3], scfe.c [1.4], scfetab.c [1.4], scfparam.c [1.4],
scfx.h [1.5], scommon.h [1.6], sdcparam.c [1.5], sdcparam.h [1.4],
sdct.h [1.6], sdctc.c [1.4], sdctd.c [1.4], sdcte.c [1.7], sddparam.c [1.4],
sdeparam.c [1.6], seexec.c [1.6], sfilter.h [1.8], sfilter2.c [1.5],
sfxboth.c [1.4], sfxfd.c [1.8], sfxstdio.c [1.6], shc.c [1.4], shc.h [1.4],
siinterp.c [1.4], siinterp.h [1.4], siscale.c [1.6], siscale.h [1.4],
sisparam.h [1.4], sjpeg.h [1.4], sjpegc.c [1.6], sjpegd.c [1.5],
sjpege.c [1.5], slzwc.c [1.4], slzwce.c [1.4], slzwd.c [1.5], slzwx.h [1.4],
smd5.c [1.5], smd5.h [1.4], spdiff.c [1.5], spdiffx.h [1.4], spngp.c [1.4],
spngpx.h [1.4], spprint.c [1.6], spprint.h [1.5], spsdf.c [1.7],
spsdf.h [1.4], srdline.h [1.4], srld.c [1.4], srle.c [1.4], srlx.h [1.5],
sstring.c [1.4], sstring.h [1.6], stat_.h [1.8], std.h [1.7],
stdio_.h [1.6], stdpre.h [1.7], stream.c [1.18], stream.h [1.10],
strimpl.h [1.5], string_.h [1.4], szlibc.c [1.5], szlibd.c [1.5],
szlibe.c [1.4], szlibx.h [1.4], szlibxx.h [1.4]: 2002/02/21 22:24:53 giles)

Adds support for compilation against a standard shared libjpeg. It is
believed that non-baseline compliant DCTEncoded data, permitted by early
versions of postscript, is now extremely rare and the prohibition against
SHARE_JPEG=1 may reasonably be removed. The autoconf build will prefer a
local copy of the jpeg source, in which case the D_MAX_BLOCKS_IN_MCU patch
will still be applied. If no such local copy is found, it will try to find a
shared library on the system. For all unix builds, if $(JSRCDIR)/jmemsys.h
cannot be found, we define DONT_HAVE_JMEMSYS_H and include our own versions
of the libjpeg memory manager prototypes. The default allocator in the
shared library is overridden by the ghostscript one at link-time. While this
may be implementation-dependent, it appears to function as desired on at
least GNU/Linux and Solaris. Also changes the autoconf build to prefer local
zlib and libpng source, and cleans up some variable names. (sjpegc.c [1.7]:
2002/03/30 23:55:15 giles)

</pre><h2><a name="7.20-Library"></a>Library</h2><pre>

Fixes problems:
	- Change show_enum pointer enumeration to properly enumerate
underlying gs_text_enum structure. (gxchar.c [1.6]: 2001/10/26 16:28:02
raph)
	- Image DataSource procedures that did save/restore would clear the
tile cache which was not detected in image_render_mono resulting in images
being painted with (mostly) all black when the device was a halftoned device
e.g. pcxmono or tiffg3. Check for vailidity of the ht_cache and re-init the
image color clues if not valid. Also improve performance by preventing
restore from always clearing the ht_cache. Fixes SourceForge bug #436897 for
Artifex customer #710. (gsstate.c [1.12], gxht.c [1.3], gximage.h [1.3],
gximono.c [1.3], gxipixel.c [1.3], gzht.h [1.5]: 2001/11/06 22:40:05 rayjj)
	- Trailing comma in structure (compile error on AIX).
(gxfcmap.h [1.9]: 2001/11/07 18:00:09 rayjj)
	- Fix for 473305 and a revised fix for 422534. The fix for 422534
caused a problem detected by the regression testing. This was found with
test file 035-01.ps. Both problems were caused by an error in the logic for
comparing two halftones for equality. This logic is used to determine which
the halftone cache needs to be reloaded. In both cases, non equal halftones
were being considered equal. (gsdcolor.h [1.4], gxcht.c [1.4],
gxclrast.c [1.10], gxdcolor.c [1.4]: 2001/11/12 22:15:19 dancoby)
	- There was an unused variable 'code'; 'divide' was misspelled
'devide'; there was a &amp;&amp; without enclosing parentheses within a ||.
(gxshade1.c [1.10]: 2001/11/22 05:01:40 lpd)
	- Removes 2 undefined variables. (gsdevice.c [1.12]: 2001/11/22
05:05:41 lpd)
	- Removes an unused variable. (gsfcmap.c [1.15]: 2001/11/22 05:14:55
lpd)
	- gs_purge_font_from_char_caches wasn't declared in any header file.
(gsfont.c [1.5], gxfcache.h [1.3]: 2001/11/22 05:56:51 lpd)
	- CIE color conversion could be very inaccurate if it didn't use
interpolation when cached sampled values were near zero. This fix detects
numerically sensitive areas and uses interpolation (which is computationally
expensive) only in those areas. Fixes SourceForge #465921. (gscie.c [1.6],
gscie.h [1.5], gsciemap.c [1.8], gscrd.c [1.3]: 2001/12/09 00:03:37 lpd)
	- Image Type 4 images processed with the Interpolate turned on (as
from -dDOINTERPOLATE) left an uninitialized variable that could cause
extensive slowdown. Fix for SourceForge bug #491308 for Artifex customer
671. (gxiscale.c [1.3]: 2001/12/14 19:02:27 rayjj)
	- Don't signal invalidacces if the OutputFile parameter is set to
the current value as would be done by 'currentpagedevice setpagedevice'.
(gdevprn.c [1.7]: 2002/01/15 04:44:09 rayjj)
	- On IA64 CPUs, objects were only aligned on 8-byte boundaries, not
16-byte. (It may be that only jmpbuf structures actually need 16-byte
alignment, but gcc and glibc malloc align all objects that way.) Fixes
SourceForge bug #502866. Also cleans up some minor coding issues in
genarch.c. (gsmalloc.c [1.4], gxobj.h [1.3]: 2002/01/16 16:09:20 lpd)
	- pdfwrite incorrectly handled Metrics[2] and CDevProc by writing
Widths that differed from the widths in the underlying font. pdfwrite now
positions characters individually in this case, like Acrobat Distiller.
Fixes SourceForge #495414. (gxfont.h [1.6]: 2002/01/17 05:13:24 lpd)
	- The recent fix for #502866 required malloc to align blocks at
least as stringently as the compiler requires. Even though the ANSI C
specification appears to require this, and Ghostscript relies on it, Dan
reports that some C implementation doesn't do it. Additional patching to
deal with this problem will undoubtedly be required.... (gsmalloc.c [1.5]:
2002/01/18 00:31:25 lpd)
	- The check for unaligned return values from malloc still had a bug.
(gsmalloc.c [1.6]: 2002/01/18 18:27:08 lpd)
	- MSVC's malloc on x86 only aligns blocks mod 4, even though the
compiler aligns 'double' members of structures mod 8. Documents this fact in
the relevant places in the Ghostscript code, and removes the check that was
causing gsmalloc.c to produce warning messages. (gsmalloc.c [1.7],
gsmemory.h [1.4], gsmemraw.h [1.4], gxbitmap.h [1.3], gxobj.h [1.4]:
2002/01/22 08:04:28 lpd)
	- Improve security in a (mostly) backward compatible fashion adding
more flexible file access paths (PermitFile...) as user paramters and adding
the facility to return to NOSAFER mode after running jobs (files/procedures)
in SAFER mode. This should address SF bug #474582 and eliminate the need for
the RedHat PARANOIDSAFER patch. (gp.h [1.9], gp_dosfe.c [1.3],
gp_dosfs.c [1.3], gp_unifn.c [1.3], gsutil.c [1.5], gsutil.h [1.4]:
2002/01/24 06:33:33 rayjj)
	- When pdfwrite embedded a TrueType font with a generated format 6
cmap, it incorrectly added the character bias (0xf000) to the "first
character code" entry in the cmap sub-table. Fixes SourceForge #434707 and
probably some others. This fix also adds a set of compile-time options for
forcing embedded TTFs into particular formats for debugging.
(gdevpsft.c [1.10]: 2002/01/29 00:44:06 lpd)
	- Prevent Type2 fonts from needing more than 48 ostack elements.
Patch provided by Toshiya Suzuki-san (mpsuzuki). Also add checking to
prevent fonts that push more than 48 elements on the ostack from overflowing
the array (could caused SEGV). Fix for SourcForge bug #497537.
(gdevpsfx.c [1.11], gstype1.c [1.8], gstype2.c [1.12], gxtype1.c [1.10],
gxtype1.h [1.7]: 2002/01/29 19:13:25 rayjj)
	- The cached effective_clip_id was being set to the clip_id of the
clip_path, ignoring the viewclip path in some cases. Set the 'id' to
correctly reflect the path in effective_clip_path. Fixes SF bug #458769 for
Artifex customer #1130. (gspath.c [1.3]: 2002/02/05 00:29:59 rayjj)
	- Prevent large transparency buffer allocations from overflowing
unsigned int. Could lead to SEGV or buffer overflow. Also fix up some return
code handling when allocations fail in PDF 1.4 transparency logic. Fixes SF
bug #511914 for Artifex customer #680. (gdevp14.c [1.5]: 2002/02/05 08:13:50
rayjj)
	- gx_begin_image3x_generic passed uninitialized data to
gs_cspace_init_DevicePixel when Shape.MaskDict was absent, causing a garbage
collector crash. Fixes SourceForge bug #516530 (heap crash with
OTGuide.pdf). (based on proposed fix by igorm.) (gsipar3x.h [1.4],
gximag3x.c [1.8], gximono.c [1.4]: 2002/02/18 17:12:53 lpd)
	- Many files lacked double-inclusion protection, or implemented it
incorrectly. (gsdfilt.h [1.3], gxfapi.h [1.3], jerror_.h [1.3]: 2002/02/20
01:32:47 lpd)
	- Converting Type 1 to Type 2 fonts didn't adjust the coordinates of
stem hints, which are relative to the l.s.b. in Type 1 but not in Type 2.
(First part of two-part fix for SourceForge #520718.) (gdevpsfx.c [1.14]:
2002/02/22 07:07:47 lpd)
	- The Type 2 CharString interpreter ignored many hints. (Second part
of two-part fix for SourceForge #520718.) (gstype1.c [1.11],
gstype2.c [1.15], gxhint2.c [1.5], gxtype1.h [1.10]: 2002/02/22 15:28:21
lpd)
	- Fixes an out-of-date reference to the Type 2 CharString
documentation. (gstype2.c [1.16]: 2002/02/22 23:32:41 lpd)
	- Makes the standard memory manager scan all chunks, not just the
currently open one, for available free space. This is a long-planned,
long-overdue improvement that can improve memory utilization dramatically.
(gsalloc.c [1.14]: 2002/02/22 23:39:20 lpd)
	- Prevent image interpolation if the target device has less than 4
bits per component. This prevents interpolation from causing 'noise'
(stripes, shadows, etc.) in the output when the device is halftone dithered.
SourceForge bug 525708 for Artifex customer #710. (gxiscale.c [1.6]:
2002/03/06 19:15:15 ray)
	- The formula for dy6 in Type2 hflex1 instruction was wrong. Source
Forge bug #530136 "hflex1 arguments misinterpreted". Thanks to Felix Pahl
(fpahl) for spotting this. (gstype2.c [1.17]: 2002/03/20 20:25:33 igor)
	- Fixes a number of problems with Type11 incremental glyph loading
with MetricsCount=2. Thanks to Brian Stell for the patch.
(gstype42.c [1.17]: 2002/03/26 08:37:14 raph)
	- (1) real_widths were missed in public_st_pdf_font; (2)
pdf_finalize_font_descriptor was called twice (form pdf_font_notify_proc and
from pdf_write_font_resources), if a font is garbage-collected after
pdf_close. Source Forge bug "[ 531983 ] ps2pdf coredumps on this ps file".
(gsstruct.h [1.12]: 2002/03/27 16:46:06 igor)
	- gxfont.h didn't include gsmatrix.h, so many places using gxfont.h
had to include gsmatrix.h. (gxfont.h [1.9]: 2002/03/29 00:41:39 lpd)
	- gsfont.h didn't define gs_matrix as an opaque type, causing
clients of gsfont.h to include gsmatrix.h unnecessarily. (gsfont.h [1.5]:
2002/03/29 00:48:21 lpd)

file vdtrace.c was initially added on branch HINTER. (vdtrace.c [1.1]:
2001/01/12 06:19:36 igorm)

file vdtrace.h was initially added on branch HINTER. (vdtrace.h [1.1]:
2001/02/02 20:27:09 igorm)

Updates version number to 7.10 to indicate that this is now the development
branch. (gscdef.c [1.16]: 2001/10/20 09:25:22 raph)

Changes all procedures for getting glyph outline data to return a structure
that includes memory management information. This is a
NON-BACKWARD-COMPATIBLE change to both implementors and clients. It corrects
a serious design error: formerly these procedures encoded memory management
information in their return code, which was obscure and error-prone.
(gdevpsf.h [1.11], gdevpsf1.c [1.10], gdevpsf2.c [1.16], gdevpsft.c [1.9],
gdevpsfu.c [1.8], gdevpsfx.c [1.10], gsfcid.c [1.6], gsgdata.c [1.1],
gsgdata.h [1.1], gstype1.c [1.7], gstype1.h [1.3], gstype2.c [1.11],
gstype42.c [1.13], gxfcid.h [1.7], gxfont.h [1.4], gxfont1.h [1.6],
gxfont42.h [1.5], gxtype1.c [1.9], gxtype1.h [1.6]: 2001/10/21 06:20:08 lpd)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(gconf.c [1.3], gsmemraw.h [1.3], gxfont.h [1.5]: 2001/10/21 18:57:41 igorm)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(gxfapi.c [1.1], gxfapi.h [1.1]: 2001/10/21 19:10:29 igorm)

Takes a small step towards fully ANSIfied code by removing all ANSI-testing
uses of __PROTOTYPES__ from code with an Aladdin/artofcode copyright.
(gdevprn.h [1.7], gsroptab.c [1.3], gsstruct.h [1.9]: 2001/10/25 04:38:34
lpd)

Refactors the CIEBased color mapping code slightly to make the CIE =&gt; XYZ
step separately accessible. (The XYZ =&gt; device step is already exported
for rendering ICCBased color.) pdfwrite needs this for converting arbitrary
CIEBased spaces to ICCBased. (gscie.c [1.5], gscie.h [1.4],
gsciemap.c [1.7], gxcie.h [1.4]: 2001/11/06 04:47:37 lpd)

Improvement for FAPI project : Splitting set_cache_device in 2 parts to
allow computing the oversampling scale prior to zchar_set_cache.
(gxchar.c [1.7], gxchar.h [1.3]: 2001/11/06 22:02:33 igorm)

Changes uses of 'defined' as an identifier to 'is_defined', since 'defined'
is a (non-standard) reserved word in gcc 2.96. (Patch from Red Hat.)
(gsdparam.c [1.5]: 2001/11/07 07:48:57 lpd)

FAPI project : (1) upgrading with UFST 4.3, (2) implementing GS cache.
(gxfapi.c [1.2], gxfapi.h [1.2]: 2001/11/11 23:09:16 igorm)

FAPI project : Preparing environment for CID font processing; Fixing UFST
file names. (gxfapi.c [1.3]: 2001/12/12 02:48:20 igorm)

FAPI project : Making set_char_width to be public to access from FAPI
client. (gxchar.c [1.8], gxchar.h [1.4]: 2001/12/20 22:17:59 igorm)

Improve security for device related access to the file system and to pipes
by allowing the dangerous parameters to be locked (for example, OutputFile).
The locking is performed after command line parameters are established.
Locking is not turned on by default as a result of this change, but
-d.LockSafetyParams=true can be added to the command line to accomplish
this. Related to SF bug #474582 (sort of). (gdevprn.c [1.6],
gdevvec.c [1.13], gsdparam.c [1.6], gxdevcli.h [1.6], gxdevice.h [1.5]:
2001/12/22 00:44:01 rayjj)

FAPI project : Making set_char_width to be public to access from FAPI
client. (gdevpsfm.c [1.6], gxfcmap.h [1.10]: 2001/12/28 18:53:02 igorm)

Moves TrueType glyph flags to gxttf.h, where they should have been from the
beginning. (gstype42.c [1.14], gxttf.h [1.3]: 2002/02/11 16:27:58 lpd)

Minor tweaks to Ray's buffer allocation failure patch, as discussed on
gs-code-review. (gdevp14.c [1.6]: 2002/02/13 18:11:09 raph)

Remove pdf14_text_enum_t and related functions because they are unuseful.
This change helps for FAPI project. (gdevp14.c [1.7]: 2002/02/18 11:13:19
igor)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(ctype_.h [1.3], dirent_.h [1.3], dos_.h [1.3], errno_.h [1.3],
fcntl_.h [1.4], gconf.c [1.4], gconf.h [1.3], gdebug.h [1.4],
gdevabuf.c [1.4], gdevalph.c [1.3], gdevbbox.c [1.5], gdevbbox.h [1.3],
gdevcmap.c [1.3], gdevcmap.h [1.3], gdevdbit.c [1.3], gdevddrw.c [1.3],
gdevdflt.c [1.4], gdevdgbr.c [1.3], gdevdrop.c [1.4], gdevemap.c [1.3],
gdevhit.c [1.3], gdevht.c [1.4], gdevht.h [1.3], gdevm1.c [1.3],
gdevm16.c [1.3], gdevm2.c [1.3], gdevm24.c [1.3], gdevm32.c [1.3],
gdevm4.c [1.3], gdevm8.c [1.3], gdevmem.c [1.3], gdevmem.h [1.4],
gdevmpla.c [1.3], gdevmpla.h [1.3], gdevmr1.c [1.3], gdevmr2n.c [1.3],
gdevmr8n.c [1.3], gdevmrop.h [1.4], gdevmrun.c [1.3], gdevmrun.h [1.3],
gdevnfwd.c [1.4], gdevp14.c [1.8], gdevpipe.c [1.5], gdevplnx.c [1.3],
gdevplnx.h [1.3], gdevppla.c [1.3], gdevppla.h [1.3], gdevprn.c [1.8],
gdevprn.h [1.8], gdevprna.c [1.3], gdevprna.h [1.3], gdevpsf.h [1.12],
gdevpsf1.c [1.11], gdevpsf2.c [1.17], gdevpsfm.c [1.7], gdevpsft.c [1.11],
gdevpsfu.c [1.9], gdevpsfx.c [1.12], gdevrops.c [1.4], gdevtrac.c [1.3],
gdevvec.c [1.14], gdevvec.h [1.8], gp.h [1.10], gp_dosfe.c [1.4],
gp_dosfs.c [1.4], gp_getnv.c [1.3], gp_msdos.c [1.3], gp_nsync.c [1.3],
gp_psync.c [1.3], gp_strdl.c [1.3], gp_unifn.c [1.4], gp_unifs.c [1.7],
gpcheck.h [1.3], gpgetenv.h [1.3], gpmisc.c [1.10], gpmisc.h [1.3],
gpsync.h [1.3], gsalloc.c [1.12], gsalloc.h [1.3], gsalpha.c [1.3],
gsalpha.h [1.3], gsalphac.c [1.3], gsalphac.h [1.3], gsargs.c [1.5],
gsargs.h [1.5], gsbitcom.c [1.2], gsbitmap.h [1.3], gsbitops.c [1.4],
gsbitops.h [1.3], gsbittab.c [1.3], gsbittab.h [1.3], gsccode.h [1.5],
gsccolor.h [1.3], gscdef.c [1.17], gscdefs.h [1.3], gscdevn.c [1.7],
gscdevn.h [1.4], gschar.c [1.4], gschar.h [1.4], gschar0.c [1.4],
gscie.c [1.7], gscie.h [1.6], gsciemap.c [1.9], gscindex.h [1.3],
gsclipsr.c [1.3], gsclipsr.h [1.3], gscolor.c [1.6], gscolor.h [1.4],
gscolor1.c [1.5], gscolor1.h [1.3], gscolor2.c [1.7], gscolor2.h [1.4],
gscolor3.c [1.5], gscolor3.h [1.3], gscompt.h [1.3], gscoord.c [1.6],
gscoord.h [1.3], gscparam.c [1.8], gscpixel.c [1.4], gscpixel.h [1.3],
gscpm.h [1.3], gscrd.c [1.4], gscrd.h [1.3], gscrdp.c [1.3], gscrdp.h [1.3],
gscrypt1.c [1.3], gscrypt1.h [1.3], gscscie.c [1.5], gscsel.h [1.3],
gscsepnm.h [1.3], gscsepr.h [1.5], gscspace.c [1.5], gscspace.h [1.9],
gscssub.c [1.4], gscssub.h [1.3], gsdcolor.h [1.5], gsdevice.c [1.13],
gsdevice.h [1.4], gsdevmem.c [1.3], gsdfilt.c [1.4], gsdfilt.h [1.4],
gsdparam.c [1.7], gsdpnext.h [1.3], gsdps.c [1.3], gsdps.h [1.3],
gsdps1.c [1.3], gsdsrc.c [1.3], gsdsrc.h [1.4], gserror.h [1.3],
gserrors.h [1.3], gsexit.h [1.5], gsfcid.c [1.7], gsfcmap.c [1.16],
gsfcmap.h [1.5], gsfemu.c [1.3], gsflip.c [1.3], gsflip.h [1.3],
gsfname.c [1.3], gsfname.h [1.3], gsfont.c [1.6], gsfont.h [1.3],
gsfont0.c [1.3], gsfunc.c [1.5], gsfunc.h [1.5], gsfunc0.c [1.6],
gsfunc0.h [1.3], gsfunc3.c [1.5], gsfunc3.h [1.3], gsfunc4.c [1.8],
gsfunc4.h [1.3], gsfuncv.c [1.3], gsfuncv.h [1.3], gsgc.h [1.4],
gsgdata.c [1.2], gsgdata.h [1.2], gshsb.c [1.3], gshsb.h [1.3],
gsht.c [1.3], gsht.h [1.3], gsht1.c [1.4], gsht1.h [1.3], gshtscr.c [1.7],
gshtx.c [1.3], gshtx.h [1.3], gsicc.c [1.6], gsicc.h [1.4], gsimage.c [1.5],
gsimage.h [1.3], gsimpath.c [1.3], gsinit.c [1.4], gsio.h [1.6],
gsiodev.c [1.6], gsiodevs.c [1.3], gsipar3x.h [1.5], gsiparam.h [1.5],
gsiparm2.h [1.3], gsiparm3.h [1.5], gsiparm4.h [1.3], gsistate.c [1.5],
gsjconf.h [1.3], gslib.c [1.6], gslib.h [1.3], gsline.c [1.3],
gsline.h [1.3], gslparam.h [1.3], gsmalloc.c [1.8], gsmalloc.h [1.3],
gsmatrix.c [1.3], gsmatrix.h [1.3], gsmdebug.h [1.4], gsmemlok.c [1.4],
gsmemlok.h [1.3], gsmemory.c [1.5], gsmemory.h [1.5], gsmemraw.h [1.5],
gsmemret.c [1.3], gsmemret.h [1.3], gsmisc.c [1.13], gsnogc.c [1.8],
gsnogc.h [1.3], gsnorop.c [1.3], gsnotify.c [1.3], gsnotify.h [1.3],
gspaint.c [1.3], gspaint.h [1.3], gsparam.c [1.5], gsparam.h [1.9],
gsparam2.c [1.3], gsparams.c [1.3], gsparams.h [1.3], gsparamx.c [1.5],
gsparamx.h [1.4], gspath.c [1.4], gspath.h [1.3], gspath1.c [1.4],
gspath2.h [1.3], gspcolor.c [1.5], gspcolor.h [1.3], gspenum.h [1.3],
gsptype1.c [1.4], gsptype1.h [1.3], gsptype2.c [1.6], gsptype2.h [1.5],
gsrect.h [1.3], gsrefct.h [1.3], gsrop.c [1.3], gsrop.h [1.3],
gsropc.c [1.3], gsropc.h [1.3], gsropt.h [1.5], gsroptab.c [1.4],
gsshade.c [1.5], gsshade.h [1.4], gsstate.c [1.13], gsstate.h [1.3],
gsstruct.h [1.10], gsstype.h [1.3], gstext.c [1.7], gstext.h [1.4],
gstparam.h [1.8], gstrans.c [1.14], gstrans.h [1.7], gstrap.c [1.4],
gstrap.h [1.4], gstype1.c [1.9], gstype1.h [1.4], gstype2.c [1.13],
gstype42.c [1.15], gstypes.h [1.4], gsuid.h [1.3], gsutil.c [1.6],
gsutil.h [1.5], gsxfont.h [1.3], gx.h [1.3], gxacpath.c [1.4],
gxalloc.h [1.7], gxalpha.h [1.3], gxarith.h [1.3], gxband.h [1.3],
gxbcache.c [1.3], gxbcache.h [1.3], gxbitfmt.h [1.3], gxbitmap.h [1.4],
gxbitops.h [1.3], gxblend.c [1.3], gxblend.h [1.2], gxccache.c [1.6],
gxccman.c [1.3], gxcdevn.h [1.3], gxchar.c [1.9], gxchar.h [1.5],
gxchrout.c [1.3], gxchrout.h [1.3], gxcht.c [1.5], gxcid.h [1.4],
gxcie.h [1.5], gxcindex.h [1.3], gxclbits.c [1.5], gxcldev.h [1.5],
gxclfile.c [1.4], gxclimag.c [1.4], gxclio.h [1.3], gxclip.c [1.5],
gxclip.h [1.3], gxclip2.c [1.4], gxclip2.h [1.3], gxclipm.c [1.4],
gxclipm.h [1.3], gxclipsr.h [1.3], gxclist.c [1.4], gxclist.h [1.3],
gxcllzw.c [1.3], gxclmem.c [1.3], gxclmem.h [1.3], gxclpage.c [1.3],
gxclpage.h [1.3], gxclpath.c [1.10], gxclpath.h [1.7], gxclrast.c [1.11],
gxclread.c [1.4], gxclrect.c [1.3], gxclutil.c [1.6], gxclzlib.c [1.3],
gxcmap.c [1.4], gxcmap.h [1.3], gxcolor2.h [1.5], gxcomp.h [1.3],
gxcoord.h [1.3], gxcpath.c [1.4], gxcpath.h [1.3], gxcspace.h [1.5],
gxctable.c [1.4], gxctable.h [1.3], gxcvalue.h [1.3], gxdcconv.c [1.4],
gxdcconv.h [1.3], gxdcolor.c [1.5], gxdcolor.h [1.4], gxdda.h [1.3],
gxdevbuf.h [1.3], gxdevcli.h [1.7], gxdevice.h [1.6], gxdevmem.h [1.3],
gxdevrop.h [1.3], gxdht.h [1.5], gxdhtres.h [1.3], gxdither.c [1.3],
gxdither.h [1.3], gxfapi.c [1.4], gxfapi.h [1.4], gxfarith.h [1.4],
gxfcache.h [1.4], gxfcid.h [1.8], gxfcmap.h [1.11], gxfill.c [1.9],
gxfixed.h [1.4], gxfmap.h [1.4], gxfont.h [1.7], gxfont0.h [1.4],
gxfont1.h [1.7], gxfont42.h [1.6], gxfrac.h [1.4], gxftype.h [1.3],
gxfunc.h [1.4], gxgetbit.h [1.3], gxhint1.c [1.3], gxhint2.c [1.3],
gxhint3.c [1.4], gxht.c [1.4], gxht.h [1.3], gxhtbit.c [1.4],
gxhttile.h [1.3], gxhttype.h [1.3], gxi12bit.c [1.3], gxiclass.h [1.3],
gxicolor.c [1.4], gxidata.c [1.5], gxifast.c [1.5], gximag3x.c [1.9],
gximag3x.h [1.4], gximage.c [1.3], gximage.h [1.4], gximage1.c [1.6],
gximage2.c [1.3], gximage3.c [1.7], gximage3.h [1.5], gximage4.c [1.4],
gximono.c [1.5], gxino12b.c [1.3], gxiodev.h [1.3], gxiparam.h [1.3],
gxipixel.c [1.4], gxiscale.c [1.4], gxistate.h [1.7], gxline.h [1.3],
gxlum.h [1.3], gxmatrix.h [1.5], gxmclip.c [1.3], gxmclip.h [1.3],
gxobj.h [1.5]: 2002/02/21 20:57:46 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(gxop1.h [1.3], gxp1fill.c [1.3], gxp1impl.h [1.3], gxpageq.c [1.3],
gxpageq.h [1.3], gxpaint.c [1.3], gxpaint.h [1.3], gxpath.c [1.3],
gxpath.h [1.3], gxpath2.c [1.3], gxpcache.h [1.3], gxpcmap.c [1.4],
gxpcolor.h [1.3], gxpcopy.c [1.4], gxpdash.c [1.3], gxpflat.c [1.3],
gxropc.h [1.3], gxrplane.h [1.3], gxsample.c [1.3], gxsample.h [1.3],
gxshade.c [1.7], gxshade.h [1.5], gxshade1.c [1.11], gxshade4.c [1.7],
gxshade4.h [1.3], gxshade6.c [1.4], gxstate.h [1.3], gxstdio.h [1.3],
gxstroke.c [1.3], gxsync.c [1.3], gxsync.h [1.3], gxtext.h [1.8],
gxtmap.h [1.3], gxttf.h [1.4], gxtype1.c [1.11], gxtype1.h [1.8],
gxxfont.h [1.3], gzacpath.h [1.3], gzcpath.h [1.3], gzht.h [1.6],
gzline.h [1.3], gzpath.h [1.4], gzstate.h [1.6], jerror_.h [1.4],
malloc_.h [1.3], math_.h [1.3], md5.c [1.3], md5.h [1.2], memory_.h [1.3],
pipe_.h [1.3], time_.h [1.4], unistd_.h [1.5], vmsmath.h [1.3],
windows_.h [1.3]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (ctype_.h [1.4], dirent_.h [1.4], dos_.h [1.4],
errno_.h [1.4], fcntl_.h [1.5], gconf.c [1.5], gconf.h [1.4],
gdebug.h [1.5], gdevabuf.c [1.5], gdevalph.c [1.4], gdevbbox.c [1.6],
gdevbbox.h [1.4], gdevcmap.c [1.4], gdevcmap.h [1.4], gdevdbit.c [1.4],
gdevddrw.c [1.4], gdevdflt.c [1.5], gdevdgbr.c [1.4], gdevdrop.c [1.5],
gdevemap.c [1.4], gdevhit.c [1.4], gdevht.c [1.5], gdevht.h [1.4],
gdevm1.c [1.4], gdevm16.c [1.4], gdevm2.c [1.4], gdevm24.c [1.4],
gdevm32.c [1.4], gdevm4.c [1.4], gdevm8.c [1.4], gdevmem.c [1.4],
gdevmem.h [1.5], gdevmpla.c [1.4], gdevmpla.h [1.4], gdevmr1.c [1.4],
gdevmr2n.c [1.4], gdevmr8n.c [1.4], gdevmrop.h [1.5], gdevmrun.c [1.4],
gdevmrun.h [1.4], gdevnfwd.c [1.5], gdevp14.c [1.9], gdevpipe.c [1.6],
gdevplnx.c [1.4], gdevplnx.h [1.4], gdevppla.c [1.4], gdevppla.h [1.4],
gdevprn.c [1.9], gdevprn.h [1.9], gdevprna.c [1.4], gdevprna.h [1.4],
gdevpsf.h [1.13], gdevpsf1.c [1.12], gdevpsf2.c [1.18], gdevpsfm.c [1.8],
gdevpsft.c [1.12], gdevpsfu.c [1.10], gdevpsfx.c [1.13], gdevrops.c [1.5],
gdevtrac.c [1.4], gdevvec.c [1.15], gdevvec.h [1.9], gp.h [1.11],
gp_dosfe.c [1.5], gp_dosfs.c [1.5], gp_getnv.c [1.4], gp_msdos.c [1.4],
gp_nsync.c [1.4], gp_psync.c [1.4], gp_strdl.c [1.4], gp_unifn.c [1.5],
gp_unifs.c [1.8], gpcheck.h [1.4], gpgetenv.h [1.4], gpmisc.c [1.11],
gpmisc.h [1.4], gpsync.h [1.4], gsalloc.c [1.13], gsalloc.h [1.4],
gsalpha.c [1.4], gsalpha.h [1.4], gsalphac.c [1.4], gsalphac.h [1.4],
gsargs.c [1.6], gsargs.h [1.6], gsbitcom.c [1.3], gsbitmap.h [1.4],
gsbitops.c [1.5], gsbitops.h [1.4], gsbittab.c [1.4], gsbittab.h [1.4],
gsccode.h [1.6], gsccolor.h [1.4], gscdef.c [1.18], gscdefs.h [1.4],
gscdevn.c [1.8], gscdevn.h [1.5], gschar.c [1.5], gschar.h [1.5],
gschar0.c [1.5], gscie.c [1.8], gscie.h [1.7], gsciemap.c [1.10],
gscindex.h [1.4], gsclipsr.c [1.4], gsclipsr.h [1.4], gscolor.c [1.7],
gscolor.h [1.5], gscolor1.c [1.6], gscolor1.h [1.4], gscolor2.c [1.8],
gscolor2.h [1.5], gscolor3.c [1.6], gscolor3.h [1.4], gscompt.h [1.4],
gscoord.c [1.7], gscoord.h [1.4], gscparam.c [1.9], gscpixel.c [1.5],
gscpixel.h [1.4], gscpm.h [1.4], gscrd.c [1.5], gscrd.h [1.4],
gscrdp.c [1.4], gscrdp.h [1.4], gscrypt1.c [1.4], gscrypt1.h [1.4],
gscscie.c [1.6], gscsel.h [1.4], gscsepnm.h [1.4], gscsepr.h [1.6],
gscspace.c [1.6], gscspace.h [1.10], gscssub.c [1.5], gscssub.h [1.4],
gsdcolor.h [1.6], gsdevice.c [1.14], gsdevice.h [1.5], gsdevmem.c [1.4],
gsdfilt.c [1.5], gsdfilt.h [1.5], gsdparam.c [1.8], gsdpnext.h [1.4],
gsdps.c [1.4], gsdps.h [1.4], gsdps1.c [1.4], gsdsrc.c [1.4],
gsdsrc.h [1.5], gserror.h [1.4], gserrors.h [1.4], gsexit.h [1.6],
gsfcid.c [1.8], gsfcmap.c [1.17], gsfcmap.h [1.6], gsfemu.c [1.4],
gsflip.c [1.4], gsflip.h [1.4], gsfname.c [1.4], gsfname.h [1.4],
gsfont.c [1.7], gsfont.h [1.4], gsfont0.c [1.4], gsfunc.c [1.6],
gsfunc.h [1.6], gsfunc0.c [1.7], gsfunc0.h [1.4], gsfunc3.c [1.6],
gsfunc3.h [1.4], gsfunc4.c [1.9], gsfunc4.h [1.4], gsfuncv.c [1.4],
gsfuncv.h [1.4], gsgc.h [1.5], gsgdata.c [1.3], gsgdata.h [1.3],
gshsb.c [1.4], gshsb.h [1.4], gsht.c [1.4], gsht.h [1.4], gsht1.c [1.5],
gsht1.h [1.4], gshtscr.c [1.8], gshtx.c [1.4], gshtx.h [1.4], gsicc.c [1.7],
gsicc.h [1.5], gsimage.c [1.6], gsimage.h [1.4], gsimpath.c [1.4],
gsinit.c [1.5], gsio.h [1.7], gsiodev.c [1.7], gsiodevs.c [1.4],
gsipar3x.h [1.6], gsiparam.h [1.6], gsiparm2.h [1.4], gsiparm3.h [1.6],
gsiparm4.h [1.4], gsistate.c [1.6], gsjconf.h [1.4], gslib.c [1.7],
gslib.h [1.4], gsline.c [1.4], gsline.h [1.4], gslparam.h [1.4],
gsmalloc.c [1.9], gsmalloc.h [1.4], gsmatrix.c [1.4], gsmatrix.h [1.4],
gsmdebug.h [1.5], gsmemlok.c [1.5], gsmemlok.h [1.4], gsmemory.c [1.6],
gsmemory.h [1.6], gsmemraw.h [1.6], gsmemret.c [1.4], gsmemret.h [1.4],
gsmisc.c [1.14], gsnogc.c [1.9], gsnogc.h [1.4], gsnorop.c [1.4],
gsnotify.c [1.4], gsnotify.h [1.4], gspaint.c [1.4], gspaint.h [1.4],
gsparam.c [1.6], gsparam.h [1.10], gsparam2.c [1.4], gsparams.c [1.4],
gsparams.h [1.4], gsparamx.c [1.6], gsparamx.h [1.5], gspath.c [1.5],
gspath.h [1.4], gspath1.c [1.5], gspath2.h [1.4], gspcolor.c [1.6],
gspcolor.h [1.4], gspenum.h [1.4], gsptype1.c [1.5], gsptype1.h [1.4],
gsptype2.c [1.7], gsptype2.h [1.6], gsrect.h [1.4], gsrefct.h [1.4],
gsrop.c [1.4], gsrop.h [1.4], gsropc.c [1.4], gsropc.h [1.4],
gsropt.h [1.6], gsroptab.c [1.5], gsshade.c [1.6], gsshade.h [1.5],
gsstate.c [1.14], gsstate.h [1.4], gsstruct.h [1.11], gsstype.h [1.4],
gstext.c [1.8], gstext.h [1.5], gstparam.h [1.9], gstrans.c [1.15],
gstrans.h [1.8], gstrap.c [1.5], gstrap.h [1.5], gstype1.c [1.10],
gstype1.h [1.5], gstype2.c [1.14], gstype42.c [1.16], gstypes.h [1.5],
gsuid.h [1.4], gsutil.c [1.7], gsutil.h [1.6], gsxfont.h [1.4], gx.h [1.4],
gxacpath.c [1.5], gxalloc.h [1.8], gxalpha.h [1.4], gxarith.h [1.4],
gxband.h [1.4], gxbcache.c [1.4], gxbcache.h [1.4], gxbitfmt.h [1.4],
gxbitmap.h [1.5], gxbitops.h [1.4], gxblend.c [1.4], gxblend.h [1.3],
gxccache.c [1.7], gxccman.c [1.4], gxcdevn.h [1.4], gxchar.c [1.10],
gxchar.h [1.6], gxchrout.c [1.4], gxchrout.h [1.4], gxcht.c [1.6],
gxcid.h [1.5], gxcie.h [1.6], gxcindex.h [1.4], gxclbits.c [1.6],
gxcldev.h [1.6], gxclfile.c [1.5], gxclimag.c [1.5], gxclio.h [1.4],
gxclip.c [1.6], gxclip.h [1.4], gxclip2.c [1.5], gxclip2.h [1.4],
gxclipm.c [1.5], gxclipm.h [1.4], gxclipsr.h [1.4], gxclist.c [1.5],
gxclist.h [1.4], gxcllzw.c [1.4], gxclmem.c [1.4], gxclmem.h [1.4],
gxclpage.c [1.4], gxclpage.h [1.4], gxclpath.c [1.11], gxclpath.h [1.8],
gxclrast.c [1.12], gxclread.c [1.5], gxclrect.c [1.4], gxclutil.c [1.7],
gxclzlib.c [1.4], gxcmap.c [1.5], gxcmap.h [1.4], gxcolor2.h [1.6],
gxcomp.h [1.4], gxcoord.h [1.4], gxcpath.c [1.5], gxcpath.h [1.4],
gxcspace.h [1.6], gxctable.c [1.5], gxctable.h [1.4], gxcvalue.h [1.4],
gxdcconv.c [1.5], gxdcconv.h [1.4], gxdcolor.c [1.6], gxdcolor.h [1.5],
gxdda.h [1.4], gxdevbuf.h [1.4], gxdevcli.h [1.8], gxdevice.h [1.7],
gxdevmem.h [1.4], gxdevrop.h [1.4], gxdht.h [1.6], gxdhtres.h [1.4],
gxdither.c [1.4], gxdither.h [1.4], gxfapi.c [1.5], gxfapi.h [1.5],
gxfarith.h [1.5], gxfcache.h [1.5], gxfcid.h [1.9], gxfcmap.h [1.12],
gxfill.c [1.10], gxfixed.h [1.5], gxfmap.h [1.5], gxfont.h [1.8],
gxfont0.h [1.5], gxfont1.h [1.8], gxfont42.h [1.7], gxfrac.h [1.5],
gxftype.h [1.4], gxfunc.h [1.5], gxgetbit.h [1.4], gxhint1.c [1.4],
gxhint2.c [1.4], gxhint3.c [1.5], gxht.c [1.5], gxht.h [1.4],
gxhtbit.c [1.5], gxhttile.h [1.4], gxhttype.h [1.4], gxi12bit.c [1.4],
gxiclass.h [1.4], gxicolor.c [1.5], gxidata.c [1.6], gxifast.c [1.6],
gximag3x.c [1.10], gximag3x.h [1.5], gximage.c [1.4], gximage.h [1.5],
gximage1.c [1.7], gximage2.c [1.4], gximage3.c [1.8], gximage3.h [1.6],
gximage4.c [1.5], gximono.c [1.6], gxino12b.c [1.4], gxiodev.h [1.4],
gxiparam.h [1.4], gxipixel.c [1.5], gxiscale.c [1.5], gxistate.h [1.8],
gxline.h [1.4], gxlum.h [1.4], gxmatrix.h [1.6], gxmclip.c [1.4],
gxmclip.h [1.4], gxobj.h [1.6], gxop1.h [1.4], gxp1fill.c [1.4],
gxp1impl.h [1.4], gxpageq.c [1.4], gxpageq.h [1.4], gxpaint.c [1.4],
gxpaint.h [1.4], gxpath.c [1.4], gxpath.h [1.4], gxpath2.c [1.4],
gxpcache.h [1.4], gxpcmap.c [1.5], gxpcolor.h [1.4], gxpcopy.c [1.5],
gxpdash.c [1.4], gxpflat.c [1.4], gxropc.h [1.4], gxrplane.h [1.4],
gxsample.c [1.4], gxsample.h [1.4], gxshade.c [1.8], gxshade.h [1.6],
gxshade1.c [1.12], gxshade4.c [1.8], gxshade4.h [1.4], gxshade6.c [1.5],
gxstate.h [1.4], gxstdio.h [1.4], gxstroke.c [1.4], gxsync.c [1.4],
gxsync.h [1.4], gxtext.h [1.9], gxtmap.h [1.4], gxttf.h [1.5],
gxtype1.c [1.12], gxtype1.h [1.9], gxxfont.h [1.4], gzacpath.h [1.4],
gzcpath.h [1.4], gzht.h [1.7], gzline.h [1.4], gzpath.h [1.5],
gzstate.h [1.7], jerror_.h [1.5], malloc_.h [1.4], math_.h [1.4],
md5.c [1.4], md5.h [1.3], memory_.h [1.4], pipe_.h [1.4]: 2002/02/21
22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (time_.h [1.5], unistd_.h [1.6], vmsmath.h [1.4],
windows_.h [1.4]: 2002/02/21 22:24:54 giles)

Remove bbox_text_enum_t and related functions because they are unuseful.
This change helps for FAPI project. (gdevbbox.c [1.7]: 2002/02/22 08:37:19
igor)

Implementing Visual Trace service to graphics library, and Visual Trace
server for Windows. (vdtrace.c [1.2], vdtrace.h [1.2]: 2002/02/26 16:09:15
igor)

Remove the return_if_error macro from ALL occurrences and clean up some of
the C-style problems with the FAPI code. Add some of the new rules about
macros to C-style.htm. (gserror.h [1.5], vdtrace.h [1.3]: 2002/02/28
21:21:42 ray)

Improves comments to describe the alignment and padding requirement for
bitmaps. (gxbitmap.h [1.6]: 2002/03/05 16:56:33 lpd)

Corrected argument list for main(), and added int return type, in test
program and T value program. (md5.c [1.5]: 2002/03/11 20:08:50 lpd)

Add a new optional FEATURE, diskn.dev that provides emulation of %disk
devices present on some Adobe printers. This version is NOT multiple
instance safe, but is useful for embedded printers or for server systems
with a single Ghostscript instance. Documentation is in Language.htm.
Addresses SourceForge bug #493344 for Artifex customer #411.
(gsiodisk.c [1.1]: 2002/03/13 20:27:39 ray)

Adds multiple inclusion protection to the vdtrace header files.
(vdtrace.h [1.4]: 2002/03/14 04:26:44 giles)

Documents the rationale for the imager state / graphics state division.
(gxistate.h [1.9]: 2002/03/19 05:34:06 lpd)

Because of the introduction of CODE_VALUE_NOTDEF in v. 1.14 of gsfcmap.c,
pdfwrite could no longer embed non-standard CMaps. (gdevpsfm.c [1.9]:
2002/03/28 07:29:46 lpd)

Update release dates in preparation of the upcoming development release
(gscdef.c [1.19]: 2002/03/29 00:01:02 giles)

</pre><h2><a name="7.20-Other"></a>Other</h2><pre>

Fixes problems:
	- the configure script was setting ZSRCDIR to the empty string in
the case where SHARE_ZLIB=1, causing a syntax error on the libpng command
line. It is now set to a harmless default (configure.ac [1.2]: 2002/01/06
00:12:03 giles)
	- prefer 'src' over '.' for the spurious local include line for
zlib. Thanks to Peter Deutsch for the suggestion. (configure.ac [1.3]:
2002/01/09 20:20:27 giles)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922. (gp_mac.h [1.2],
macsysstat.h [1.2], macsystypes.h [1.2], vms_x_fix.h [1.2]: 2002/01/09
21:04:21 giles)
	- corrects the name of the autoconf generated makefile for the
purpose of dependencies (Makefile.in [1.3]: 2002/02/01 04:11:46 giles)
	- Many files lacked double-inclusion protection, or implemented it
incorrectly. (gsdll.h [1.4], vms_x_fix.h [1.3]: 2002/02/20 01:32:47 lpd)
	- Fixes the gdevx.o command line in the case when AC_PATH_X sets
x_includes to the empty string. Fixes SF #530429. (Makefile.in [1.6],
configure.ac [1.7]: 2002/03/28 19:35:03 raph)
	- Uses a default 'src' setting for PSRCDIR in the autoconf build
with shared libpng, as we do with zlib, preventing compiler confusion from
empty -I lines. Partial fix for SF bug #514898. (configure.ac [1.8]:
2002/03/28 19:52:28 giles)
	- improves X11 path settings in the autoconf build. We use
AC_PATH_XTRA instead of the previous "is it null" hack with AC_PATH_X. The
new macro also defines some additional libraries that may need to be
included. We currently don't use this information. (Makefile.in [1.7],
configure.ac [1.9]: 2002/03/28 20:40:25 giles)
	- remove -fno-common from the standard gcc LDFLAGS. It is only
required at compile time and doesn't need to be passed to the linker.
(Makefile.in [1.8]: 2002/03/28 23:12:09 giles)
	- verify that our default collection of compiler switches
(gcc-specific) work before using them. This allows the autoconf build to
work with non-gcc compilers. Completes the fix for SF Bug #514898.
(Makefile.in [1.9], configure.ac [1.10]: 2002/03/28 23:15:53 giles)
	- remove -fno-common from the default LDFLAGS (again) This was
inadvertently reverted in the previous revision. (Makefile.in [1.10]:
2002/03/29 22:04:58 giles)
	- removes -Wtraditional for the default gcc compiler flags for the
autoconf build as well. (configure.ac [1.11]: 2002/03/29 22:05:54 giles)
	- removes gcc-specific compiler flags from the autoconf makefile,
including the -fomit-frame-pointer optimization. Replaces the workaround for
const not working in gcc 2.7 with the more general autoconf macro
AC_C_CONST. Lists the defines generated by the configure script for
reference in the Makefile, but doesn't make use of them.
(Makefile.in [1.11], configure.ac [1.12]: 2002/03/30 03:24:10 giles)
	- the warning flag is -Wcast-qual not -Wqual-cast
(configure.ac [1.13]: 2002/03/30 03:44:36 giles)
	- 'echo -n' isn't portable. (configure.ac [1.15]: 2002/03/31
00:26:43 giles)

Adds basic support for GNU autoconf to the build system. (.cvsignore [1.3],
Makefile.in [1.1], autogen.sh [1.1], configure.ac [1.1]: 2002/01/04 05:47:50
giles)

Adds and rcs line to the autogen script. (autogen.sh [1.2]: 2002/01/06
06:56:02 giles)

Removes the check for an install program, since it unfortunately errors out
if the local fallback install-sh script from automake isn't present. We
continue to use src/instcopy in any case. Also some minor cleanup.
(.cvsignore [1.4], autogen.sh [1.3], configure.ac [1.4]: 2002/01/10 23:11:20
giles)

Checkin of IJS 0.33 to repository. (ijs/Makefile [1.1],
ijs/Makefile.in [1.1], ijs/README [1.1], ijs/common.mak [1.1],
ijs/configure [1.1], ijs/configure.in [1.1], ijs/ijs-config [1.1],
ijs/ijs-config.in [1.1], ijs/ijs.c [1.1], ijs/ijs.h [1.1],
ijs/ijs_client.c [1.1], ijs/ijs_client.h [1.1],
ijs/ijs_client_example.c [1.1], ijs/ijs_exec_unix.c [1.1],
ijs/ijs_exec_win.c [1.1], ijs/ijs_server.c [1.1], ijs/ijs_server.h [1.1],
ijs/ijs_server_example.c [1.1], ijs/ijs_spec.pdf [1.1],
ijs/ijs_spec.ps [1.1], ijs/ijs_spec.sgml [1.1], ijs/install-sh [1.1],
ijs/state.eps [1.1], ijs/state.fig [1.1], ijs/unistd_.h [1.1],
ijs/unix.mak [1.1], ijs/windows.mak [1.1]: 2002/01/31 19:09:46 raph)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles.
(ijs/.cvsignore [1.1]: 2002/01/31 20:46:45 raph)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles.
(Makefile.in [1.2], configure.ac [1.5]: 2002/01/31 20:47:02 raph)

Uses --with-ijs (instead of --without) in the configure option help.
(configure.ac [1.6]: 2002/02/01 04:16:15 giles)

Add AFPL specific LICENSE file required for common release banner change.
(LICENSE [1.1]: 2002/02/21 20:36:32 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(Makefile.in [1.4], gp_mac.h [1.3], gp_mswin.h [1.5], gsdll.h [1.5],
gsdllos2.h [1.3], gsdllwin.h [1.4], gsjmorec.h [1.4], gspmdrv.h [1.3]:
2002/02/21 20:57:46 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(iutilasm.asm [1.3], macsysstat.h [1.3], macsystypes.h [1.3],
vms_x_fix.h [1.4]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (Makefile.in [1.5], gp_mac.h [1.4], gp_mswin.h [1.6],
gsdll.h [1.6], gsdllos2.h [1.4], gsdllwin.h [1.5], gsjmorec.h [1.5],
gspmdrv.h [1.4], iutilasm.asm [1.4], macsysstat.h [1.4],
macsystypes.h [1.4]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (vms_x_fix.h [1.5]: 2002/02/21 22:24:54 giles)

Replace Windows icons with new versions that include 48x48 pixel and 32-bit
versions for Windows XP. Change the 16x16 pixel icons to use the full 'g'
instead of just the head. Use a restricted icon gswin16.ico for WinZip SE
which can't handle the new icon. (gswin.icx [1.1], gswin16.icx [1.1]:
2002/03/30 01:29:38 ghostgum)

Adds support for compilation against a standard shared libjpeg. It is
believed that non-baseline compliant DCTEncoded data, permitted by early
versions of postscript, is now extremely rare and the prohibition against
SHARE_JPEG=1 may reasonably be removed. The autoconf build will prefer a
local copy of the jpeg source, in which case the D_MAX_BLOCKS_IN_MCU patch
will still be applied. If no such local copy is found, it will try to find a
shared library on the system. For all unix builds, if $(JSRCDIR)/jmemsys.h
cannot be found, we define DONT_HAVE_JMEMSYS_H and include our own versions
of the libjpeg memory manager prototypes. The default allocator in the
shared library is overridden by the ghostscript one at link-time. While this
may be implementation-dependent, it appears to function as desired on at
least GNU/Linux and Solaris. Also changes the autoconf build to prefer local
zlib and libpng source, and cleans up some variable names.
(Makefile.in [1.12], configure.ac [1.14]: 2002/03/30 23:55:15 giles)

Try the standard gcc compile flags only if we think we're using gcc to avoid
generating spurious warnings with some other compilers.
(configure.ac [1.16]: 2002/04/02 01:15:16 giles)

Returns the bbox device to the default build in response to user requests.
(Makefile.in [1.13]: 2002/04/03 18:25:03 giles)

</pre>

<hr>

<h1><a name="Version7.03"></a>Version 7.03 (2001-10-20)</h1>

<p>
This is a fully tested, stable release of Ghostscript. It fixes quite a
few issues with 7.02.

<p> Major changes include:

<ul>
<li>Integration of icclib 2.0.

<li>There was at least one embarassing pdfwrite bug, now fixed.

<li>Significant shading speedups, especially for worst-case files
such as Coons01.ps.

<li>The stdio logic is a lot more robust. 7.02 had some problems,
especially with trying to set stdin to non-blocking.

<li>The usual bug fixes. In particular, regression testing against
7.00 shows only one serious regression (nonsepqxd2distiller.pdf),
and numerous progressions.

</ul>

<p>
The following SourceForge bug numbers are currently open:
215256, 219798, 222727, 226477, 405342, 406689, 406979, 407342,
414947, 414985, 415016, 415142, 415170, 416131, 416830, 418241,
421057, 422532, 423838, 427193, 427314, 427347, 428891, 428973,
432040, 432657, 434277, 434707, 436099, 436897, 437285, 438679,
438957, 443745, 444791, 446344, 446672, 448199, 450663, 451456,
452155, 453969, 457838, 458261, 458500, 458769, 458775, 458780,
462221, 465720, 465921, 465936, 468386, 468762, 469518, 472681.

<h3><a name="7.03_Incompatible_changes"></a>Incompatible changes</h3>

<p>
No incompatible changes have been recorded for this version.

<pre>
</pre>

<h2><a name="7.03-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Add new Windows and Unix platform files to developer
documentation. (doc/Develop.htm [1.46]: 2001/09/23 08:54:03 ghostgum)
	- Adds a -dNOCCFONTS switch to disable use of compiled-in fonts.
(doc/Use.htm [1.32]: 2001/10/01 05:25:55 lpd)
	- Added potential workaround for DCTEncode filter problem where the
image has less rows than requested. (doc/Issues.htm [1.13]: 2001/10/03
17:24:23 jackiem)
	- Fixes reference counting for PDF 1.4 device filter stack.
Temporary patch to not free PDF 1.4 marking device for images (it was being
freed prematurely). (doc/Issues.htm [1.14]: 2001/10/17 17:28:10 raph)
	- Syncs with hpijs version 0.97, and fixes a documentation bug.
(doc/Devices.htm [1.33]: 2001/10/19 04:20:08 raph)
	- Documentation and version number change in preparation for 7.03
release. (doc/API.htm [1.11], doc/Bug-form.htm [1.23],
doc/Bug-info.htm [1.20], doc/C-style.htm [1.21], doc/Commprod.htm [1.15],
doc/Copying.htm [1.13], doc/Current.htm [1.13], doc/DLL.htm [1.15],
doc/Develop.htm [1.47], doc/Devices.htm [1.34], doc/Drivers.htm [1.21],
doc/Fonts.htm [1.22], doc/Helpers.htm [1.17], doc/History1.htm [1.13],
doc/History2.htm [1.13], doc/History3.htm [1.13], doc/History4.htm [1.13],
doc/History5.htm [1.15], doc/History6.htm [1.30], doc/History7.htm [1.4],
doc/Htmstyle.htm [1.18], doc/Install.htm [1.26], doc/Issues.htm [1.15],
doc/Language.htm [1.34], doc/Lib.htm [1.14], doc/Maintain.htm [1.23],
doc/Make.htm [1.36], doc/New-user.htm [1.30], doc/News.htm [1.89],
doc/Projects.htm [1.33], doc/Ps-style.htm [1.13], doc/Ps2epsi.htm [1.15],
doc/Ps2pdf.htm [1.32], doc/Psfiles.htm [1.22], doc/README [1.12],
doc/Readme.htm [1.31], doc/Release.htm [1.40], doc/Source.htm [1.13],
doc/Tester.htm [1.14], doc/Unix-lpr.htm [1.13], doc/Use.htm [1.33],
doc/Xfonts.htm [1.13], doc/gs-vms.hlp [1.12], man/dvipdf.1 [1.10],
man/font2c.1 [1.10], man/gs.1 [1.10], man/gslp.1 [1.10], man/gsnd.1 [1.10],
man/pdf2dsc.1 [1.10], man/pdf2ps.1 [1.12], man/pdfopt.1 [1.10],
man/pf2afm.1 [1.10], man/pfbtopfa.1 [1.11], man/printafm.1 [1.10],
man/ps2ascii.1 [1.10], man/ps2epsi.1 [1.10], man/ps2pdf.1 [1.14],
man/ps2pdfwr.1 [1.13], man/ps2ps.1 [1.17], man/wftopfa.1 [1.10]: 2001/10/20
08:44:30 raph)

</pre><h2><a name="7.03-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- cvs2hist no longer worked in Python 2.1 and later: the regex and
regsub modules were superseded by re, and append() no longer accepted
multiple arguments to create a tuple. The fixes are backward compatible for
all versions of Python from 1.5 on. (toolbin/cvs2hist.py [1.7]: 2001/09/23
04:45:10 lpd)
	- The previous update to make cvs2hist use Python's re module rather
than the obsolete regex and regsub modules didn't change the code to use
match objects when necessary. Finishes fixing SourceForge #462777.
(toolbin/cvs2hist.py [1.8]: 2001/09/23 20:43:16 lpd)
	- Some print statements for debugging were accidentally left in the
code. (toolbin/cvs2hist.py [1.9]: 2001/09/23 21:05:12 lpd)
	- Committing in . Modified Files: gs/src/gp_stdia.c
gs/src/openvms.mmk gs/src/ziodevs.c patches for OpenVMS (openvms.mmk [1.10]:
2001/09/24 10:47:06 joukj)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (dvx-tail.mak [1.5],
macos-mcp.mak [1.3], openvms.mak [1.16], openvms.mmk [1.11], os2.mak [1.19],
unix-aux.mak [1.5], watc.mak [1.16], winlib.mak [1.12]: 2001/10/12 21:37:08
ghostgum)
	- Committing in . Modified Files: gs/src/openvms.mmk OpenVMS needs
target : sources ^ this space is realy needed. Otherwise MMS/MMK chokes on
it!!!! (openvms.mmk [1.12]: 2001/10/15 10:24:21 joukj)
	- When building gsx and gsc, use the GS makefile macro as the shared
library name to link against, not a hard coded gs. (unix-dll.mak [1.6]:
2001/10/17 10:11:23 ghostgum)
	- Removes cheq.ps from list of example files installed.
(unixinst.mak [1.20]: 2001/10/17 19:48:36 raph)
	- Updates icclib to version 2.0, and integrates icclib changes. In
particular, icclib now accesses Ghostscript streams through the clean
icmFile object interface, rather than previous hack. Removes remnants of
previous hack, including gs_stdio.h header file and sread() and swrite()
functions in stream.c. (lib.mak [1.53]: 2001/10/19 21:52:50 raph)
	- Documentation and version number change in preparation for 7.03
release. (version.mak [1.36]: 2001/10/20 08:44:31 raph)
	- Updates default MSVC_VERSION to 6. (msvc32.mak [1.20]: 2001/10/20
08:45:39 raph)

</pre><h2><a name="7.03-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Committing in . Modified Files: gs/src/gp_stdia.c
gs/src/openvms.mmk gs/src/ziodevs.c patches for OpenVMS (gp_stdia.c [1.2],
ziodevs.c [1.4]: 2001/09/24 10:47:06 joukj)
	- add missing file descriptor variable to stdin function of
dxmainc.c. Fixes SourceForge bug #465214. (dxmainc.c [1.3]: 2001/09/28
22:04:03 ghostgum)
	- If gtk+ GUI can't be initialised, disable display device. This
allows gsx to be used without an X display. Partial fix for SourceForge bug
#450933. (dxmain.c [1.5]: 2001/10/12 11:10:37 ghostgum)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (dxmain.c [1.6],
dxmainc.c [1.4], gp_stdia.c [1.3], gp_stdin.c [1.2]: 2001/10/12 21:37:08
ghostgum)
	- Proposed log message: Fix: Callout implementation of %stdin,
%stdout and %stderr now correctly allocates the streams in system memory.
This avoids a crash during garbage collection seen during frequent
open/close of stderr.. Fixes SourceForge bugs #427316, #442477.
(ziodevsc.c [1.3]: 2001/10/15 21:44:42 ghostgum)
	- When using STDIO_IMPLEMENTATION=, call gp_stdin_read with a file
pointer, not a file handle. (ziodevs.c [1.5]: 2001/10/17 21:12:44 ghostgum)
	- Use unbuffered read within gtk+ handler instead of using
non-blocking read. While waiting for stdin, allow gtk main loop to block to
avoid wasting CPU. (dxmain.c [1.7]: 2001/10/20 08:22:05 ghostgum)

</pre><h2><a name="7.03-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- If "distiller" image compression options were changed in the
middle of a file, the parameter list holding them might not be set back to
read mode when using them to compress an image, causing an error. Fixes
SourceForge #464938. (gdevpsdi.c [1.15]: 2001/09/25 22:00:44 lpd)
	- bmp16 and png16 devices now create 4 bit/pixel bitmaps instead of
8. bmp256 and png256 devices now use dci values which match the color
mapping functions. (gdevbmp.c [1.4], gdevpng.c [1.4]: 2001/09/28 22:06:21
ghostgum)
	- Don't omit zero length deltas when stroking so that linecap will
be produced by resulting PS or EPS file. SourceForge bug #466162.
(gdevps.c [1.19]: 2001/09/28 23:18:46 rayjj)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (gdevsppr.c [1.5]:
2001/10/12 21:37:08 ghostgum)
	- When the display device fails to allocate memory for the bitmap,
set the memory device width and height to zero to prevent drawing on it.
Always call the display_size callback to prevent a lockup in the caller, and
if there is no memory tell the caller that the width and height are zero.
Add some casts to remove compiler warnings. Fixes SourceForge bug #430879.
(gdevdsp.c [1.5]: 2001/10/12 21:41:25 ghostgum)
	- Syncs with hpijs version 0.97, and fixes a documentation bug.
(gdevhpij.c [1.3]: 2001/10/19 04:20:07 raph)

</pre><h2><a name="7.03-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- pdfwrite didn't set the orig_matrix of standard fonts, sometimes
causing re-encoded characters to be written with a width of 0. Bug
introduced by fix for #439474, gdevpdff.c [1.19]. Fixes SourceForge #463400.
(gdevpdff.c [1.22]: 2001/10/05 05:40:41 lpd)
	- pdfwrite allowed AutoRotatePages to override DSC comments rather
than vice versa, and it interpreted "Portrait" in a DSC orientation comment
as "don't rotate" rather than as "rotate if necessary so that width &lt;
height." Fixes SourceForge #467259, although the result is not what the
submitter wanted. (gdevpdf.c [1.38], gdevpdfp.c [1.19], gdevpdfx.h [1.34]:
2001/10/07 05:33:11 lpd)

</pre><h2><a name="7.03-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Pop the /None key in the SMask processing of the 'gs' in a PDF 1.4
document. Fixes SourceForge bug #459647 for Artifex customer Accusoft.
(lib/pdf_draw.ps [1.35]: 2001/10/05 18:25:16 rayjj)
	- Enhances -dDEBUG for encrypted PDF files to print strings after
decryption. (lib/pdf_sec.ps [1.5]: 2001/10/09 20:17:23 lpd)
	- If LastPage was greater than the number of pages in the document,
a rangecheck was generated. Instead, limit LastPage (silently) to the number
of pages in the document. If FirstPage is past end of document, issue a
warning. Also, if no pages are processed due to FirstPage &gt; LastPage,
give a clear error message. SourceForge bug #470025.
(lib/pdf_main.ps [1.35]: 2001/10/12 07:07:54 rayjj)
	- Changing the hack in PDF font processing, which chooses character
width with encodings where the same character appears more than once. New
code takes width for character code which appears in Differences. Source
Forge bugs #444366, #468389. (lib/pdf_font.ps [1.22]: 2001/10/14 01:28:05
igorm)
	- Fix for #471414. Thanks to Leon Bottou for his excellent analysis
and fix for this problem. Ghostscript was incorrectly handling a PDF shading
dictionary in which the /Function entry contained an array of function
dictionary references. An additonal oforce was required in the array
processing loop. (lib/pdf_draw.ps [1.36]: 2001/10/16 22:20:31 dancoby)
	- Applied two patches reported in
http://www.ghostscript.com/pipermail/gs-code-review/2001-October/001255.html
by Hideyuki Suzuki / hideyuki at sat dot t dot u-tokyo dot ac dot jp.
pdf_font.ps: automatic substitution &amp; transformation of CID-keyed fonts.
pdf_ops.ps: make spacings vertical when WMode is 1. (lib/pdf_font.ps [1.23],
lib/pdf_ops.ps [1.17]: 2001/10/19 16:42:47 masata-y)

</pre><h2><a name="7.03-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Adds a -dNOCCFONTS switch to disable use of compiled-in fonts.
(lib/gs_ccfnt.ps [1.5], lib/gs_init.ps [1.39]: 2001/10/01 05:25:55 lpd)
	- After removing a compiled font with undefinefont, loading the font
or asking for its resourcestatus left extra information on the stack. Fixes
SourceForge #458818. (lib/gs_res.ps [1.16]: 2001/10/01 05:56:58 lpd)
	- Clean up PostScript files in examples directory to prevent
spurious bug reports caused when running more than a sigle file or running
chess.ps without cheq.ps in the current directory. Thanks to Russell Lang
for cleanup on DSC comment and structure. (examples/alphabet.ps [1.2],
examples/chess.ps [1.2], examples/colorcir.ps [1.2],
examples/doretree.ps [1.2], examples/escher.ps [1.2],
examples/golfer.ps [1.2], examples/grayalph.ps [1.2],
examples/snowflak.ps [1.2], examples/tiger.ps [1.2],
examples/vasarely.ps [1.2], examples/waterfal.ps [1.3]: 2001/10/01 21:28:25
rayjj)
	- Remove this file which was referenced from chess.ps -- now it is
included in chess.ps to prevent errors when cheq.ps could not be located.
(examples/cheq.ps [1.2]: 2001/10/01 21:33:05 rayjj)
	- When using a substitute for an unknown font, add an alias in
FontDirectory under the original requested font name.
(lib/gs_fonts.ps [1.12]: 2001/10/01 21:35:53 rayjj)
	- Undo previous 1.12 update. The PS file that exhibited the problem
was bad as was my testing against Adobe PS behaviour. Substituted fonts are
neither aliased, nor entered in the FontDirectory by Adobe PostScript. Fixes
regression bug with Genoa PS LL3 FTS test 313-01.ps.
(lib/gs_fonts.ps [1.13]: 2001/10/09 18:01:17 rayjj)
	- Fixing inaccurate coding in Type 2 font processing : when
GlobalSubrs absents, old code damages useful information in
charstring_font_refs_s::GlobalSubrs, possibly causing indeterministic error.
(zfont2.c [1.4]: 2001/10/11 17:55:32 igorm)
	- Fix : Making GlobalSubrs to be shared for all descendent fonts
within CFF CID font. 1/2 fix for Source Forge bug #468389 "rangecheck in
type2execchar" (lib/gs_cff.ps [1.10]: 2001/10/12 08:52:14 igorm)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (dpmain.c [1.5],
dwmainc.c [1.8], idebug.c [1.4], igc.c [1.5], imain.c [1.19]: 2001/10/12
21:37:08 ghostgum)
	- Documentation and version number change in preparation for 7.03
release. (lib/gs_init.ps [1.40]: 2001/10/20 08:44:31 raph)

</pre><h2><a name="7.03-Streams"></a>Streams</h2><pre>

Fixes problems:
	- Updates icclib to version 2.0, and integrates icclib changes. In
particular, icclib now accesses Ghostscript streams through the clean
icmFile object interface, rather than previous hack. Removes remnants of
previous hack, including gs_stdio.h header file and sread() and swrite()
functions in stream.c. (stream.c [1.15]: 2001/10/19 21:52:50 raph)

</pre><h2><a name="7.03-Library"></a>Library</h2><pre>

Fixes problems:
	- Fixes nontermination of triangle subdivision in shading, as
triggered by FTS 446-01.ps. The criterion for whether a triangle spans more
than one pixel was too conservative, as it took the fill adjust into
account. (gxshade4.c [1.6]: 2001/10/01 21:16:47 raph)
	- Correct inverted Decode cases of ImageType 4 color range masks for
the Monochrome single bit per pixel case. Fixes SourceForge bug #462319 for
Artifex customer #671. (gxifast.c [1.4]: 2001/10/06 03:27:57 rayjj)
	- Fix : More error tolerance in type2 charstring interpreter. 2/2
fix for Source Forge bug #468389 "rangecheck in type2execchar". Thanks to L.
Peter Deutsch for participation and for the comment in code.
(gstype2.c [1.10]: 2001/10/12 08:55:24 igorm)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (gp.h [1.8],
gxclutil.c [1.5], unistd_.h [1.4]: 2001/10/12 21:37:08 ghostgum)
	- Fixes reference counting for PDF 1.4 device filter stack.
Temporary patch to not free PDF 1.4 marking device for images (it was being
freed prematurely). (gdevp14.c [1.4], gsdfilt.c [1.3]: 2001/10/17 17:28:10
raph)
	- Updates icclib to version 2.0, and integrates icclib changes. In
particular, icclib now accesses Ghostscript streams through the clean
icmFile object interface, rather than previous hack. Removes remnants of
previous hack, including gs_stdio.h header file and sread() and swrite()
functions in stream.c. (gsicc.c [1.5], gsicc.h [1.3]: 2001/10/19 21:52:50
raph)
	- Documentation and version number change in preparation for 7.03
release. (gscdef.c [1.15]: 2001/10/20 08:44:31 raph)

</pre><h2><a name="7.03-Other"></a>Other</h2><pre>

Fixes problems:
	- Updates icclib to version 2.0, and integrates icclib changes. In
particular, icclib now accesses Ghostscript streams through the clean
icmFile object interface, rather than previous hack. Removes remnants of
previous hack, including gs_stdio.h header file and sread() and swrite()
functions in stream.c. (gs_stdio.h [1.3], icclib/Licence.txt [1.1],
icclib/NOTES [1.2], icclib/Readme.txt [1.1], icclib/icc.c [1.6],
icclib/icc.h [1.4], icclib/icc9809.h [1.2]: 2001/10/19 21:52:50 raph)

<hr>
</pre>

<h1><a name="Version7.02"></a>Version 7.02 (2001-09-22)</h1>

<p>
This is a prerelease of Ghostscript, in preparation for a forthcoming
fully tested, supported 7.0x release. We are skipping the 7.01 release
number because that number is now associated with CVS versions.

<p> Major changes include:

<ul>
<li>Compile and portability fixes, including the dreaded time.h
problem that affects up-to-date Linux builds.

<li>Big improvements in stdio, including a new -sstdout= redirect
switch. In addition, reading from stdin uses nonblocking I/O, so the
ugly -_ workaround is no longer necessary.

<li>Substantial pdfwrite improvements.

<li>128-bit encrypted files are now supported.

<li>The usual bug fixes.

</ul>

Release issues that will be fixed before next fully supported version:

<ul>

<li> Update icclib to 2.0.

<li> Update hpijs and Omni glue to latest versions.

<li> Make sure all source files are referenced in Develop.htm.

</ul>

<p>
The following SourceForge bug numbers are currently open:
215256, 219798, 222727, 224863, 226477, 405342, 406285, 406689,
406979, 407342, 411753, 413669, 414947, 414985, 415016, 415142,
415170, 415177, 415526, 416043, 416131, 416830, 418241, 418597,
421057, 422532, 423838, 426274, 427193, 427314, 427316, 427347,
428891, 428973, 430879, 431065, 432040, 432657, 433835, 434277,
434707, 435154, 436099, 436897, 437285, 438679, 438957, 441566,
442477, 443745, 444791, 446344, 446672, 446676, 446035, 447695,
448199, 450271, 450663, 451456, 452155, 452173, 453861, 453969,
457838, 458025, 458261, 458500, 458769, 458775, 458780, 458818,
459645, 459647, 459764, 460292, 462139, 462212, 462221, 462319,
462777, 463123, 463400.

<h3><a name="7.02_Incompatible_changes"></a>Incompatible changes</h3>

<p>
No incompatible changes have been recorded for this version.

<pre>
</pre>


<h2><a name="7.02-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Fixes a typo: gs_stable_memory should have been gs_memory_stable.
(doc/Develop.htm [1.41]: 2001/06/17 04:06:05 lpd)
	- The "Incompatible changes" sections for 6.62 and 6.61 were
duplicates of the section for 6.60. (doc/History6.htm [1.28]: 2001/07/28
23:02:56 lpd)

Increments version number after 7.00 release. Also fixes gs_init.ps to
consistently print minor revision number as two digits.
(doc/News.htm [1.86]: 2001/04/17 07:40:12 raph)

Documents the circumstances when no structure descriptor is needed.
(doc/Develop.htm [1.39]: 2001/04/20 19:44:18 lpd)

Adds documentation for the graphics library's implementation of clipping.
(doc/Develop.htm [1.40]: 2001/04/20 20:17:28 lpd)

Make copyright and AFPL license info at the end match other .htm files.
(doc/Humor.htm [1.3]: 2001/04/21 17:14:33 rayjj)

Added entry about confusing error messages. (doc/Issues.htm [1.10]:
2001/04/27 23:41:28 alexcher)

Clarifies the manpage for the ps2pdfwr wrapper script, mentioning the
-dSAFER option and adding a sentence describing the role of this particular
script. (man/ps2pdfwr.1 [1.10]: 2001/05/03 21:07:33 giles)

Adds a 'see also' reference to ps2pdf from the pdf2pdfwr manpage.
(man/ps2pdfwr.1 [1.11]: 2001/05/03 23:54:51 giles)

Restructures the C style guide to explicitly distinguish language
restrictions from purely stylistic issues. (Requested by Artifex engineer.)
(doc/C-style.htm [1.18]: 2001/05/25 00:35:41 lpd)

Updates hpijs driver to version 0.96. (doc/Devices.htm [1.30]: 2001/05/30
23:25:25 raph)

Minor documentation update for HPIJS driver (adds more supported devices).
(doc/Devices.htm [1.31]: 2001/05/30 23:58:44 raph)

updates the bug report for to reflect the public nature of the new bug lists
and tracker. (doc/Bug-form.htm [1.21]: 2001/06/05 02:30:47 giles)

corrects the spelling of Metrowerks CodeWarrior (doc/Bug-info.htm [1.18]:
2001/06/05 02:31:58 giles)

branches: 1.1.2; file COPYING was initially added on branch GS_6_5.
(doc/COPYING [1.1]: 2001/06/05 07:07:35 raph)

Changes release policy to preserve the original filenames of 3rd party
tarballs. (doc/Release.htm [1.38]: 2001/06/06 18:46:23 giles)

This revision allows the MSVC makefiles to work with spaces in the DEVSTUDIO
path. Also if DEVSTUDIO is set to empty then the PATH, LIB, INCLUDE
environment variables are used for building. The MSVC section of Make.htm
was enlarged. (doc/Make.htm [1.32]: 2001/06/12 23:06:19 dancoby)

Adds an explanation of why stable allocators are needed, rather than using
the system VM allocator for all stable objects. (doc/Develop.htm [1.42]:
2001/06/17 04:12:06 lpd)

Adds extern_inline for including inline procedures in header files.
(doc/C-style.htm [1.19]: 2001/06/17 05:09:07 lpd)

Adds and documents an operator &lt;prefix|null&gt; &lt;access_string&gt;
.tempfile &lt;filename&gt; &lt;file&gt; to create and open a temporary file,
using gp_open_scratch_file. (doc/Language.htm [1.32]: 2001/07/15 13:54:17
lpd)

Adds pphs, a utility for printing the Primary Hint Stream of a linearized
PDF file. (doc/Develop.htm [1.43], doc/Psfiles.htm [1.20]: 2001/07/15
16:25:02 lpd)

Adds documentation of the new macos build processes. (doc/Make.htm [1.33]:
2001/07/18 20:17:11 giles)

Makes explicit note of the requirement to update the 'incompatible changes'
section of the documentation with relevant commits.
(doc/Maintain.htm [1.19], doc/News.htm [1.87]: 2001/07/31 03:31:35 giles)

Adds documentation for the 'Fix:' prefix handling in changelog generation.
(doc/Maintain.htm [1.20]: 2001/07/31 08:06:48 giles)

Removes a reference to mailing separate bug fix notices to artifex made
obsolete by the commit announcement mailing list. (doc/Maintain.htm [1.21]:
2001/07/31 20:27:42 giles)

Documentation update : ps2ascii can't handle incremental fonts.
(doc/Issues.htm [1.11]: 2001/08/06 10:24:01 igorm)

Update to 1. add Active-X project suggested by a user. 2. Remove the DSC
processing project (completed). 3. provide minor update to the pswrite
project. 4. Update the ICC profile support project to reflect the partial
support now completed (in 7.00). (doc/Projects.htm [1.31]: 2001/08/17
19:42:49 rayjj)

Adds documentation for the -sPDFPassword command line option for encrypted
pdf files, introduced with the inclusion of pdf_sec.ps. (doc/Use.htm [1.29]:
2001/09/05 22:47:27 giles)

Notes that ps2pdf may cause a limitcheck on PostScript files with
unreasonably large coordinates; suggests using -r as a workaround. Responds
to SourceForge bug #461335. (doc/Ps2pdf.htm [1.30]: 2001/09/14 00:40:04 lpd)

Update documentation to describe how to build and install ghostscript as a
shared object on Unix. Fixes sourceforge bug #444593.
(doc/Install.htm [1.24], doc/Make.htm [1.34]: 2001/09/15 08:04:42 ghostgum)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (doc/Develop.htm [1.44]: 2001/09/15 08:48:33
ghostgum)

Allow PostScript stdout to be redirected to stderr or a file. This is
required to avoid driver stdout being mixed with PostScript stdout. Options
are -sstdout=filename or -sstdout=%stderr. To reset redirection use
-sstdout=- or -sstdout=%stdout. Fixes Sourceforge bug #222534.
(doc/Use.htm [1.30]: 2001/09/22 07:33:35 ghostgum)

Updates version and date in documentation in preparation for 7.02
pre-release. (doc/API.htm [1.10], doc/Bug-form.htm [1.22],
doc/Bug-info.htm [1.19], doc/C-style.htm [1.20], doc/Commprod.htm [1.14],
doc/Copying.htm [1.12], doc/Current.htm [1.12], doc/DLL.htm [1.14],
doc/Develop.htm [1.45], doc/Devices.htm [1.32], doc/Drivers.htm [1.20],
doc/Fonts.htm [1.21], doc/Helpers.htm [1.16], doc/History1.htm [1.12],
doc/History2.htm [1.12], doc/History3.htm [1.12], doc/History4.htm [1.12],
doc/History5.htm [1.14], doc/History6.htm [1.29], doc/History7.htm [1.2],
doc/Htmstyle.htm [1.17], doc/Install.htm [1.25], doc/Issues.htm [1.12],
doc/Language.htm [1.33], doc/Lib.htm [1.13], doc/Maintain.htm [1.22],
doc/Make.htm [1.35], doc/New-user.htm [1.29], doc/News.htm [1.88],
doc/PUBLIC [1.5], doc/Projects.htm [1.32], doc/Ps-style.htm [1.12],
doc/Ps2epsi.htm [1.14], doc/Ps2pdf.htm [1.31], doc/Psfiles.htm [1.21],
doc/README [1.11], doc/Readme.htm [1.30], doc/Release.htm [1.39],
doc/Source.htm [1.12], doc/Tester.htm [1.13], doc/Unix-lpr.htm [1.12],
doc/Use.htm [1.31], doc/Xfonts.htm [1.12], doc/gs-vms.hlp [1.11],
man/dvipdf.1 [1.9], man/font2c.1 [1.9], man/gs.1 [1.9], man/gslp.1 [1.9],
man/gsnd.1 [1.9], man/pdf2dsc.1 [1.9], man/pdf2ps.1 [1.11],
man/pdfopt.1 [1.9], man/pf2afm.1 [1.9], man/pfbtopfa.1 [1.10],
man/printafm.1 [1.9], man/ps2ascii.1 [1.9], man/ps2epsi.1 [1.9],
man/ps2pdf.1 [1.13], man/ps2pdfwr.1 [1.12], man/ps2ps.1 [1.16],
man/wftopfa.1 [1.9]: 2001/09/22 16:26:21 raph)

</pre><h2><a name="7.02-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Removing the dependence of graphic library on PS interpreter.
Source Forge bug #415003. (lib.mak [1.48]: 2001/04/20 09:38:39 igorm)
	- Undoes makefile breakage introduced in previous version (for VMS).
(icclib.mak [1.3], lib.mak [1.50]: 2001/04/24 18:36:55 raph)
	- !ifndef COMPILED_INITS instead of !ifndef COMPILE_INITS Discovered
fixing bug #414985 from anonymous user (msvclib.mak [1.13]: 2001/04/28
00:53:46 alexcher)
	- Optimization for shading fill. The general path filling algorithm
subdivides fill region with trapezoid or rectangle subregions and then
paints each subregion with given color. If the color is shading, each
subregion to be subdivided into areas of constant color. But with radial
shading each area is a high order polygon, being subdivided into smaller
subregions, so as total number of subregions grows huge. Faster processing
is done here by changing the order of subdivision cycles : we first
subdivide the shading into areas of constant color, then apply the general
path filling algorithm (i.e. subdivide each area into trapezoids or
rectangles), using the filling path as clip mask. Source Forge bug #414022.
(lib.mak [1.51]: 2001/05/10 18:36:40 igorm)
	- Adobe PhotoShop 5+ duotone code assumes that setcolor operator
calls tint transform function if source colors don't make a subset of device
colors. Bug #224056, Customer #150 (int.mak [1.47]: 2001/06/07 14:48:24
alexcher)
	- index.html and gs.css weren't being copied to the installed
documentation directory. (unixinst.mak [1.19]: 2001/07/25 21:10:39 giles)
	- define previously undefined make variables. DISPLAY_DEV in
unix-gcc.mak. gdevdsp_h and gdevdsp2_h in int.mak. Add missing iref.h
dependency for idisp. Bug #415006. (devs.mak [1.46], int.mak [1.48],
unix-gcc.mak [1.22]: 2001/08/01 08:58:49 ghostgum)
	- Link Linux shared object as position independent code, instead of
just compiling the modules as position independent. Adds prefix to shared
object recursive make to allow install to a temporary location while
building a distribution. (unix-dll.mak [1.3]: 2001/08/01 09:42:01 ghostgum)
	- allow any value of JVERSION in the platform-specific makefiles to
reduce user confusion over minor version naming. We continue to support only
libjpeg v6*. Sourceforge bugs #457617 and #457838, September 2001.
(jpeg.mak [1.4]: 2001/09/05 21:46:35 giles)
	- Fix for MS-Windows graphics library. Remove references to
interpreter from gp_check_interrupts function in library. Make gslib.c
access gs_stdin not stdin. Correct the build paths for graphics devices. Add
missing graphics devices. (msvc32.mak [1.18], msvclib.mak [1.16],
winlib.mak [1.11]: 2001/09/22 07:07:02 ghostgum)
	- Prevent memory corruption when reading %statementedit. Allocate
lineedit buffer in correct memory space. Line being assembled is stored in a
PostScript string during callouts, so prevent zfilelineedit from reading
more than max_string_size bytes. Allocate extra space for trailing new-line
for statementedit, rather than fiddling the string length which broke when
sreadline reallocated the string. (int.mak [1.50]: 2001/09/22 07:26:45
ghostgum)
	- pdfwrite failed to recognize several of the standard screen spot
functions: Ellipse, Round, and Diamond weren't implemented, and several of
the others didn't match the PostScript implementation because of
float/double discrepancies. Also, pdfwrite wrote out halftone screens using
the adjusted ("actual") frequency and angle values rather than the requested
values. Fixes SourceForge #446676. (devs.mak [1.47]: 2001/09/22 16:27:04
lpd)

Increments version number after 7.00 release. Also fixes gs_init.ps to
consistently print minor revision number as two digits. (version.mak [1.34]:
2001/04/17 07:40:12 raph)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(icclib.mak [1.2], openvms.mmk [1.7]: 2001/04/20 09:56:22 joukj)

Committing in . Modified Files: gs/src/lib.mak Patch for OpenVMS (little
delayed since it was merged first with another commit) (lib.mak [1.49]:
2001/04/20 10:39:44 joukj)

Committing in . Modified Files: gs/src/gdevpdf.c gs/src/imainarg.c
gs/src/openvms.mmk Merged in some patches by Rick Dyson, which affect
compilation on VMS only. (openvms.mmk [1.8]: 2001/04/25 08:19:41 joukj)

Committing in . Modified Files: gs/src/openvms.mak bringing openvms.mak in
sync. with new features( Icclib etc.) and with new compile strategy with
long variable names( as in openvms.mmk) Patch from Rick Dyson.
(openvms.mak [1.12]: 2001/04/25 13:24:20 joukj)

Changes gp_open_scratch_file() to use mkstemp() rather than mktemp() on gcc
builds, which avoids warnings. Adds CAPOPT variable to unix-gcc.mak to
select which function is used, so that builds will still succeed on systems
that don't have mkstemp(). (unix-gcc.mak [1.20]: 2001/05/07 19:05:46
jackiem)

Committing in . Modified Files: gs/src/openvms.mmk Enabling mkstemp on VMS.
(openvms.mmk [1.9]: 2001/05/08 12:28:38 joukj)

This file is a new utility intended for debug. It is not yet ready for prime
time, but is available for whoever wants to fix it. The main problems are:
1. It doesn't work for files that use chained filters such as [
/ASCII85Decode /FlateDecode ] 2. The PDF files that are written are
sometimes broken. GS gets an xref problem. This second problem may actually
due to lib/pdfwrite.ps since even when no conversion is done, the file is
bad. (toolbin/pdfinflt.ps [1.1]: 2001/05/31 04:54:51 rayjj)

branches: 1.1.2; file gnudevs.mak was initially added on branch GS_6_5.
(gnudevs.mak [1.1]: 2001/06/05 07:07:37 raph)

removes unnessary whitespace, which was breaking tmake.tcl. Part of
sourceforge bug #415170, 2001 April 10. (libpng.mak [1.7]: 2001/06/07
22:01:16 giles)

This revision allows the MSVC makefiles to work with spaces in the DEVSTUDIO
path. Also if DEVSTUDIO is set to empty then the PATH, LIB, INCLUDE
environment variables are used for building. The MSVC section of Make.htm
was enlarged. (msvc32.mak [1.16], msvccmd.mak [1.6], msvclib.mak [1.14],
msvctail.mak [1.6]: 2001/06/12 23:06:19 dancoby)

updates makefiles to use version 1.0.12 of the png library.
(all-arch.mak [1.9], bcwin32.mak [1.11], dvx-gcc.mak [1.11],
libpng.mak [1.8], msvc32.mak [1.17], msvclib.mak [1.15], openvms.mak [1.13],
os2.mak [1.17], ugcclib.mak [1.13], unix-gcc.mak [1.21],
unixansi.mak [1.15], unixtrad.mak [1.15], watc.mak [1.13],
watclib.mak [1.13], watcw32.mak [1.12]: 2001/07/10 01:39:57 giles)

drops support for libpng v0.89 and streamlines the library makefile.
(libpng.mak [1.9]: 2001/07/10 02:07:08 giles)

minor comment cleanup (libpng.mak [1.10]: 2001/07/10 03:14:33 giles)

branches: 1.1.2; Adds the makefile and script for the new macos build method
(macos-mcp.mak [1.1]: 2001/07/18 20:28:57 giles)

To reduce redraw flicker, do not allow Windows to erase the background since
we paint it ourselves. Paint areas outside the page with the window
background colour or light grey. Save and restore window size using
registry. Add "Paste" to system menu of text window. Make error message box
a child of text window to avoid it appearing behind the text window. To
allow user to read the error message, the text window is not automatically
destroyed in the event of an error. The user must close text window using
close button or system menu. If text window closed, return e_Fatal to poll
function to provide a cleaner exit without a stack dump. (winint.mak [1.8]:
2001/08/01 09:50:36 ghostgum)

Uses lynx instead of netscape to generate text versions of important
documentation files. (toolbin/pre [1.11]: 2001/08/18 02:50:09 giles)

Adds a C implementation of the Arcfour encryption filter. This is a
work-alike of the RC4 cipher used in PDF encryption. (int.mak [1.49],
lib.mak [1.52]: 2001/09/02 06:16:41 giles)

The Unix shared object loader 'gsx' depends on Gtk+ which causes it to fail
in an environment where X11 and Gtk+ are not available. Add a console only
loader 'gsc' which does not depend on X11 or Gtk+. This does not support the
'display' device. Fixes sourceforge bug #450933. (unix-dll.mak [1.4]:
2001/09/15 08:10:33 ghostgum)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (dvx-tail.mak [1.4], macos-mcp.mak [1.2],
openvms.mak [1.14], os2.mak [1.18], unix-aux.mak [1.4], watc.mak [1.14],
winlib.mak [1.10]: 2001/09/15 08:48:33 ghostgum)

Change all interpreter builds to use callouts for stdio. Ghostscript library
builds still use file based stdio. (bcwin32.mak [1.12], dvx-gcc.mak [1.12],
gs.mak [1.5], openvms.mak [1.15], unix-gcc.mak [1.23], unixansi.mak [1.16],
unixtrad.mak [1.16], watc.mak [1.15], watcw32.mak [1.13]: 2001/09/15
08:55:32 ghostgum)

Correct makefile dependency for gsx/dxmainc.c. (unix-dll.mak [1.5]:
2001/09/22 07:21:00 ghostgum)

Add the needed object files when building Windows large executable.
(msvc32.mak [1.19]: 2001/09/22 07:24:33 ghostgum)

Updates version and date in documentation in preparation for 7.02
pre-release. (version.mak [1.35]: 2001/09/22 16:26:22 raph)

</pre><h2><a name="7.02-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- null object was converted to -nostringval- Discovered during the
work on pdfopt. (lib/pdfwrite.ps [1.4]: 2001/04/28 01:01:38 alexcher)
	- On Windows GS enumerated "." and ".." as external resources and
failed with /invalidresource trying to load them later. (gp_ntfs.c [1.5]:
2001/05/04 20:27:40 alexcher)
	- pass #xx escaped characters in names through and fix the escape
logic to prevent a /typecheck in add. (lib/pdfwrite.ps [1.5]: 2001/05/31
04:38:42 rayjj)
	- Many scripts for invoking Ghostscript-based utilities didn't
properly handle file names that included spaces. Unix and DOS/Windows/OS/2
scripts required different fixes. (lib/dvipdf [1.2], lib/eps2eps [1.3],
lib/eps2eps.bat [1.5], lib/gssetgs.bat [1.3], lib/pdf2dsc.bat [1.2],
lib/pdf2ps [1.4], lib/pdf2ps.bat [1.5], lib/pdfopt [1.3],
lib/pdfopt.bat [1.3], lib/pf2afm.bat [1.3], lib/pfbtopfa [1.3],
lib/ps2ascii [1.3], lib/ps2epsi [1.7], lib/ps2epsi.bat [1.6],
lib/ps2epsi.cmd [1.3], lib/ps2pdf.bat [1.6], lib/ps2pdf12.bat [1.5],
lib/ps2pdf13.bat [1.5], lib/ps2pdf14.bat [1.2], lib/ps2pdfwr [1.6],
lib/ps2pdfxx.bat [1.10], lib/ps2ps [1.3], lib/ps2ps.bat [1.4]: 2001/06/22
16:09:22 lpd)
	- pdfopt gave an error if the input file had PageMode = /UseOutlines
but lacked an Outlines tree. Fixes SourceForge bug #410371.
(lib/pdfopt.ps [1.5]: 2001/07/01 07:16:28 lpd)
	- The first pass of pdfopt always estimated the size of the primary
hint stream as 0, which occasionally caused the second-pass fixup to fail.
Fixes SourceForge bug #409887. (lib/pdfopt.ps [1.7]: 2001/07/01 07:23:36
lpd)
	- If the OpenAction of a document referred to a Page object, pdfopt
would try to include the page in the "document-level objects" section of the
output, causing a rangecheck error. Fixes SourceForge bug #437724. Also adds
more tracing to pdfopt (with -dPDEBUG). (lib/pdfopt.ps [1.8]: 2001/07/02
15:50:19 lpd)
	- gp_open_scratch_file concatenated the temporary directory name
with the prefix even if the prefix was an absolute path; also, it didn't
check the length of the final file name, possibly leading to memory
corruption. (gp_iwatc.c [1.6], gp_mswin.c [1.6], gp_os2.c [1.10],
gp_vms.c [1.7]: 2001/07/15 13:57:50 lpd)
	- glyphshow procedure in ps2ascii lacks a pop in the for loop. Patch
from Leon Bottou. Source Forge bug #443361. (lib/ps2ascii.ps [1.3]:
2001/07/22 20:43:32 igorm)
	- pdfopt was broken because SAFER prevented it from opening its
output and temporary files, and from deleting its temporary files. Note:
this fix requires the .tempfile operator added in src/zfile.c [1.9].
(lib/pdfopt [1.4], lib/pdfopt.bat [1.4], lib/pdfopt.ps [1.9]: 2001/07/23
06:57:27 lpd)
	- Running font2c on any of the 35 standard fonts caused an
invalidaccess error if gs was built with compiled fonts (ccfonts.dev
"feature"). Fixes SourceForge #458816. (lib/font2c.ps [1.3]: 2001/09/13
23:16:29 lpd)
	- Fix for MS-Windows graphics library. Remove references to
interpreter from gp_check_interrupts function in library. Make gslib.c
access gs_stdin not stdin. Correct the build paths for graphics devices. Add
missing graphics devices. (gp_mslib.c [1.3], gp_mspol.c [1.1],
gp_mswin.c [1.7]: 2001/09/22 07:07:02 ghostgum)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(gp_vms.c [1.6]: 2001/04/20 09:56:22 joukj)

branches: 1.1.2; file gp_gnrdl.c was initially added on branch GS_6_5.
(gp_gnrdl.c [1.1]: 2001/06/05 07:07:37 raph)

Change ps2pdfxx.bat to use lowercase output file extension to be consistent
with other platforms. This closes sourceforge bug #430129.
(lib/ps2pdfxx.bat [1.9]: 2001/06/15 05:32:56 jackiem)

Adds more tracing output to pdfopt with -dPDEBUG. (lib/pdfopt.ps [1.6]:
2001/07/01 07:20:30 lpd)

Adds more tracing (with -dPDEBUG) to lib/pdfwrite.ps, used by pdfopt.
(lib/pdfwrite.ps [1.6]: 2001/07/02 15:46:05 lpd)

Adds pphs, a utility for printing the Primary Hint Stream of a linearized
PDF file. (lib/pphs [1.1], lib/pphs.ps [1.1]: 2001/07/15 16:25:02 lpd)

Re-enables export of the hwnd parameter in the old dll interface. This is
required by macgsview. (gsdll.c [1.5]: 2001/07/18 20:16:24 giles)

Adds initial support for macos. (gp_macio.c [1.1]: 2001/07/18 20:20:50
giles)

branches: 1.1.2; Adds initial support for macos. (gp_mac.c [1.1]: 2001/07/18
20:20:50 giles)

branches: 1.1.2; Adds the makefile and script for the new macos build method
(macgenmcpxml.sh [1.1]: 2001/07/18 20:28:57 giles)

Adds descriptive labels to the output of the utility for printing linearized
PDF data. (lib/pphs.ps [1.2]: 2001/07/19 18:38:45 lpd)

Protect the export of 'hwndtext', required by macgsview, with platform
#ifdefs to avoid conflicts with the win32 dll build. (gsdll.c [1.6]:
2001/07/23 05:25:08 giles)

branches: 1.2.2; corrects line endings in gp_macio.c (gp_macio.c [1.2]:
2001/07/24 22:22:59 giles)

Improves the comments printed with dumps of Linearized PDF hint tables.
(lib/pphs.ps [1.3]: 2001/07/24 22:24:28 lpd)

Changes pdfopt to work around several Acrobat code and documentation bugs,
so that Acrobat now recognizes pdfopt output as "optimized". Fixes
SourceForge #438685. (lib/pdfopt.ps [1.10], lib/pdfwrite.ps [1.7]:
2001/07/30 07:16:32 lpd)

The Unix shared object loader 'gsx' depends on Gtk+ which causes it to fail
in an environment where X11 and Gtk+ are not available. Add a console only
loader 'gsc' which does not depend on X11 or Gtk+. This does not support the
'display' device. Fixes sourceforge bug #450933. (dxmainc.c [1.1]:
2001/09/15 08:10:33 ghostgum)

When using the Unix Gtk+ loader gsx, delay setting the default color map and
visual until the display device is opened. This may allow gsx to be used
when X11 is not available. May fix Sourceforge bug #450933. (dxmain.c [1.4]:
2001/09/15 08:14:21 ghostgum)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (gp_stdia.c [1.1], gp_stdin.c [1.1],
ziodevs.c [1.3]: 2001/09/15 08:48:34 ghostgum)

Correct the stdin code in dxmainc.c (gsc) to be the same as gp_stdia.c.
(dxmainc.c [1.2]: 2001/09/22 07:16:50 ghostgum)

</pre><h2><a name="7.02-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Prevent empty or invalid OutputFile values from causing SEGV in
psrgb, psgray and psmono. SourceForge bug #414151. (gdevpsu.c [1.5]:
2001/04/20 02:35:24 rayjj)
	- Corrects incorrect month value in TIFF headers. Need to increment
tm_mon by one to get actual month. Fix from Helge Blischke.
(gdevtifs.c [1.4]: 2001/04/20 06:36:00 rayjj)
	- epswrite now writes each page into separate file, if OutputFile
specifies format. SourceForge bug #228641. (gdevps.c [1.17],
gdevpsim.c [1.5], gdevpsu.c [1.6], gdevpsu.h [1.3]: 2001/05/05 11:04:22
igorm)
	- Writing each page to separate file, epswrite wrote wrong number of
pages to their trailers. (gdevps.c [1.18], gdevpsim.c [1.6],
gdevpsu.c [1.7], gdevpsu.h [1.4]: 2001/05/10 17:41:22 igorm)
	- Removes duplicate rc_decrement_only() in
pdf14_begin_typed_image(), so that the marking device is now deallocated
once. Fixes SourceForge bug #434705. (gdevpnga.c [1.4]: 2001/07/05 23:21:01
raph)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS (x_.h [1.3]:
2001/04/20 09:56:22 joukj)

branches: 1.2.2; Updates hpijs driver to version 0.96. (gdevhpij.c [1.2],
gdevhpij.h [1.2]: 2001/05/30 23:25:25 raph)

branches: 1.1.2; file defs.h was initially added on branch GS_6_5.
(defs.h [1.1]: 2001/05/31 08:28:49 raph)

branches: 1.1.2; file gomni.c was initially added on branch GS_6_5.
(gomni.c [1.1]: 2001/05/31 08:28:49 raph)

branches: 1.1.2; file gdevln03.c was initially added on branch GS_6_5.
(gdevln03.c [1.1]: 2001/06/05 07:07:37 raph)

branches: 1.1.2; file gdevop4w.c was initially added on branch GS_6_5.
(gdevop4w.c [1.1]: 2001/06/05 07:07:37 raph)

branches: 1.1.2; file gdevxes.c was initially added on branch GS_6_5.
(gdevxes.c [1.1]: 2001/06/05 07:07:37 raph)

Adds knowledge of more paper sizes to PCL driver. Thanks to Jonathan Kamens
for the patch. (gdevpcl.c [1.5], gdevpcl.h [1.5]: 2001/07/15 06:38:38 raph)

branches: 1.1.2; Adds initial support for macos. (gdevmac.c [1.1],
gdevmac.h [1.1], gdevmacpictop.h [1.1], gdevmacttf.h [1.1]: 2001/07/18
20:20:50 giles)

branches: 1.1.2; Adds the remaining macos source files (gdevmacxf.c [1.1]:
2001/07/18 20:27:39 giles)

Added const to all printer device descriptors const gx_device_printer
gs_xxx_device = ... (gdev3852.c [1.3], gdev4081.c [1.3], gdev4693.c [1.3],
gdev8510.c [1.3], gdevadmp.c [1.3], gdevbj10.c [1.4], gdevcif.c [1.3],
gdevcljc.c [1.4], gdevcp50.c [1.3], gdevdjtc.c [1.3], gdevdm24.c [1.3],
gdevepsc.c [1.3], gdevepsn.c [1.3], gdevescp.c [1.3], gdevhl7x.c [1.5],
gdevimgn.c [1.4], gdevlbp8.c [1.3], gdevlj56.c [1.3], gdevmiff.c [1.3],
gdevn533.c [1.3], gdevo182.c [1.3], gdevokii.c [1.3], gdevpjet.c [1.3],
gdevsgi.c [1.2], gdevsnfb.c [1.3], gdevsppr.c [1.4], gdevsunr.c [1.4],
gdevtknk.c [1.3]: 2001/08/01 00:48:23 stefan911)

</pre><h2><a name="7.02-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Empty pages included a Contents entry whose value was an empty
array: the spec allows this, and AR3 and 4 accept it, but AR5 rejects it.
(gdevpdf.c [1.34]: 2001/06/29 06:52:13 lpd)
	- When tiling with a bitmap, the /Type entry in the Pattern resource
was written twice. (Minor file size problem only, not a functional problem.)
(gdevpdfb.c [1.5]: 2001/06/29 17:04:17 lpd)
	- Some poorly designed PDF tools couldn't handle the fact that the
Contents stream of each page was not surrounded by q/Q. (The PDF spec does
not require this.) Fixes SourceForge bug #231390. (gdevpdfu.c [1.16]:
2001/07/02 18:07:55 lpd)
	- pdfwrite didn't set returned.current_char, so the "current
character" for kshow was 0 or a random value. Fixes SourceForge bug #420933.
(gdevpdfs.c [1.5]: 2001/07/02 19:09:23 lpd)
	- When producing text in a Type 3 (bitmap) font and using TL and '
for Y positioning, emitting a horizontal space character reset
text.use_leading, causing the line to be positioned incorrectly. Fixes
SourceForge bug #427159. (gdevpdft.c [1.33]: 2001/07/04 16:47:33 uid22160)
	- When producing text using a Type 3 (bitmap) font, the TL command
was used (incorrectly) when the new text position was directly below the
current text position, not (correctly) when the new text position was
directly below the beginning of the current text line. Fixes SourceForge bug
#228180. (gdevpdft.c [1.34]: 2001/07/04 18:06:39 uid22160)
	- Scaled fonts with PaintType = 2 (stroked) were painted with
incorrect stroked width. (gdevpdfs.c [1.6]: 2001/07/04 21:57:02 uid22160)
	- pdfwrite generated masked images, a PDF 1.3 feature, even when
CompatibilityLevel &lt; 1.3. Fixes item (2) of SourceForge bug #414104.
(gdevpdfj.c [1.7], gdevpdfv.c [1.6]: 2001/07/07 19:15:51 lpd)
	- pdfwrite could write out a Pattern image too large for Acrobat
Reader to handle, which would then never be referenced. Fixes item (4) of
SourceForge bug #414104. (gdevpdfv.c [1.7]: 2001/07/07 19:41:12 lpd)
	- MSVC requires that a label not be the last thing in a block.
(gdevpdfv.c [1.9]: 2001/07/08 13:46:25 lpd)
	- The algorithm for scaling down user coordinates to fall within
Acrobat Reader's limitations didn't work properly for stroked paths with
anisotropic CTMs, possibly producing large coordinates that led Acrobat (but
not Ghostscript) to display the resulting file incorrectly. Fixes
SourceForge bug #440476. (gdevpdfd.c [1.15], gdevpdfp.c [1.18],
gdevpdfx.h [1.30]: 2001/07/12 03:28:02 lpd)
	- pdfwrite didn't write transfer functions in the output for images,
and allowed lossy compressions on images even in the presence of peculiar
transfer functions (such as functions simulating indexed color spaces). This
fix writes transfer functions for images, prevents lossy compression if the
transfer function is not the identity, and undoes the hack that was
implemented earlier to work around this problem. Fixes SourceForge bug
#420257. (gdevpdf.c [1.35], gdevpdfg.c [1.13], gdevpdfi.c [1.22],
gdevpdfx.h [1.31]: 2001/07/12 05:47:07 lpd)
	- When writing text, the leading offset was sometimes ignored if
blank lines were followed by a non-blank line. Fixes SourceForge bug
#440490. (gdevpdft.c [1.35]: 2001/07/12 19:45:53 lpd)
	- If ConvertCMYKImagesToRGB was true, pdfwrite produced images with
the correct RGB data but with the color space still set to DeviceCMYK. (Fix
originally from Helge Blischke.) (gdevpdfi.c [1.23]: 2001/07/24 04:47:37
lpd)
	- The calculation of a scaling value for stroked paths was
incorrect, causing Inf and NaN values to be written in the PDF file. Fixes
SourceForge #444682. Bug was introduced by the fix for #440476.
(gdevpdfd.c [1.16]: 2001/07/27 22:28:31 lpd)
	- Some error codes were ignored, masking errors in writing embedded
fonts. (gdevpdfe.c [1.10]: 2001/07/31 06:32:42 lpd)
	- ICCBased color spaces were copied to the output even if the output
level was 1.2 (ICCBased color spaces were introduced in PDF 1.3).
(gdevpdfc.c [1.16]: 2001/08/02 20:29:07 lpd)
	- If an image used a color space that couldn't be represented in
PDF, an invalid file was produced, rather than falling back to the default
representation as tiny rectangles. (bug introduced by H. Blischke's color
space fix) (gdevpdfi.c [1.24]: 2001/08/03 16:12:16 lpd)
	- Type 1 fonts that did not use the standard 1000-unit cell, such as
some fonts in PostScript files produced by Windows NT 4.0, were written with
an incorrect FontMatrix. (The output was visually correct, because the font
size was scaled to compensate.) Fixes SourceForge #439474.
(gdevpdff.c [1.19], gdevpdff.h [1.11], gdevpdfs.c [1.7]: 2001/08/06 19:36:01
lpd)
	- If the base 14 fonts were being embedded, they would often be
embedded multiple times. Partially fixes SourceForge #438957.
(gdevpdff.c [1.20]: 2001/08/17 21:27:21 lpd)
	- The descriptors for embedded fonts were recomputed unnecessarily.
Part 1 of a two-part fix for SourceForge #451456. (gdevpdff.c [1.21]:
2001/08/29 19:03:59 lpd)
	- Uncolored Patterns with all bits set (equivalent to a solid color)
crashed pdfwrite. Fixes SourceForge #461330. (gdevpdfv.c [1.10]: 2001/09/15
06:12:29 lpd)
	- pdfwrite failed to recognize several of the standard screen spot
functions: Ellipse, Round, and Diamond weren't implemented, and several of
the others didn't match the PostScript implementation because of
float/double discrepancies. Also, pdfwrite wrote out halftone screens using
the adjusted ("actual") frequency and angle values rather than the requested
values. Fixes SourceForge #446676. (gdevpdfg.c [1.14]: 2001/09/22 16:27:04
lpd)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(gdevpdf.c [1.32]: 2001/04/20 09:56:22 joukj)

Committing in . Modified Files: gs/src/gdevpdf.c gs/src/imainarg.c
gs/src/openvms.mmk Merged in some patches by Rick Dyson, which affect
compilation on VMS only. (gdevpdf.c [1.33]: 2001/04/25 08:19:41 joukj)

Changes the locally used BASE_ENCODING macro to an inline procedure
base_encoding_index. (Code hygeine only, no functional effect.)
(gdevpdfs.c [1.4]: 2001/06/29 17:05:35 lpd)

Makes pdfwrite recognize colored Patterns where all the pixels are the same
color, and convert them to uncolored Patterns. This is an important
optimization for files produced by certain applications (the test file came
from Freehand on the Mac). Fixes item (3) of SourceForge bug #414104.
(gdevpdfv.c [1.8]: 2001/07/08 04:27:48 lpd)

Capitalizes a macro, and replaces two other macros with variables.
(gdevpdfm.c [1.12]: 2001/07/15 22:53:23 lpd)

Interprets bookmarks (/OUT pdfmarks) lacking both Action and Dest keys as a
GoTo to the current page, to match Acrobat Distiller. SourceForge bug
(enhancement) #442111. (gdevpdfm.c [1.13]: 2001/07/24 22:28:42 lpd)

Changes pdfwrite to produce MediaBox values with up to 2 digits of decimal
fraction, rather than truncating to integers. SourceForge enhancement
request #440782. (gdevpdf.c [1.36], gdevpdfx.h [1.32]: 2001/07/25 23:16:44
lpd)

Changes the writing of Type 3 character bitmaps to use Decode in the image
dictionary, rather than BlackIs1 in the parameter dictionary, to invert the
data, because it takes slightly less space on the file. (gdevpdfb.c [1.6]:
2001/07/29 02:21:43 lpd)

Shrinks PDF output slightly by removing unnecessary spaces.
(gdevpdfo.c [1.8]: 2001/07/29 03:00:45 lpd)

Writes only the necessary Encoding entries for Type 3 bitmap fonts, rather
than always writing all 256 entries. Motivated by SourceForge #438957.
(gdevpdf.c [1.37], gdevpdft.c [1.36], gdevpdfw.c [1.12], gdevpdfx.h [1.33]:
2001/07/30 15:11:00 lpd)

Added const to all printer device descriptors const gx_device_printer
gs_xxx_device = ... (gdevpdff.c [1.18]: 2001/08/01 00:48:23 stefan911)

Converts all locally defined macros to upper case. (gdevpdfc.c [1.17]:
2001/08/03 06:43:52 lpd)

Shrinks pdfwrite output slightly by omitting the unnecessary space character
before strings and hex strings, as well as before names, arrays, and
dictionaries. (gdevpdfo.c [1.9]: 2001/08/14 02:29:16 lpd)

Committing in . Modified Files: gs/src/gdevpdfm.c gs/src/sarc4.c
gs/src/zcsdevn.c gs/src/zfile.c Some type casts added (gdevpdfm.c [1.14]:
2001/09/04 14:30:13 joukj)

</pre><h2><a name="7.02-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- 5-element DeviceN array (with attributes) messed up the operand
stack and failed. The attributes is an informational entry that can be
safely ignored. Bug #419509, Customer #150. (lib/pdf_draw.ps [1.30]:
2001/04/28 01:45:25 alexcher)
	- PDF files containing strings with codes that map to glyph names
that are not part of the font would error with undefined in --get--.
Substitute the .notdef glyph as Adobe Acrobat Reader apparently does.
(lib/pdf_font.ps [1.19]: 2001/05/12 00:11:42 rayjj)
	- .resolvefn4 used stream length as the length of the decompressed
data, truncated the PostScript procedure and caused syntax error in the
token operator because of the unmatched brackets. Reading directly from the
stream fixes the problem. Bugs #425919 (lib/pdf_draw.ps [1.31]: 2001/05/24
16:48:59 alexcher)
	- The March 1999 PDF 1.3 version of the specification had a change
to make the /FormType key and /Matrix key optional in a Form. While we had
already handled missing /Matrix key, the missing /FormType key was not
accounted for in all cases. Move this to the common DoForm code. Fix for
SourceForge bug #430556, Artifex customer #671. (lib/pdf_draw.ps [1.32]:
2001/06/13 05:30:29 rayjj)
	- Wrong entry name (BaseFont instead CIDFontName) was used while
resolving font resource to CIDFontType2 in PDF interpreter. Source Forge bug
#436892 (lib/pdf_font.ps [1.20]: 2001/07/09 19:27:37 igorm)
	- Workaround a SEGV caused by GC interaction with stderr file.
Needed to complete the fix for #430556, but the stderr bug remains open as
442477. (lib/pdf_main.ps [1.34]: 2001/07/18 20:42:48 rayjj)
	- Detect and load embedded Type1 fonts that are in PFB format (have
the 6 byte PFB header before each segment). Also ignore /Length values in
the streamdict keys that don't match the PFB segnment lengths. Issue warning
messages to stderr for all of these spec violations. SourceForge bug #430556
for Artifex customer #671. VS:
----------------------------------------------------------------------
(lib/pdf_font.ps [1.21]: 2001/07/18 20:45:35 rayjj)
	- This problem was a rangecheck error being reported in
.setindexedspace when the base colorspace was DeviceN. The cause was an
error in determining the number of components in the DeviceN space. This is
the second of two fixes for SF bugs 427165 (customer #1110) and 438682.
(lib/pdf_draw.ps [1.34]: 2001/08/21 23:54:30 dancoby)

Improvement: Prevents PDF files with more than 65534 page from failing due
to the dict size limit. The caches never hit on pages past 65534. Problem
was reported by a potential Artifex customer re their customer's files.
(lib/pdf_main.ps [1.33]: 2001/05/12 17:15:41 rayjj)

This is the fix for [ #427354 ] PDF checkboxes problem. The PDF annotation
handler was not correctly handling cases in which there was no appearance in
the appearance dictionary AP for the current appearance state AS. It should
not display anything in this case. (lib/pdf_draw.ps [1.33]: 2001/06/14
22:25:36 dancoby)

Updates pdf_sec.ps to use the new PDF 1.4 algorithms and 128 bit keylengths.
Rewritten to use C implementations of Arcfour (RC4 compatible cipher) and
MD5. Also fixes bug in processing of zero-length streams.
(lib/pdf_sec.ps [1.4]: 2001/09/19 07:12:13 raph)

</pre><h2><a name="7.02-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- GS didn't exit to shell when it was used with '--' option. The bug
was introduced in revision 1.7 when many references to exit() were replaced
with returns. Bug #416498 by Paul Vojta (imainarg.c [1.11]: 2001/04/19
23:39:39 ghostgum)
	- Removing the dependence of graphic library on PS interpreter.
Source Forge bug #415003. (zcssepr.c [1.8]: 2001/04/20 09:38:39 igorm)
	- Auto-rotation is enabled for non-null orientations. Auto rotation
now always rotates the image +90 degrees relative to the orientation. Bug
#416830 Customer #430 (zmedia2.c [1.3]: 2001/04/26 17:57:41 alexcher)
	- EPS files without a showpage could not be viewed if given as a
command line arg. Extra call to display_set_callback erased the page before
going to the GS&gt; prompt the first time. Only do display_set_callback as
part of init_2. (imain.c [1.13]: 2001/05/04 20:35:33 rayjj)
	- in global mode pdfmark with composite objects causes invalidaccess
because the objects are copied to local memory but the array is copied to
current memory. Now the array is copied to local memory too. Fix from Helge
Blischke with changes. (lib/gs_pdfwr.ps [1.11]: 2001/05/04 20:59:33
alexcher)
	- This IdiomSet replaces 3 procedures generated by Win2K driver in
level 1 mode for RGB source image and DeviceRGB, DeviceCMYK, and DeviceGray
color models. Original implementation uses transfer functions to simulate
the indexed color space. Currently, GS always ignore transfer functions. The
replacement procedure uses indexed color space directly. This Idiom should
really be in a file in the IdiomSet directory of the Resource path, but we
put it here until GS has a way to handle distribution and installation of
Resources. Customer #670, Bug #420257 (lib/gs_ll3.ps [1.9]: 2001/05/08
19:42:13 alexcher)
	- Add all page sizes supported in statusdict to the .pagetypenames
array so that these page sizes can be selected from the command line using
-sPAPERSIZE=... parameter. Also implement the STRICT that limits the
available known paper sizes to those Adobe had defined prior to Level 2 when
'setpagedevice' replaced this mess. SourceForge bug #427898
(lib/gs_statd.ps [1.5]: 2001/05/30 21:14:35 rayjj)
	- Fix for [ #419211 ] .parse_dsc_comments not robust. This change
modifies the DSC parser so that errors in DSC comments do not abort the file
processing. (zdscpars.c [1.11]: 2001/06/06 08:11:20 dancoby)
	- Adobe PhotoShop 5+ duotone code assumes that setcolor operator
calls tint transform function if source colors don't make a subset of device
colors. Bug #224056, Customer #150 (zcolor2.c [1.4]: 2001/06/07 14:48:24
alexcher)
	- When finding a %%Page line in the trailer due to incorrect DSC
comments, the DSC parser now returns CDSC_PAGE only if the parser treats it
as a valid page. Partial fix for SourceForge bug #435157. (dscparse.c [1.6]:
2001/06/23 10:21:24 ghostgum)
	- Fix for [ #435157 ] segmentation fault in dsc_page. Add test for
valid page data before using. (zdscpars.c [1.12]: 2001/06/27 00:25:08
dancoby)
	- Implementing CIDFont.CMap construction with period character (see
Ken Lunde, "CJKV Information Processing," O'RELILLY. 1999. p284) for any
compatible pair of CIDFont &amp; CMap. This feature complies with Adobe
CPSI. Thanks to Masatake Yamato for discovering this feature.
(lib/gs_cidcm.ps [1.5]: 2001/07/01 08:55:34 igorm)
	- Reading a TrueType font with an empty table could cause a
rangecheck error. (lib/gs_ttf.ps [1.9]: 2001/07/08 15:24:11 lpd)
	- pdfwrite didn't write transfer functions in the output for images,
and allowed lossy compressions on images even in the presence of peculiar
transfer functions (such as functions simulating indexed color spaces). This
fix writes transfer functions for images, prevents lossy compression if the
transfer function is not the identity, and undoes the hack that was
implemented earlier to work around this problem. Fixes SourceForge bug
#420257. (lib/gs_ll3.ps [1.10]: 2001/07/12 05:47:07 lpd)
	- zfilelineedit sometimes reallocates (resizes) buffer string
without updating reference to it from o-stack, so as console input after
callout reads undefined data. Fixed with copying new reference to o-stack
whenever it changes. Source Forge bug #437808 (ziodev.c [1.5]: 2001/07/16
08:38:14 igorm)
	- If a 'restore' had to restore page device parameters, it did so
before rather than after restoring the state of VM, possibly creating
dangling references. Fixes SourceForge #230694, #414588, #444565.
(lib/gs_setpd.ps [1.8], zdevice2.c [1.4]: 2001/07/30 07:11:38 lpd)
	- Ignore white space between %%DocumentData: and argument. Fix: Set
dsc-&gt;preview correctly to DOS EPS if both DOS EPS and EPSI previews are
present. Update to latest dscparse.c/h used in GSview. Change dscparse to
mark internal functions "dsc_private" not "private", so it can be compiled
as C++ (needed by GSview, not Ghostscript). (dscparse.c [1.7],
dscparse.h [1.6]: 2001/08/01 09:03:40 ghostgum)
	- Fixing wrong binding of .getmetrics32 with -dNOBIND.
(lib/gs_typ32.ps [1.3]: 2001/08/06 10:19:42 igorm)
	- Old hack about underline parameters in gs_type1.ps now conflicts
with QuarkXPress_4.1 3.0 0 procset. Disabling it for fonts, which have
degenerate FontBBox. Source Forge bug #441870. (lib/gs_type1.ps [1.5]:
2001/08/06 16:47:43 igorm)
	- The problem was a rangecheck error being reported in
.setdevicenspace with PDF files. The cause of the problem was not allowing
multiple copies of the name /None in DeviceN colorant specification. This is
the first of two fixes for SF bugs 427165 (customer #1110) and 438682.
(zcsdevn.c [1.4]: 2001/08/21 23:52:36 dancoby)
	- Work around a bug in the Adobe AGM_Core that results in areas
painted by the tint transform of a spot color being overpainted with white.
The symptom is missing graphics (lines, fills or text). SourceForge bug
#454415 for Artifex customer #190. (lib/gs_init.ps [1.37]: 2001/08/29
21:10:23 rayjj)
	- Fix a bug that the procedure for arraytype in cntdict leaves an
object. (lib/gs_btokn.ps [1.4]: 2001/09/04 22:59:52 masata-y)
	- If MaxLocalVM user parameter is set, perform garbage collection
before checking for potential VMerror. Without this fix, VMerror would be
issued even if a garbage collection would have freed enough memory to stay
below the MaxLocalVM limit. (ireclaim.c [1.3]: 2001/09/05 17:50:36 rayjj)
	- Prevent memory corruption when reading %statementedit. Allocate
lineedit buffer in correct memory space. Line being assembled is stored in a
PostScript string during callouts, so prevent zfilelineedit from reading
more than max_string_size bytes. Allocate extra space for trailing new-line
for statementedit, rather than fiddling the string length which broke when
sreadline reallocated the string. (zfile.c [1.11], ziodev.c [1.6]:
2001/09/22 07:26:46 ghostgum)

Increments version number after 7.00 release. Also fixes gs_init.ps to
consistently print minor revision number as two digits.
(lib/gs_init.ps [1.35]: 2001/04/17 07:40:12 raph)

Committing in . Modified Files: gs/src/gdevpdf.c gs/src/imainarg.c
gs/src/openvms.mmk Merged in some patches by Rick Dyson, which affect
compilation on VMS only. (imainarg.c [1.12]: 2001/04/25 08:19:41 joukj)

Added dot(.) composed font name(CIDFont.CMap) supports.
(lib/gs_cidcm.ps [1.3]: 2001/05/09 09:15:19 masata-y)

In zfilename, a string allocated by ialloc_string is put on the stack with
correct memory space. (zfileio.c [1.11]: 2001/05/09 09:25:24 masata-y)

The show operator doesn't clear the operand stack on interrupts. Source
Forge bug 209350. (zchar.c [1.4]: 2001/05/10 19:15:29 igorm)

Move jpeg_decompress structure enum/reloc handler from interp level to
stream utility level to support non-PostScript clients. (zfdcte.c [1.5]:
2001/05/30 17:38:45 rayjj)

Unwind to the revision 1.2, because CIDFont.CMap patch misses some important
CIDFont-CMap combinations. (lib/gs_cidcm.ps [1.4]: 2001/06/06 10:44:05
igorm)

If an ICC color space failed to load, Acrobat Reader uses the alternate
color space. Previous implementation ignored errors during load and used the
partial ICC space. This change signals an error and uses the alternate space
by catching the error in a stopped context in the interpreter.
(lib/gs_icc.ps [1.2]: 2001/06/12 16:02:39 rayjj)

Patch from Mr. Toshiya Suzuki : Implementing multi-dimensional CID ranges,
and fixing bugs about decoding text string with CID font : (1) when GS
consumes undefined byte sequence (which cannot be mapped to some glyphs), GS
aborts. (2) when selected CID font lacks the glyph for requested CID, GS
aborts. (3) "notdefrange" defines SINGLE CID for undefined byte sequences in
specified range, but current GS implementation take it as an offset to
calculate MULTIPLE CID. (4) "cidrange" operators accept only full range
specification (&lt;0000&gt; to &lt;FFFF&gt;) or 8 bit width range
(&lt;xxyy&gt; to &lt;xxzz&gt;). Source Forge bug #415163.
(lib/gs_cmap.ps [1.11], zfcid0.c [1.7]: 2001/06/16 19:02:31 igorm)

Committing in . Modified Files: gs/src/idisp.c gs/src/imain.c
gs/src/zfileio.c Some minor fixes (2 added includes and 1 type cast) needed
to compile cleanly on OpenVMS. (idisp.c [1.2], imain.c [1.14],
zfileio.c [1.12]: 2001/07/11 12:05:52 joukj)

Adds and documents an operator &lt;prefix|null&gt; &lt;access_string&gt;
.tempfile &lt;filename&gt; &lt;file&gt; to create and open a temporary file,
using gp_open_scratch_file. (zfile.c [1.9]: 2001/07/15 13:54:17 lpd)

Add the local and global vmstatus values to calculate the memory usage of a
resource. (lib/gs_res.ps [1.15]: 2001/07/15 16:13:39 masata-y)

Allows temporary files (created and opened with .tempfile) to be deleted
even if SAFER is set. (lib/gs_init.ps [1.36]: 2001/07/23 06:56:24 lpd)

To reduce redraw flicker, do not allow Windows to erase the background since
we paint it ourselves. Paint areas outside the page with the window
background colour or light grey. Save and restore window size using
registry. Add "Paste" to system menu of text window. Make error message box
a child of text window to avoid it appearing behind the text window. To
allow user to read the error message, the text window is not automatically
destroyed in the event of an error. The user must close text window using
close button or system menu. If text window closed, return e_Fatal to poll
function to provide a cleaner exit without a stack dump. (dwimg.c [1.3],
dwimg.h [1.4], dwmain.c [1.5], dwmainc.c [1.6], dwtext.c [1.4],
dwtext.h [1.4]: 2001/08/01 09:50:36 ghostgum)

Changed debugging flag variables to const. (igc.c [1.4], zvmem.c [1.3]:
2001/08/01 16:21:35 stefan911)

Adds missing dwreg.cpp and dwreg.h files needed by recent Windows updates
which save and restore window size using registry. (dwreg.c [1.1],
dwreg.h [1.1]: 2001/08/02 08:36:07 ghostgum)

Improves documentation of the op_def array elements and removes the obsolete
BEGIN/END_OP_DEFS macros, deprecated since 5.25. (opdef.h [1.3]: 2001/08/28
03:28:08 giles)

Adds a C implementation of the Arcfour encryption filter. This is a
work-alike of the RC4 cipher used in PDF encryption. (zfarc4.c [1.1]:
2001/09/02 06:16:41 giles)

Corrects indenting, and adds another missing header. (zfarc4.c [1.2]:
2001/09/02 07:09:13 giles)

Committing in . Modified Files: gs/src/gdevpdfm.c gs/src/sarc4.c
gs/src/zcsdevn.c gs/src/zfile.c Some type casts added (zcsdevn.c [1.5],
zfile.c [1.10]: 2001/09/04 14:30:13 joukj)

Change to debug output so that when the ptr is totally bogus, some useful
output will be generated before otype-&gt;ssize is dereferenced (which can
cause a memory access crash such as SEGV). No effect on non-debug code.
(ilocate.c [1.4]: 2001/09/06 15:46:13 rayjj)

Move misplaced comment block. (zvmem2.c [1.3]: 2001/09/06 16:01:23 rayjj)

.objectprinttest: do one more pop if the operator is executed without error.
.writeobjects: Before writing the header, check whether the written objects
are arrays or not. If they are arrays, they are left them on the stack. If
they are not arrays, they are removed from the stack.
(lib/gs_btokn.ps [1.5]: 2001/09/15 07:11:00 masata-y)

When using gswin32 (GUI version) and an error occurs or -? is used, do not
display an error message box. Add a message to the text window "Close this
window with the close button on the title bar or the system menu". Flash the
window to attract attention. Fixes sourceforge bug #459019. (dwmain.c [1.6],
dwtext.c [1.5]: 2001/09/15 08:36:53 ghostgum)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (dpmain.c [1.4], dwmainc.c [1.7],
imain.c [1.15]: 2001/09/15 08:48:33 ghostgum)

When using stdio callouts without callback functions, flush stdout and
stderr. (imain.c [1.16]: 2001/09/15 09:17:10 ghostgum)

Don't initialize stdin if it is being handled by the caller.
(imain.c [1.17]: 2001/09/22 07:22:48 ghostgum)

Allow PostScript stdout to be redirected to stderr or a file. This is
required to avoid driver stdout being mixed with PostScript stdout. Options
are -sstdout=filename or -sstdout=%stderr. To reset redirection use
-sstdout=- or -sstdout=%stdout. Fixes Sourceforge bug #222534.
(imain.c [1.18], imain.h [1.3], imainarg.c [1.13], iminst.h [1.5]:
2001/09/22 07:33:35 ghostgum)

Updates version and date in documentation in preparation for 7.02
pre-release. (lib/gs_init.ps [1.38]: 2001/09/22 16:26:22 raph)

</pre><h2><a name="7.02-Streams"></a>Streams</h2><pre>

Fixes problems:
	- When input stream of an input filter reports EOF, old code reports
EOF for the filter. But if output buffer for the filter is not empty, EOF
status to be delayed until it empties. Source Forge bug #417127.
(stream.c [1.12]: 2001/05/05 10:12:23 igorm)
	- Non-stable memory was used for internal zlib data, causing
inconsistent heap state after 'restore' while zlib is active, and subsequent
crash. Source Forge bug #431057 (szlibc.c [1.3]: 2001/07/16 08:29:46 igorm)
	- Fixes numerous bugs in setting of DCT compression parameters.
Manual setting of parameters such as QFactor should now work. Also
ColorTransform now defaults to YCC instead of RGB color space so the default
quality and compression ratio should improve. Thanks to Dave Slattengren for
the initial version of this fix. (sdcparam.c [1.3], sdcte.c [1.4],
sdeparam.c [1.4]: 2001/09/01 23:54:57 raph)
	- fixes bounds overstepping in arcfour filter in the case where
write buffer space is smaller than read buffer space. (sarc4.c [1.5]:
2001/09/14 20:26:02 raph)

Set file_name.size = 0 when file_name.data is set to 0. (stream.c [1.13]:
2001/05/09 09:42:57 masata-y)

Move jpeg_decompress structure enum/reloc handler from interp level to
stream utility level to support non-PostScript clients. (sdcte.c [1.3]:
2001/05/30 17:38:45 rayjj)

Move jpeg_decompress structure enum/reloc handler from interp level to
stream utility level to support non-PostScript clients. (see also zfdcte.c
and sdcte.c) (sdct.h [1.4]: 2001/06/08 07:08:44 rayjj)

Adds a comment describing the function and return value of sreadbuf.
(stream.c [1.14]: 2001/06/17 04:28:10 lpd)

Adds extern_inline for including inline procedures in header files.
(stdpre.h [1.4]: 2001/06/17 05:09:07 lpd)

These changes were originally put into the GS_6_5 branch on 2001/03/13. They
are needed for using the current version of teh graphics library with the
PCL6 code. Short description of changes: stat_.h: Added definition of
stat_is_dir for use with MSVC. Not used in Ghostscript. gsptype1.c: Changes
in image_PaintProc. This routine is used in gs_makepixmappattern.
gs_makepixmappattern is only used in test8 (in gslib.c - a test module) and
gs_makebitmappattern_xform. gs_makebitmappatern_xform is not used in
Ghostscript. It is used in pcl6. (stat_.h [1.6]: 2001/08/07 22:13:29
dancoby)

Makes the spprint* procedures use sputc rather than sputs for printing
converted values. Speeds up one set of customer ps2pdf conversions by 2.5%.
(spprint.c [1.4]: 2001/08/25 06:59:04 lpd)

Adds a C implementation of the Arcfour encryption filter. This is a
work-alike of the RC4 cipher used in PDF encryption. (sarc4.c [1.1],
sarc4.h [1.1]: 2001/09/02 06:16:41 giles)

adds a missing header file for e_rangecheck. (sarc4.c [1.2]: 2001/09/02
06:27:18 giles)

Corrects indenting, and adds another missing header. (sarc4.c [1.3],
sarc4.h [1.2]: 2001/09/02 07:09:13 giles)

Committing in . Modified Files: gs/src/gdevpdfm.c gs/src/sarc4.c
gs/src/zcsdevn.c gs/src/zfile.c Some type casts added (sarc4.c [1.4]:
2001/09/04 14:30:13 joukj)

</pre><h2><a name="7.02-Library"></a>Library</h2><pre>

Fixes problems:
	- When copying a device, copy the static procs if needed before
calling finish_copydevice, so that the correct finish_copydevice is used.
(gsdevice.c [1.9]: 2001/04/12 08:45:02 ghostgum)
	- Removing the dependence of graphic library on PS interpreter.
Source Forge bug #415003. (gscsepr.c [1.10], gscspace.h [1.7]: 2001/04/20
09:38:38 igorm)
	- Removing the dependence of graphic library on PS interpreter.
Source Forge bug #415003. (gscsepr.c [1.11]: 2001/04/20 10:07:48 igorm)
	- Optimization for shading fill. The general path filling algorithm
subdivides fill region with trapezoid or rectangle subregions and then
paints each subregion with given color. If the color is shading, each
subregion to be subdivided into areas of constant color. But with radial
shading each area is a high order polygon, being subdivided into smaller
subregions, so as total number of subregions grows huge. Faster processing
is done here by changing the order of subdivision cycles : we first
subdivide the shading into areas of constant color, then apply the general
path filling algorithm (i.e. subdivide each area into trapezoids or
rectangles), using the filling path as clip mask. Source Forge bug #414022.
(gsptype2.c [1.5], gsptype2.h [1.3], gxfill.c [1.8]: 2001/05/10 18:35:14
igorm)
	- If the OutputFile name was not NULL terminated, the strcmp would
fail in unpredictable ways. (gsdevice.c [1.10]: 2001/05/12 00:08:36 rayjj)
	- dev_color_eq used wrong number of components for halftones. Source
Forge bug #422534. (gsht1.c [1.3], gxcht.c [1.3]: 2001/05/12 14:51:52 igorm)
	- Current code for /All separations marks all planes in the
alternate color space, not the destination color space. This is wrong, but
gx_concretize_Separation() doesn't have access to the destination device
color space. This fix makes tint value 1 print as black in any alternate
color space. It printed as white in DeviceCMYK before. Bug #423838
(gscsepr.c [1.12]: 2001/05/25 13:54:01 alexcher)
	- Prevent SEGV caused by freeing memory not owned. Variable 'code'
was overwritten, losing the get_outline return code that was needed for the
decision to free the glyph_string.data. Problem detected with PCL. Bug was
introduced in rev 1.10. (gstype42.c [1.12]: 2001/05/31 04:34:23 rayjj)
	- Include &lt;time.h&gt; as required by Debian systems with glibc
2.2. Fixes SourceForge bugs 413747, 417180, 417181, 417182. (time_.h [1.3]:
2001/06/07 21:04:52 raph)
	- FunctionType 4 functions that contained conditionals (if/ifelse)
would report the length of their symbolic definition incorrectly;
FunctionType 4 functions that had to return their symbolic definition in
pieces would loop forever. Fixes SourceForge bug #427191. (gsfunc4.c [1.6]:
2001/07/04 01:23:46 lpd)
	- Changes clip logic in gx_image_cached_char() to affect the imaging
device, so that clipping is reliably effective. Fixes SF bug #433821 (and
probably others). (gxccache.c [1.5]: 2001/07/05 20:36:55 raph)
	- Removes duplicate rc_decrement_only() in
pdf14_begin_typed_image(), so that the marking device is now deallocated
once. Fixes SourceForge bug #434705. (gdevp14.c [1.3]: 2001/07/05 23:21:00
raph)
	- Prevent non-persistent name_arrays of size==0 from causing a
VMerror if alloc of size 0 returns a NULL. Detected with
SeparationColorNames from the PCL code. (gscparam.c [1.7]: 2001/07/06
17:02:25 rayjj)
	- If the FontMatrix of a CFF CIDFont was the default [0.001 0 0
0.001 0 0], it was not written, causing the FontMatrices of the subfonts to
be scaled by 1000. (The Adobe documentation isn't at all clear about this.)
Fixes SourceForge bug #428595. (gdevpsf2.c [1.14]: 2001/07/07 06:28:08 lpd)
	- Before processing an image that uses the current color, call
gs_state_color_load to ensure that if the current color is a pattern, the
pattern is loaded. (This parallels existing code used for filling paths and
processing text.) This prevents a SEGV caused when pdfwrite dereferenced a 0
pointer to pdc-&gt;colors.pattern.p_tile. Fixes SourceForge bug #422089 for
Artifex Customer #1110. (gsimage.c [1.4]: 2001/07/10 22:04:20 lpd)
	- The algorithm for scaling down user coordinates to fall within
Acrobat Reader's limitations didn't work properly for stroked paths with
anisotropic CTMs, possibly producing large coordinates that led Acrobat (but
not Ghostscript) to display the resulting file incorrectly. Fixes
SourceForge bug #440476. (gdevvec.c [1.12], gdevvec.h [1.7]: 2001/07/12
03:28:02 lpd)
	- -sOutputFile=%stdout handling was broken by rev. 1.4 is fixed by
giving priority to iodevices when there is a leading %, but if the iodevice
is not recognized, attempting to parse as a format. Fix for SourceForge bugs
436895 and 428738, Artifex customer #680 (gsdevice.c [1.11]: 2001/07/12
14:10:55 rayjj)
	- gp_open_scratch_file concatenated the temporary directory name
with the prefix even if the prefix was an absolute path; also, it didn't
check the length of the final file name, possibly leading to memory
corruption. (gp_unifs.c [1.6]: 2001/07/15 13:57:50 lpd)
	- An incorrect optimization in the conversion of Type 1 to Type 2
CharStrings could cause character shapes to be mangled. This probably only
affected embedded fonts in PDF output. Fixes SourceForge #444374.
(gdevpsfx.c [1.9]: 2001/07/26 03:04:51 lpd)
	- Acrobat Reader would not accept embedded TrueType fonts with a
zero-length glyf table. Fixes SourceForge #429156. (gdevpsft.c [1.8]:
2001/07/30 07:03:18 lpd)
	- An embedded CFF font could not be larger than 64K. Fixes
SourceForge #445400. (gdevpsf2.c [1.15]: 2001/07/31 06:39:06 lpd)
	- For CIEBasedDEF(G) color spaces the interpolated values from the
Table need to be scaled to the range given by RangeABC. Fixes SourceForge
bug #440278 reported by Artifex customer #10. (gsciemap.c [1.6]: 2001/08/03
15:26:35 rayjj)
	- Correct a problem with white lines appearing in an image at or
near band boundaries. Problem caused by different handling for the last
image pixel at a band boundary versus the remaining pixels. Replaced it with
uniform handling. Fixes SourceForge bug #436899 reported by Artifex customer
#150. Also included are three lines of source code clean up in the same
section. (gxicolor.c [1.3]: 2001/08/06 21:22:31 dancoby)
	- Writing a Type 2 font subset with undefined glyphs in the Encoding
produced invalid output. Fixes SourceForge #451399. (gdevpsf.h [1.10],
gdevpsfu.c [1.7]: 2001/08/16 13:36:37 lpd)
	- The problem was a rangecheck error being reported in
.setdevicenspace with PDF files. The cause of the problem was not allowing
multiple copies of the name /None in DeviceN colorant specification. This is
the first of two fixes for SF bugs 427165 (customer #1110) and 438682.
(gscdevn.c [1.6], gscspace.h [1.8]: 2001/08/21 23:52:36 dancoby)
	- Most of the Type 1 hinting code was executed even when hinting was
disabled. Part 2 of a two-part fix for SourceForge #451456.
(gxhint3.c [1.3]: 2001/08/29 19:04:55 lpd)
	- Quark Xpress turns off garbage collection with -2 vmreclaim when
embedding EPS files which can lead to rampant allocation that is only
reclaimed when GC is reenabled. When the GC is disabled, reduce the
threshold from 2 Gb to 8 Mb. Fixes SourceForge bugs: 444370 and 438676.
(gsalloc.c [1.10]: 2001/09/05 17:54:31 rayjj)
	- Fixes some typos in the comment for FORCE_GC_LIMIT.
(gsalloc.c [1.11]: 2001/09/05 18:03:39 lpd)
	- Copying a parameter list failed to copy persistent aggregates if
the target list used a different allocator from the source list, possibly
causing crashes at 'restore'. Fixes SourceForge #461007. (gsparamx.c [1.4]:
2001/09/14 04:23:11 lpd)
	- The sin and cos operators in Type 4 (PostScript Calculator)
Functions expected their argument in radians, not degrees. (gsfunc4.c [1.7]:
2001/09/17 06:01:12 lpd)
	- Fix for MS-Windows graphics library. Remove references to
interpreter from gp_check_interrupts function in library. Make gslib.c
access gs_stdin not stdin. Correct the build paths for graphics devices. Add
missing graphics devices. (gslib.c [1.5]: 2001/09/22 07:07:02 ghostgum)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(gsnogc.c [1.7]: 2001/04/20 09:56:22 joukj)

Changes gp_open_scratch_file() to use mkstemp() rather than mktemp() on gcc
builds, which avoids warnings. Adds CAPOPT variable to unix-gcc.mak to
select which function is used, so that builds will still succeed on systems
that don't have mkstemp(). (gp_unifs.c [1.5]: 2001/05/07 19:05:46 jackiem)

This fixes a minor omission that prevents ghostscript from building on at
least some platforms. After an #ifndef, a #define isn't done.
(gsptype2.h [1.4]: 2001/05/11 23:12:11 jackiem)

fix: If the ICC profile fails to load completely, or is missing a WhitePoint
a valid default is needed to prevent a divide by zero. The WhitePoint is the
same as the ICC default illuminant, D50. SourceForge bug 432130 for Artifex
customer #150 as well as bug 427156, customers #880 and #1110 and bug
414984. (gsicc.c [1.3]: 2001/06/12 15:32:20 rayjj)

If an ICC color space failed to load, Acrobat Reader uses the alternate
color space. Previous implementation ignored errors during load and used the
partial ICC space. This change signals an error and uses the alternate space
by catching the error in a stopped context in the interpreter.
(gsicc.c [1.4]: 2001/06/12 16:02:39 rayjj)

Patch from Mr. Toshiya Suzuki : Implementing multi-dimensional CID ranges,
and fixing bugs about decoding text string with CID font : (1) when GS
consumes undefined byte sequence (which cannot be mapped to some glyphs), GS
aborts. (2) when selected CID font lacks the glyph for requested CID, GS
aborts. (3) "notdefrange" defines SINGLE CID for undefined byte sequences in
specified range, but current GS implementation take it as an offset to
calculate MULTIPLE CID. (4) "cidrange" operators accept only full range
specification (&lt;0000&gt; to &lt;FFFF&gt;) or 8 bit width range
(&lt;xxyy&gt; to &lt;xxzz&gt;). Source Forge bug #415163. (gdebug.h [1.3],
gsfcmap.c [1.14], gsmisc.c [1.12], gxfcmap.h [1.8]: 2001/06/16 19:02:32
igorm)

Notes that the 'foreign' member of the vm_spaces.memories allocator array is
not used (always zero). (gsgc.h [1.3]: 2001/06/17 04:03:52 lpd)

Makes embedded CFF fonts in PDF files omit the FontBBox if it is [0 0 0 0].
This should only be a minor optimization, but SourceForge bug #428595 claims
that Acrobat Reader cares. (gdevpsf2.c [1.13]: 2001/07/06 05:17:31 lpd)

Changed debugging flag variables to const. (gshtscr.c [1.6],
gsmdebug.h [1.3], gxchar.c [1.5], gxclimag.c [1.3], gxclip.c [1.4]:
2001/08/01 16:21:34 stefan911)

Changed fill patterns for unallocated memory to const (gsmemory.c [1.3]:
2001/08/02 00:12:08 stefan911)

These changes were originally put into the GS_6_5 branch on 2001/03/13. They
are needed for using the current version of teh graphics library with the
PCL6 code. Short description of changes: stat_.h: Added definition of
stat_is_dir for use with MSVC. Not used in Ghostscript. gsptype1.c: Changes
in image_PaintProc. This routine is used in gs_makepixmappattern.
gs_makepixmappattern is only used in test8 (in gslib.c - a test module) and
gs_makebitmappattern_xform. gs_makebitmappatern_xform is not used in
Ghostscript. It is used in pcl6. (gsptype1.c [1.3]: 2001/08/07 22:13:29
dancoby)

Improves documentation for gs_string and gs_bytestring types; adds
gs_free_[const_]bytestring procedures. (gsmemory.c [1.4], gsmemory.h [1.3],
gstypes.h [1.3]: 2001/08/25 06:46:21 lpd)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (gp.h [1.7], unistd_.h [1.3]: 2001/09/15
08:48:33 ghostgum)

Improves poor performance of shadings in some cases, notably Coons01.ps.
Long, thin triangles are now cut in half, rather than into four smaller
triangles. Thus, the mesh is more regular. (gxshade4.c [1.5]: 2001/09/22
16:15:43 raph)

Updates version and date in documentation in preparation for 7.02
pre-release. (gscdef.c [1.14]: 2001/09/22 16:26:22 raph)

</pre><h2><a name="7.02-Other"></a>Other</h2><pre>

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(icclib/icc.c [1.4], vms_x_fix.h [1.1]: 2001/04/20 09:56:22 joukj)

This is the fix for [ #425014 ] Compile error on AIX in icc.c. The control87
is not defined on AIX systems (or probably on anything but x86 systems).
This was suggested by Graeme Gill. (icclib/icc.c [1.5]: 2001/06/06 08:14:14
dancoby)

branches: 1.1.2; Adds initial support for macos. (gp_mac.h [1.1]: 2001/07/18
20:20:50 giles)

branches: 1.1.2; Adds the remaining macos source files (macsysstat.h [1.1],
macsystypes.h [1.1]: 2001/07/18 20:27:39 giles)

Adds generated macos build files to .cvsignore (.cvsignore [1.2]: 2001/07/31
20:03:20 giles)

<hr>
</pre>

<h1><a name="Version7.00"></a>Version 7.00 (2001-04-08)</h1>

<p>
This is the official 7.0 AFPL Ghostscript release. Most of the changes
since 6.64 are quite minor, with the exception of one fix for ICC
profile support.

<p>
All problems registered on SourceForge numbered 414588 or lower are
closed, except for the following: 209350 215256, 219798, 221582,
222534, 222727, 224056, 224863, 226477, 226584, 227684, 228180,
228641, 230694, 231390, 404255, 404482, 405342, 406285, 406689,
406696, 406979, 407342, 409887, 410371, 411753, 413114, 413669,
413747, 414022, 414104, 414588.

<h3><a name="7.00_Incompatible_changes"></a>Incompatible changes</h3>

<pre>
</pre>

<h2><a name="7.00-Documentation"></a>Documentation</h2><pre>

Updates broken and obsolete offsite links in the documenation.
(doc/Devices.htm [1.28], doc/Fonts.htm [1.18], doc/Language.htm [1.30],
doc/Lib.htm [1.11], doc/Maintain.htm [1.17], doc/Make.htm [1.29],
doc/New-user.htm [1.26], doc/Projects.htm [1.29], doc/Ps2epsi.htm [1.12],
doc/Readme.htm [1.27]: 2001/04/08 04:42:55 giles)

Updates version number and date in preparation for 7.00 release.
(doc/API.htm [1.9], doc/Bug-form.htm [1.20], doc/Bug-info.htm [1.17],
doc/C-style.htm [1.17], doc/Commprod.htm [1.13], doc/Copying.htm [1.11],
doc/Current.htm [1.11], doc/DLL.htm [1.13], doc/Develop.htm [1.38],
doc/Devices.htm [1.29], doc/Drivers.htm [1.19], doc/Fonts.htm [1.19],
doc/Helpers.htm [1.15], doc/History1.htm [1.11], doc/History2.htm [1.11],
doc/History3.htm [1.11], doc/History4.htm [1.11], doc/History5.htm [1.13],
doc/History6.htm [1.27], doc/Htmstyle.htm [1.16], doc/Install.htm [1.22],
doc/Issues.htm [1.9], doc/Language.htm [1.31], doc/Lib.htm [1.12],
doc/Maintain.htm [1.18], doc/Make.htm [1.30], doc/New-user.htm [1.27],
doc/News.htm [1.84], doc/Projects.htm [1.30], doc/Ps-style.htm [1.11],
doc/Ps2epsi.htm [1.13], doc/Ps2pdf.htm [1.29], doc/Psfiles.htm [1.19],
doc/README [1.10], doc/Readme.htm [1.28], doc/Release.htm [1.35],
doc/Source.htm [1.11], doc/Tester.htm [1.12], doc/Unix-lpr.htm [1.11],
doc/Use.htm [1.27], doc/Xfonts.htm [1.11], doc/gs-vms.hlp [1.10],
man/dvipdf.1 [1.8], man/font2c.1 [1.8], man/gs.1 [1.8], man/gslp.1 [1.8],
man/gsnd.1 [1.8], man/pdf2dsc.1 [1.8], man/pdf2ps.1 [1.10],
man/pdfopt.1 [1.8], man/pf2afm.1 [1.8], man/pfbtopfa.1 [1.9],
man/printafm.1 [1.8], man/ps2ascii.1 [1.8], man/ps2epsi.1 [1.8],
man/ps2pdf.1 [1.12], man/ps2pdfwr.1 [1.9], man/ps2ps.1 [1.15],
man/wftopfa.1 [1.8]: 2001/04/09 06:20:01 raph)

</pre><h2><a name="7.00-Procedures"></a>Procedures</h2><pre>

Completes the change of default X directories to /usr/X11R6. Last commit on
this was inadvertently incomplete. (unix-gcc.mak [1.19],
unixansi.mak [1.14]: 2001/04/07 23:34:40 raph)

Updates version number and date in preparation for 7.00 release.
(version.mak [1.33]: 2001/04/09 06:20:03 raph)

</pre><h2><a name="7.00-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Correct the Unix executable handing of the display device formats
of 8bit and 24bit per pixel RGB. (dxmain.c [1.3]: 2001/04/08 08:40:29
ghostgum)
	- Ghostscript should return to the caller, not exit. Remove exit()
from gp_do_exit() for all platforms except VMS. (gp_dvx.c [1.4],
gp_iwatc.c [1.5], gp_os9.c [1.4], gp_unix.c [1.5]: 2001/04/08 08:43:24
ghostgum)

</pre><h2><a name="7.00-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- AR4 doesn't like fonts with empty FontBBox which happens when the
font contains only space characters. Small BBox causes AR 4 to display a
hairline. So we use the full BBox. (gdevpdfw.c [1.11]: 2001/04/08 14:12:56
alexcher)

</pre><h2><a name="7.00-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Ghostscript should return to the caller, not exit. Remove exit()
from gp_do_exit() for all platforms except VMS. (gs.c [1.6]: 2001/04/08
08:43:24 ghostgum)
	- Need a cast to (gs_memory_t *) to prevent errors on some
compliers. Change provided by Nelson H. F. Beebe. (zfdctd.c [1.6]:
2001/04/09 05:15:57 rayjj)
	- Setting an ICC color space now invalidates the joint cache, so
that TransformPQR gets computed. The profile is explicitly loaded so that
the TransformPQR procedures have access to the white point. Also, the
photometric interpretation of the hack for /All separation color spaces is
reversed. Fixes Fixed_Original.pdf from Michael Jahn and Adobe tech note
5002_EPSF_Spec.pdf. (zicc.c [1.2]: 2001/04/09 06:09:58 raph)

Updates version number and date in preparation for 7.00 release.
(lib/gs_init.ps [1.34]: 2001/04/09 06:20:03 raph)

</pre><h2><a name="7.00-Library"></a>Library</h2><pre>

Fixes problems:
	- Setting an ICC color space now invalidates the joint cache, so
that TransformPQR gets computed. The profile is explicitly loaded so that
the TransformPQR procedures have access to the white point. Also, the
photometric interpretation of the hack for /All separation color spaces is
reversed. Fixes Fixed_Original.pdf from Michael Jahn and Adobe tech note
5002_EPSF_Spec.pdf. (gscsepr.c [1.9], gsicc.c [1.2], gsicc.h [1.2]:
2001/04/09 06:09:58 raph)

</pre>

<!-- [2.0 end contents] ==================================================== -->

<!-- [3.0 begin visible trailer] =========================================== -->
<hr>

<p>
<small>Copyright &copy; 2001 artofcode LLC.
All rights reserved.</small>

<p>
This software is provided AS-IS with no warranty, either express or
implied.

This software is distributed under license and may not be copied,
modified or distributed except as expressly authorized under the terms
of the license contained in the file LICENSE in this distribution.

For more information about licensing, please refer to
http://www.ghostscript.com/licensing/. For information on
commercial licensing, go to http://www.artifex.com/licensing/ or
contact Artifex Software, Inc., 101 Lucas Valley Road #110,
San Rafael, CA  94903, U.S.A., +1(415)492-9861.

<p>
<small>Ghostscript version 7.30, 7 September 2002

<!-- [3.0 end visible trailer] ============================================= -->

</body>
</html>
