<html><head>
<title>Ghostscript 6.20 change history as of 2000-03-18 21:45:33</title>
</head><body>

<blockquote><ul>
<li><a href="#6.20 Documentation">Documentation</a>,
    <a href="#6.20 Procedures">Procedures</a>,
    <a href="#6.20 Utilities">Utilities</a>,
    <a href="#6.20 Interpreter (PDF)">Interpreter (PDF)</a>,
    <a href="#6.20 Interpreter">Interpreter</a>,
    <a href="#6.20 Streams">Streams</a>,
    <a href="#6.20 Library">Library</a>
</ul>
</ul></blockquote>

<h2><a name="6.20 Documentation"></a>Documentation</h2><pre>

Undoes an accidental RCS ID substitution in what was supposed to be literal
text. (doc/Htmstyle.htm [1.2]: 2000/03/18 22:29:03 lpd)

Increments the version number to 6.20, in anticipation of the next release.
(We do this at the beginning of the development for a release, not the end.)
(doc/History6.htm [1.4], doc/News.htm [1.6]: 2000/03/19 00:27:22 lpd)

Splits out the [T]BCP filter interface into a separate file.
(doc/News.htm [1.7]: 2000/03/19 02:40:18 lpd)

Documents the fact that ImageType 4 images now cause an error for
out-of-range MaskColor values. (doc/News.htm [1.8]: 2000/03/19 04:32:09 lpd)

</pre><h2><a name="6.20 Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- pdfread.dev incorrectly depended on dpsnext_. (int.mak [1.4]:
2000/03/19 02:00:09 lpd)

Increments the version number to 6.20, in anticipation of the next release.
(We do this at the beginning of the development for a release, not the end.)
(version.mak [1.6]: 2000/03/19 00:27:22 lpd)

Adds a pseudo-encoding for the CFF StandardStrings that represent
characters. (devs.mak [1.3], int.mak [1.3], unixinst.mak [1.5]: 2000/03/19
00:38:50 lpd)

Updates makefiles with dependencies for recent changes. (int.mak [1.5],
lib.mak [1.3]: 2000/03/19 05:37:38 lpd)

</pre><h2><a name="6.20 Utilities"></a>Utilities</h2><pre>

Makes geninit remove whitespace adjacent to hex and base-85 string literals.
(geninit.c [1.2]: 2000/03/18 22:51:24 lpd)

</pre><h2><a name="6.20 Interpreter (PDF)"></a>Interpreter (PDF)</h2><pre>

Fixes problems:
	- Reading embedded compressed CIDFonts wasn't implemented.
(lib/pdf_font.ps [1.3]: 2000/03/19 01:28:59 lpd)
	- PDF images with DeviceN color spaces caused an error.
(lib/pdf_draw.ps [1.2]: 2000/03/19 01:44:53 lpd)
	- PDF images with a Mask ignored the mask. (lib/pdf_draw.ps [1.3]:
2000/03/19 01:46:27 lpd)

Adds a lforall procedure for the PDF linearizer. (lib/pdf_base.ps [1.3]:
2000/03/19 01:50:05 lpd)

Changes the PDF interpreter so that following an object reference doesn't
store the result back into the referring slot, and so that # # R always
creates an indirect object. This is necessary for the PDF linearizer. It
shouldn't have any visible effect (other than a possible small performance
cost). (lib/pdf_base.ps [1.4], lib/pdf_draw.ps [1.4]: 2000/03/19 01:53:58
lpd)

</pre><h2><a name="6.20 Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Font substitution was broken. (lib/gs_fonts.ps [1.3]: 2000/03/19
00:22:05 lpd)
	- The CFF reader gave an error if a font included any Subrs (it's
very surprising that this hasn't surfaced before, but apparently Acrobat
Distiller always produces CFF fonts with no Subrs); the CFF reader didn't
default lenIV to -1 for Type 1 CharStrings; the CFF reader wasn't able to
read CIDFonts. (lib/gs_cff.ps [1.3], lib/gs_cidfn.ps [1.4]: 2000/03/19
00:45:40 lpd)
	- EXTEND_NAMES had stopped working, because not all places that
needed the index of a name ref used name_index rather than r_size
(ilocate.c), and because the high_index value in the name sub-table was set
incorrectly (iname.c). (ilocate.c [1.2], iname.c [1.2]: 2000/03/19 01:33:23
lpd)
	- The attribute check for Functions being executed was incorrect
(always succeeded). (zfunc.c [1.2]: 2000/03/19 02:12:37 lpd)
	- s_add_filter didn't ensure enough buffering. This entailed moving
the NullEncode/Decode filters to stream.[hc]. (sfilter1.c [1.2]: 2000/03/19
03:15:02 lpd)
	- The parameters of SubFileDecode filters weren't initialized fully
(required by a change in this version). (zfilter.c [1.3]: 2000/03/19
04:03:45 lpd)
	- The AutoPositionEPSFiles Distiller parameter was misspelled
AutoPositionEPSFile. (lib/gs_pdfwr.ps [1.2]: 2000/03/19 05:03:31 lpd)

Provides a gs_atan2_degrees procedure to parallel sin and cos.
(zmath.c [1.2]: 2000/03/18 23:10:39 lpd)

Speeds up string garbage collection by scanning unmodified string regions
faster. (igcstr.c [1.2]: 2000/03/18 23:29:32 lpd)

Adds the ImagemaskTrapping parameter to the trapping state.
(lib/gs_trap.ps [1.2]: 2000/03/18 23:35:53 lpd)

Increments the version number to 6.20, in anticipation of the next release.
(We do this at the beginning of the development for a release, not the end.)
(lib/gs_init.ps [1.4]: 2000/03/19 00:27:22 lpd)

Adds a pseudo-encoding for the CFF StandardStrings that represent
characters. (lib/gs_cff.ps [1.2], lib/gs_css_e.ps [1.1]: 2000/03/19 00:38:50
lpd)

Refactors the code for getting Type 1/2/4 font parameters so it can be used
for FDArray entries of CIDFontType 0 fonts. (ifont1.h [1.2], zfont1.c [1.2]:
2000/03/19 02:07:45 lpd)

Speeds up Function evaluation slightly, by preallocating space for a
reasonable number of operands and results on the C stack rather than always
allocating it on the heap. (zfunc.c [1.3]: 2000/03/19 02:16:58 lpd)

Adds a public procedure for determining whether a PostScript object is a
Function, and if so, returning the pointer to the gs_function_t structure.
(ifunc.h [1.2], zfunc.c [1.4]: 2000/03/19 02:22:01 lpd)

Splits out the [T]BCP filter interface into a separate file. (zfbcp.c [1.2]:
2000/03/19 02:40:18 lpd)

Adds a skip_count parameter to the SubFileDecode filter, giving the number
of initial bytes or records to skip over. (Needed for printing FunctionType
4 functions, possibly useful for other things.) (sfilter1.c [1.3]:
2000/03/19 03:20:18 lpd)

</pre><h2><a name="6.20 Streams"></a>Streams</h2><pre>

Fixes problems:
	- s_add_filter didn't ensure enough buffering. This entailed moving
the NullEncode/Decode filters to stream.[hc]. (sfilter.h [1.3],
stream.c [1.3], stream.h [1.3]: 2000/03/19 03:15:02 lpd)

Splits out the [T]BCP filter interface into a separate file. (sbcp.c [1.2],
sbcp.h [1.1], sfilter.h [1.2]: 2000/03/19 02:40:18 lpd)

Adds a skip_count parameter to the SubFileDecode filter, giving the number
of initial bytes or records to skip over. (Needed for printing FunctionType
4 functions, possibly useful for other things.) (sfilter.h [1.4]: 2000/03/19
03:20:18 lpd)

</pre><h2><a name="6.20 Library"></a>Library</h2><pre>

Fixes problems:
	- Two comments in the file were incorrect. (gsiparm3.h [1.2]:
2000/03/19 02:46:11 lpd)
	- param_coerce_typed, which works with any parameter list
implementation, was incorrectly described as associated with the default
implementation. (gsparam.h [1.2]: 2000/03/19 03:37:08 lpd)
	- TrueType fonts didn't use vhea/vmtx if WMode = 1. Also makes
gs_font_type42 subclassable, for implementing CIDFontType 2 fonts, and makes
its procedure for getting a glyph's side bearing and width virtual, required
to support MetricsCount in CIDFontType 2 fonts. (gstype42.c [1.3],
gxfont42.h [1.2]: 2000/03/19 03:58:51 lpd)
	- ImageType 4 images didn't give an error for out-of-range MaskColor
values. The file also had an unnecessary #include. (gximage4.c [1.2]:
2000/03/19 04:10:09 lpd)

Provides a gs_atan2_degrees procedure to parallel sin and cos.
(gsmisc.c [1.2], gxfarith.h [1.2]: 2000/03/18 23:10:39 lpd)

Improves the 8x8 bitmap "flipping" procedure to take advantage of 32-bit
ints. (gsutil.c [1.2]: 2000/03/18 23:16:16 lpd)

Adds a public procedure for restricting a color to its legal range.
(gscspace.c [1.2], gscspace.h [1.2], gxcspace.h [1.2]: 2000/03/18 23:19:17
lpd)

Adds the new ImagemaskTrapping parameter to the trapping state.
(gstrap.c [1.2], gstrap.h [1.2]: 2000/03/18 23:26:17 lpd)

Increments the version number to 6.20, in anticipation of the next release.
(We do this at the beginning of the development for a release, not the end.)
(gscdef.c [1.2]: 2000/03/19 00:27:22 lpd)

Adds a pseudo-encoding for the CFF StandardStrings that represent
characters. (gsccode.h [1.2]: 2000/03/19 00:38:50 lpd)

Adds a bit_index procedure to the implementation of device halftones,
required for writing halftones in PDF files. (The only implementors are
internal ones.) (gxdht.h [1.2], gxhtbit.c [1.2]: 2000/03/19 05:10:55 lpd)

Adds a public procedure for getting a palette entry of an Indexed color
space, used when writing Indexed color spaces in PDF files.
(gscindex.h [1.1], gscolor2.c [1.2], gscolor2.h [1.2]: 2000/03/19 05:20:28
lpd)

Reimplements "PostScript calculator" (FunctionType 4) functions entirely in
C, to allow them to be written out in PDF files. (gsfunc4.c [1.1],
gsfunc4.h [1.1], gsstruct.h [1.2]: 2000/03/19 05:25:53 lpd)

</pre></body></html>
